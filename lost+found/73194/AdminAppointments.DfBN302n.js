import{r as js,j as e,t as G}from"./index.C5T5zRsO.js";import{r as c,R as de}from"./index.DVzEiDzO.js";import{c as ee,P as Y,b as ht,u as te,e as De,q as ue,d as dt,g as ft,f as X,r as Vr,a as be,s as Wr,j as re,m as Ne,B,L as oe,C as W,k as K,h as gt,n as F,l as $e,M as At,o as dn,t as Yt,v as qt,w as Gt,x as mn,y as un,z as xn,p as Ur}from"./event-config.BHtFOfrI.js";import{P as Kr,h as Yr,u as qr,R as Gr,F as Xr,D as Jr,C as je,T as Zr,S as Je,A as ns,a as rs,b as as,c as is,d as ls,e as os,f as cs,g as ds,i as Me,j as ms,k as Be,p as It,l as hn,m as Ns,n as Ss}from"./de.BGVpQ6_G.js";import{b as Qr,u as As,c as fn,a as ea,C as gn,A as Cs,X as et,P as ta,U as pn,I as sa,M as na}from"./index.DniIQrdv.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jt=ee("ban",ra);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Js=ee("bell",aa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],la=ee("calendar-days",ia);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ks=ee("chevron-down",oa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],da=ee("chevron-up",ca);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ua=ee("circle-question-mark",ma);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bn=ee("external-link",xa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ct=ee("file-text",ha);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],wt=ee("file-x",fa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pa=ee("funnel",ga);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ze=ee("refresh-cw",ba);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],va=ee("save",wa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ja=ee("search",ya);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Xe=ee("send",Na);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Es=ee("settings",Sa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ca=ee("shield",Aa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ea=ee("square-pen",ka);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mt=ee("trash-2",Ta);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ra=ee("user-plus",Pa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ma=ee("zap",Da);function us(t,[s,n]){return Math.min(n,Math.max(s,t))}const _a=["top","right","bottom","left"],Fe=Math.min,ce=Math.max,kt=Math.round,vt=Math.floor,Ae=t=>({x:t,y:t}),Ia={left:"right",right:"left",bottom:"top",top:"bottom"},La={start:"end",end:"start"};function xs(t,s,n){return ce(t,Fe(s,n))}function _e(t,s){return typeof t=="function"?t(s):t}function Ie(t){return t.split("-")[0]}function nt(t){return t.split("-")[1]}function Ts(t){return t==="x"?"y":"x"}function Ps(t){return t==="y"?"height":"width"}function Se(t){return["top","bottom"].includes(Ie(t))?"y":"x"}function Rs(t){return Ts(Se(t))}function Oa(t,s,n){n===void 0&&(n=!1);const r=nt(t),a=Rs(t),i=Ps(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=Et(l)),[l,Et(l)]}function za(t){const s=Et(t);return[hs(t),s,hs(s)]}function hs(t){return t.replace(/start|end/g,s=>La[s])}function $a(t,s,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?s?a:r:s?r:a;case"left":case"right":return s?i:l;default:return[]}}function Ba(t,s,n,r){const a=nt(t);let i=$a(Ie(t),n==="start",r);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(hs)))),i}function Et(t){return t.replace(/left|right|bottom|top/g,s=>Ia[s])}function Fa(t){return{top:0,right:0,bottom:0,left:0,...t}}function wn(t){return typeof t!="number"?Fa(t):{top:t,right:t,bottom:t,left:t}}function Tt(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function Zs(t,s,n){let{reference:r,floating:a}=t;const i=Se(s),l=Rs(s),o=Ps(l),d=Ie(s),m=i==="y",u=r.x+r.width/2-a.width/2,x=r.y+r.height/2-a.height/2,f=r[o]/2-a[o]/2;let h;switch(d){case"top":h={x:u,y:r.y-a.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:x};break;case"left":h={x:r.x-a.width,y:x};break;default:h={x:r.x,y:r.y}}switch(nt(s)){case"start":h[l]-=f*(n&&m?-1:1);break;case"end":h[l]+=f*(n&&m?-1:1);break}return h}const Ha=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,o=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(s));let m=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:x}=Zs(m,r,d),f=r,h={},p=0;for(let g=0;g<o.length;g++){const{name:w,fn:v}=o[g],{x:b,y:j,data:k,reset:C}=await v({x:u,y:x,initialPlacement:r,placement:f,strategy:a,middlewareData:h,rects:m,platform:l,elements:{reference:t,floating:s}});u=b??u,x=j??x,h={...h,[w]:{...h[w],...k}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(m=C.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):C.rects),{x:u,y:x}=Zs(m,f,d)),g=-1)}return{x:u,y:x,placement:f,strategy:a,middlewareData:h}};async function ut(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:l,elements:o,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:u="viewport",elementContext:x="floating",altBoundary:f=!1,padding:h=0}=_e(s,t),p=wn(h),w=o[f?x==="floating"?"reference":"floating":x],v=Tt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:m,rootBoundary:u,strategy:d})),b=x==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),k=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},C=Tt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:j,strategy:d}):b);return{top:(v.top-C.top+p.top)/k.y,bottom:(C.bottom-v.bottom+p.bottom)/k.y,left:(v.left-C.left+p.left)/k.x,right:(C.right-v.right+p.right)/k.x}}const Va=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:l,elements:o,middlewareData:d}=s,{element:m,padding:u=0}=_e(t,s)||{};if(m==null)return{};const x=wn(u),f={x:n,y:r},h=Rs(a),p=Ps(h),g=await l.getDimensions(m),w=h==="y",v=w?"top":"left",b=w?"bottom":"right",j=w?"clientHeight":"clientWidth",k=i.reference[p]+i.reference[h]-f[h]-i.floating[p],C=f[h]-i.reference[h],_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let E=_?_[j]:0;(!E||!await(l.isElement==null?void 0:l.isElement(_)))&&(E=o.floating[j]||i.floating[p]);const I=k/2-C/2,N=E/2-g[p]/2-1,S=Fe(x[v],N),D=Fe(x[b],N),T=S,P=E-g[p]-D,A=E/2-g[p]/2+I,L=xs(T,A,P),z=!d.arrow&&nt(a)!=null&&A!==L&&i.reference[p]/2-(A<T?S:D)-g[p]/2<0,$=z?A<T?A-T:A-P:0;return{[h]:f[h]+$,data:{[h]:L,centerOffset:A-L-$,...z&&{alignmentOffset:$}},reset:z}}}),Wa=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:d,elements:m}=s,{mainAxis:u=!0,crossAxis:x=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...w}=_e(t,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ie(a),b=Se(o),j=Ie(o)===o,k=await(d.isRTL==null?void 0:d.isRTL(m.floating)),C=f||(j||!g?[Et(o)]:za(o)),_=p!=="none";!f&&_&&C.push(...Ba(o,g,p,k));const E=[o,...C],I=await ut(s,w),N=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&N.push(I[v]),x){const A=Oa(a,l,k);N.push(I[A[0]],I[A[1]])}if(S=[...S,{placement:a,overflows:N}],!N.every(A=>A<=0)){var D,T;const A=(((D=i.flip)==null?void 0:D.index)||0)+1,L=E[A];if(L&&(!(x==="alignment"?b!==Se(L):!1)||S.every(R=>R.overflows[0]>0&&Se(R.placement)===b)))return{data:{index:A,overflows:S},reset:{placement:L}};let z=(T=S.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(h){case"bestFit":{var P;const $=(P=S.filter(R=>{if(_){const H=Se(R.placement);return H===b||H==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(H=>H>0).reduce((H,ae)=>H+ae,0)]).sort((R,H)=>R[1]-H[1])[0])==null?void 0:P[0];$&&(z=$);break}case"initialPlacement":z=o;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function Qs(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function en(t){return _a.some(s=>t[s]>=0)}const Ua=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=_e(t,s);switch(r){case"referenceHidden":{const i=await ut(s,{...a,elementContext:"reference"}),l=Qs(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:en(l)}}}case"escaped":{const i=await ut(s,{...a,altBoundary:!0}),l=Qs(i,n.floating);return{data:{escapedOffsets:l,escaped:en(l)}}}default:return{}}}}};async function Ka(t,s){const{placement:n,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Ie(n),o=nt(n),d=Se(n)==="y",m=["left","top"].includes(l)?-1:1,u=i&&d?-1:1,x=_e(s,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),d?{x:h*u,y:f*m}:{x:f*m,y:h*u}}const Ya=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:i,placement:l,middlewareData:o}=s,d=await Ka(s,t);return l===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},qa=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:w=>{let{x:v,y:b}=w;return{x:v,y:b}}},...d}=_e(t,s),m={x:n,y:r},u=await ut(s,d),x=Se(Ie(a)),f=Ts(x);let h=m[f],p=m[x];if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=h+u[w],j=h-u[v];h=xs(b,h,j)}if(l){const w=x==="y"?"top":"left",v=x==="y"?"bottom":"right",b=p+u[w],j=p-u[v];p=xs(b,p,j)}const g=o.fn({...s,[f]:h,[x]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[x]:l}}}}}},Ga=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:d=!0,crossAxis:m=!0}=_e(t,s),u={x:n,y:r},x=Se(a),f=Ts(x);let h=u[f],p=u[x];const g=_e(o,s),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(d){const j=f==="y"?"height":"width",k=i.reference[f]-i.floating[j]+w.mainAxis,C=i.reference[f]+i.reference[j]-w.mainAxis;h<k?h=k:h>C&&(h=C)}if(m){var v,b;const j=f==="y"?"width":"height",k=["top","left"].includes(Ie(a)),C=i.reference[x]-i.floating[j]+(k&&((v=l.offset)==null?void 0:v[x])||0)+(k?0:w.crossAxis),_=i.reference[x]+i.reference[j]+(k?0:((b=l.offset)==null?void 0:b[x])||0)-(k?w.crossAxis:0);p<C?p=C:p>_&&(p=_)}return{[f]:h,[x]:p}}}},Xa=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:d=()=>{},...m}=_e(t,s),u=await ut(s,m),x=Ie(a),f=nt(a),h=Se(a)==="y",{width:p,height:g}=i.floating;let w,v;x==="top"||x==="bottom"?(w=x,v=f===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(v=x,w=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,j=p-u.left-u.right,k=Fe(g-u[w],b),C=Fe(p-u[v],j),_=!s.middlewareData.shift;let E=k,I=C;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(I=j),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(E=b),_&&!f){const S=ce(u.left,0),D=ce(u.right,0),T=ce(u.top,0),P=ce(u.bottom,0);h?I=p-2*(S!==0||D!==0?S+D:ce(u.left,u.right)):E=g-2*(T!==0||P!==0?T+P:ce(u.top,u.bottom))}await d({...s,availableWidth:I,availableHeight:E});const N=await l.getDimensions(o.floating);return p!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Lt(){return typeof window<"u"}function rt(t){return vn(t)?(t.nodeName||"").toLowerCase():"#document"}function me(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function ke(t){var s;return(s=(vn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function vn(t){return Lt()?t instanceof Node||t instanceof me(t).Node:!1}function we(t){return Lt()?t instanceof Element||t instanceof me(t).Element:!1}function Ce(t){return Lt()?t instanceof HTMLElement||t instanceof me(t).HTMLElement:!1}function tn(t){return!Lt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof me(t).ShadowRoot}function pt(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=ve(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!["inline","contents"].includes(a)}function Ja(t){return["table","td","th"].includes(rt(t))}function Ot(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function Ds(t){const s=Ms(),n=we(t)?ve(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Za(t){let s=He(t);for(;Ce(s)&&!tt(s);){if(Ds(s))return s;if(Ot(s))return null;s=He(s)}return null}function Ms(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tt(t){return["html","body","#document"].includes(rt(t))}function ve(t){return me(t).getComputedStyle(t)}function zt(t){return we(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function He(t){if(rt(t)==="html")return t;const s=t.assignedSlot||t.parentNode||tn(t)&&t.host||ke(t);return tn(s)?s.host:s}function yn(t){const s=He(t);return tt(s)?t.ownerDocument?t.ownerDocument.body:t.body:Ce(s)&&pt(s)?s:yn(s)}function xt(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=yn(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=me(a);if(i){const o=fs(l);return s.concat(l,l.visualViewport||[],pt(a)?a:[],o&&n?xt(o):[])}return s.concat(a,xt(a,[],n))}function fs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jn(t){const s=ve(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=Ce(t),i=a?t.offsetWidth:n,l=a?t.offsetHeight:r,o=kt(n)!==i||kt(r)!==l;return o&&(n=i,r=l),{width:n,height:r,$:o}}function _s(t){return we(t)?t:t.contextElement}function Qe(t){const s=_s(t);if(!Ce(s))return Ae(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=jn(s);let l=(i?kt(n.width):n.width)/r,o=(i?kt(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const Qa=Ae(0);function Nn(t){const s=me(t);return!Ms()||!s.visualViewport?Qa:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function ei(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==me(t)?!1:s}function Ke(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=_s(t);let l=Ae(1);s&&(r?we(r)&&(l=Qe(r)):l=Qe(t));const o=ei(i,n,r)?Nn(i):Ae(0);let d=(a.left+o.x)/l.x,m=(a.top+o.y)/l.y,u=a.width/l.x,x=a.height/l.y;if(i){const f=me(i),h=r&&we(r)?me(r):r;let p=f,g=fs(p);for(;g&&r&&h!==p;){const w=Qe(g),v=g.getBoundingClientRect(),b=ve(g),j=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*w.x,k=v.top+(g.clientTop+parseFloat(b.paddingTop))*w.y;d*=w.x,m*=w.y,u*=w.x,x*=w.y,d+=j,m+=k,p=me(g),g=fs(p)}}return Tt({width:u,height:x,x:d,y:m})}function Is(t,s){const n=zt(t).scrollLeft;return s?s.left+n:Ke(ke(t)).left+n}function Sn(t,s,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=r.left+s.scrollLeft-(n?0:Is(t,r)),i=r.top+s.scrollTop;return{x:a,y:i}}function ti(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const i=a==="fixed",l=ke(r),o=s?Ot(s.floating):!1;if(r===l||o&&i)return n;let d={scrollLeft:0,scrollTop:0},m=Ae(1);const u=Ae(0),x=Ce(r);if((x||!x&&!i)&&((rt(r)!=="body"||pt(l))&&(d=zt(r)),Ce(r))){const h=Ke(r);m=Qe(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=l&&!x&&!i?Sn(l,d,!0):Ae(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+u.x+f.x,y:n.y*m.y-d.scrollTop*m.y+u.y+f.y}}function si(t){return Array.from(t.getClientRects())}function ni(t){const s=ke(t),n=zt(t),r=t.ownerDocument.body,a=ce(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=ce(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Is(t);const o=-n.scrollTop;return ve(r).direction==="rtl"&&(l+=ce(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:o}}function ri(t,s){const n=me(t),r=ke(t),a=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,o=0,d=0;if(a){i=a.width,l=a.height;const m=Ms();(!m||m&&s==="fixed")&&(o=a.offsetLeft,d=a.offsetTop)}return{width:i,height:l,x:o,y:d}}function ai(t,s){const n=Ke(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,i=Ce(t)?Qe(t):Ae(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,d=a*i.x,m=r*i.y;return{width:l,height:o,x:d,y:m}}function sn(t,s,n){let r;if(s==="viewport")r=ri(t,n);else if(s==="document")r=ni(ke(t));else if(we(s))r=ai(s,n);else{const a=Nn(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Tt(r)}function An(t,s){const n=He(t);return n===s||!we(n)||tt(n)?!1:ve(n).position==="fixed"||An(n,s)}function ii(t,s){const n=s.get(t);if(n)return n;let r=xt(t,[],!1).filter(o=>we(o)&&rt(o)!=="body"),a=null;const i=ve(t).position==="fixed";let l=i?He(t):t;for(;we(l)&&!tt(l);){const o=ve(l),d=Ds(l);!d&&o.position==="fixed"&&(a=null),(i?!d&&!a:!d&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||pt(l)&&!d&&An(t,l))?r=r.filter(u=>u!==l):a=o,l=He(l)}return s.set(t,r),r}function li(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const l=[...n==="clippingAncestors"?Ot(s)?[]:ii(s,this._c):[].concat(n),r],o=l[0],d=l.reduce((m,u)=>{const x=sn(s,u,a);return m.top=ce(x.top,m.top),m.right=Fe(x.right,m.right),m.bottom=Fe(x.bottom,m.bottom),m.left=ce(x.left,m.left),m},sn(s,o,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function oi(t){const{width:s,height:n}=jn(t);return{width:s,height:n}}function ci(t,s,n){const r=Ce(s),a=ke(s),i=n==="fixed",l=Ke(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const d=Ae(0);function m(){d.x=Is(a)}if(r||!r&&!i)if((rt(s)!=="body"||pt(a))&&(o=zt(s)),r){const h=Ke(s,!0,i,s);d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}else a&&m();i&&!r&&a&&m();const u=a&&!r&&!i?Sn(a,o):Ae(0),x=l.left+o.scrollLeft-d.x-u.x,f=l.top+o.scrollTop-d.y-u.y;return{x,y:f,width:l.width,height:l.height}}function Xt(t){return ve(t).position==="static"}function nn(t,s){if(!Ce(t)||ve(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return ke(t)===n&&(n=n.ownerDocument.body),n}function Cn(t,s){const n=me(t);if(Ot(t))return n;if(!Ce(t)){let a=He(t);for(;a&&!tt(a);){if(we(a)&&!Xt(a))return a;a=He(a)}return n}let r=nn(t,s);for(;r&&Ja(r)&&Xt(r);)r=nn(r,s);return r&&tt(r)&&Xt(r)&&!Ds(r)?n:r||Za(t)||n}const di=async function(t){const s=this.getOffsetParent||Cn,n=this.getDimensions,r=await n(t.floating);return{reference:ci(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mi(t){return ve(t).direction==="rtl"}const ui={convertOffsetParentRelativeRectToViewportRelativeRect:ti,getDocumentElement:ke,getClippingRect:li,getOffsetParent:Cn,getElementRects:di,getClientRects:si,getDimensions:oi,getScale:Qe,isElement:we,isRTL:mi};function kn(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function xi(t,s){let n=null,r;const a=ke(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function l(o,d){o===void 0&&(o=!1),d===void 0&&(d=1),i();const m=t.getBoundingClientRect(),{left:u,top:x,width:f,height:h}=m;if(o||s(),!f||!h)return;const p=vt(x),g=vt(a.clientWidth-(u+f)),w=vt(a.clientHeight-(x+h)),v=vt(u),j={rootMargin:-p+"px "+-g+"px "+-w+"px "+-v+"px",threshold:ce(0,Fe(1,d))||1};let k=!0;function C(_){const E=_[0].intersectionRatio;if(E!==d){if(!k)return l();E?l(!1,E):r=setTimeout(()=>{l(!1,1e-7)},1e3)}E===1&&!kn(m,t.getBoundingClientRect())&&l(),k=!1}try{n=new IntersectionObserver(C,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(C,j)}n.observe(t)}return l(!0),i}function hi(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=_s(t),u=a||i?[...m?xt(m):[],...xt(s)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const x=m&&o?xi(m,n):null;let f=-1,h=null;l&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===m&&h&&(h.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(s)})),n()}),m&&!d&&h.observe(m),h.observe(s));let p,g=d?Ke(t):null;d&&w();function w(){const v=Ke(t);g&&!kn(g,v)&&n(),g=v,p=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),x?.(),(v=h)==null||v.disconnect(),h=null,d&&cancelAnimationFrame(p)}}const fi=Ya,gi=qa,pi=Wa,bi=Xa,wi=Ua,rn=Va,vi=Ga,yi=(t,s,n)=>{const r=new Map,a={platform:ui,...n},i={...a.platform,_c:r};return Ha(t,s,{...a,platform:i})};var ji=typeof document<"u",Ni=function(){},Nt=ji?c.useLayoutEffect:Ni;function Pt(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!Pt(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!Pt(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function En(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function an(t,s){const n=En(t);return Math.round(s*n)/n}function Jt(t){const s=c.useRef(t);return Nt(()=>{s.current=t}),s}function Si(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:d,open:m}=t,[u,x]=c.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[f,h]=c.useState(r);Pt(f,r)||h(r);const[p,g]=c.useState(null),[w,v]=c.useState(null),b=c.useCallback(R=>{R!==_.current&&(_.current=R,g(R))},[]),j=c.useCallback(R=>{R!==E.current&&(E.current=R,v(R))},[]),k=i||p,C=l||w,_=c.useRef(null),E=c.useRef(null),I=c.useRef(u),N=d!=null,S=Jt(d),D=Jt(a),T=Jt(m),P=c.useCallback(()=>{if(!_.current||!E.current)return;const R={placement:s,strategy:n,middleware:f};D.current&&(R.platform=D.current),yi(_.current,E.current,R).then(H=>{const ae={...H,isPositioned:T.current!==!1};A.current&&!Pt(I.current,ae)&&(I.current=ae,js.flushSync(()=>{x(ae)}))})},[f,s,n,D,T]);Nt(()=>{m===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,x(R=>({...R,isPositioned:!1})))},[m]);const A=c.useRef(!1);Nt(()=>(A.current=!0,()=>{A.current=!1}),[]),Nt(()=>{if(k&&(_.current=k),C&&(E.current=C),k&&C){if(S.current)return S.current(k,C,P);P()}},[k,C,P,S,N]);const L=c.useMemo(()=>({reference:_,floating:E,setReference:b,setFloating:j}),[b,j]),z=c.useMemo(()=>({reference:k,floating:C}),[k,C]),$=c.useMemo(()=>{const R={position:n,left:0,top:0};if(!z.floating)return R;const H=an(z.floating,u.x),ae=an(z.floating,u.y);return o?{...R,transform:"translate("+H+"px, "+ae+"px)",...En(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:ae}},[n,o,z.floating,u.x,u.y]);return c.useMemo(()=>({...u,update:P,refs:L,elements:z,floatingStyles:$}),[u,P,L,z,$])}const Ai=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?rn({element:r.current,padding:a}).fn(n):{}:r?rn({element:r,padding:a}).fn(n):{}}}},Ci=(t,s)=>({...fi(t),options:[t,s]}),ki=(t,s)=>({...gi(t),options:[t,s]}),Ei=(t,s)=>({...vi(t),options:[t,s]}),Ti=(t,s)=>({...pi(t),options:[t,s]}),Pi=(t,s)=>({...bi(t),options:[t,s]}),Ri=(t,s)=>({...wi(t),options:[t,s]}),Di=(t,s)=>({...Ai(t),options:[t,s]});var Mi="Arrow",Tn=c.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...i}=t;return e.jsx(Y.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tn.displayName=Mi;var _i=Tn,Ls="Popper",[Pn,Rn]=ht(Ls),[Ii,Dn]=Pn(Ls),Mn=t=>{const{__scopePopper:s,children:n}=t,[r,a]=c.useState(null);return e.jsx(Ii,{scope:s,anchor:r,onAnchorChange:a,children:n})};Mn.displayName=Ls;var _n="PopperAnchor",In=c.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=Dn(_n,n),l=c.useRef(null),o=te(s,l);return c.useEffect(()=>{i.onAnchorChange(r?.current||l.current)}),r?null:e.jsx(Y.div,{...a,ref:o})});In.displayName=_n;var Os="PopperContent",[Li,Oi]=Pn(Os),Ln=c.forwardRef((t,s)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:u=0,sticky:x="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,w=Dn(Os,n),[v,b]=c.useState(null),j=te(s,M=>b(M)),[k,C]=c.useState(null),_=Qr(k),E=_?.width??0,I=_?.height??0,N=r+(i!=="center"?"-"+i:""),S=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(m)?m:[m],T=D.length>0,P={padding:S,boundary:D.filter($i),altBoundary:T},{refs:A,floatingStyles:L,placement:z,isPositioned:$,middlewareData:R}=Si({strategy:"fixed",placement:N,whileElementsMounted:(...M)=>hi(...M,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[Ci({mainAxis:a+I,alignmentAxis:l}),d&&ki({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?Ei():void 0,...P}),d&&Ti({...P}),Pi({...P,apply:({elements:M,rects:J,availableWidth:se,availableHeight:V})=>{const{width:q,height:Z}=J.reference,ie=M.floating.style;ie.setProperty("--radix-popper-available-width",`${se}px`),ie.setProperty("--radix-popper-available-height",`${V}px`),ie.setProperty("--radix-popper-anchor-width",`${q}px`),ie.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),k&&Di({element:k,padding:o}),Bi({arrowWidth:E,arrowHeight:I}),f&&Ri({strategy:"referenceHidden",...P})]}),[H,ae]=$n(z),Te=De(p);ue(()=>{$&&Te?.()},[$,Te]);const Ge=R.arrow?.x,Ue=R.arrow?.y,Pe=R.arrow?.centerOffset!==0,[Le,Oe]=c.useState();return ue(()=>{v&&Oe(window.getComputedStyle(v).zIndex)},[v]),e.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Li,{scope:n,placedSide:H,onArrowChange:C,arrowX:Ge,arrowY:Ue,shouldHideArrow:Pe,children:e.jsx(Y.div,{"data-side":H,"data-align":ae,...g,ref:j,style:{...g.style,animation:$?void 0:"none"}})})})});Ln.displayName=Os;var On="PopperArrow",zi={top:"bottom",right:"left",bottom:"top",left:"right"},zn=c.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=Oi(On,r),l=zi[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(_i,{...a,ref:n,style:{...a.style,display:"block"}})})});zn.displayName=On;function $i(t){return t!==null}var Bi=t=>({name:"transformOrigin",options:t,fn(s){const{placement:n,rects:r,middlewareData:a}=s,l=a.arrow?.centerOffset!==0,o=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[m,u]=$n(n),x={start:"0%",center:"50%",end:"100%"}[u],f=(a.arrow?.x??0)+o/2,h=(a.arrow?.y??0)+d/2;let p="",g="";return m==="bottom"?(p=l?x:`${f}px`,g=`${-d}px`):m==="top"?(p=l?x:`${f}px`,g=`${r.floating.height+d}px`):m==="right"?(p=`${-d}px`,g=l?x:`${h}px`):m==="left"&&(p=`${r.floating.width+d}px`,g=l?x:`${h}px`),{data:{x:p,y:g}}}});function $n(t){const[s,n="center"]=t.split("-");return[s,n]}var Fi=Mn,Hi=In,Vi=Ln,Wi=zn,Bn=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ui="VisuallyHidden",Ki=c.forwardRef((t,s)=>e.jsx(Y.span,{...t,ref:s,style:{...Bn,...t.style}}));Ki.displayName=Ui;var Yi=[" ","Enter","ArrowUp","ArrowDown"],qi=[" ","Enter"],Ye="Select",[$t,Bt,Gi]=fn(Ye),[at,_o]=ht(Ye,[Gi,Rn]),Ft=Rn(),[Xi,Ve]=at(Ye),[Ji,Zi]=at(Ye),Fn=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:d,dir:m,name:u,autoComplete:x,disabled:f,required:h,form:p}=t,g=Ft(s),[w,v]=c.useState(null),[b,j]=c.useState(null),[k,C]=c.useState(!1),_=As(m),[E,I]=dt({prop:r,defaultProp:a??!1,onChange:i,caller:Ye}),[N,S]=dt({prop:l,defaultProp:o,onChange:d,caller:Ye}),D=c.useRef(null),T=w?p||!!w.closest("form"):!0,[P,A]=c.useState(new Set),L=Array.from(P).map(z=>z.props.value).join(";");return e.jsx(Fi,{...g,children:e.jsxs(Xi,{required:h,scope:s,trigger:w,onTriggerChange:v,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:ft(),value:N,onValueChange:S,open:E,onOpenChange:I,dir:_,triggerPointerDownPosRef:D,disabled:f,children:[e.jsx($t.Provider,{scope:s,children:e.jsx(Ji,{scope:t.__scopeSelect,onNativeOptionAdd:c.useCallback(z=>{A($=>new Set($).add(z))},[]),onNativeOptionRemove:c.useCallback(z=>{A($=>{const R=new Set($);return R.delete(z),R})},[]),children:n})}),T?e.jsxs(cr,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:x,value:N,onChange:z=>S(z.target.value),disabled:f,form:p,children:[N===void 0?e.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};Fn.displayName=Ye;var Hn="SelectTrigger",Vn=c.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=Ft(n),l=Ve(Hn,n),o=l.disabled||r,d=te(s,l.onTriggerChange),m=Bt(n),u=c.useRef("touch"),[x,f,h]=mr(g=>{const w=m().filter(j=>!j.disabled),v=w.find(j=>j.value===l.value),b=ur(w,g,v);b!==void 0&&l.onValueChange(b.value)}),p=g=>{o||(l.onOpenChange(!0),h()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(Hi,{asChild:!0,...i,children:e.jsx(Y.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":dr(l.value)?"":void 0,...a,ref:d,onClick:X(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:X(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:X(a.onKeyDown,g=>{const w=x.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(w&&g.key===" ")&&Yi.includes(g.key)&&(p(),g.preventDefault())})})})});Vn.displayName=Hn;var Wn="SelectValue",Un=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:l="",...o}=t,d=Ve(Wn,n),{onValueNodeHasChildrenChange:m}=d,u=i!==void 0,x=te(s,d.onValueNodeChange);return ue(()=>{m(u)},[m,u]),e.jsx(Y.span,{...o,ref:x,style:{pointerEvents:"none"},children:dr(d.value)?e.jsx(e.Fragment,{children:l}):i})});Un.displayName=Wn;var Qi="SelectIcon",Kn=c.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx(Y.span,{"aria-hidden":!0,...a,ref:s,children:r||"â–¼"})});Kn.displayName=Qi;var el="SelectPortal",Yn=t=>e.jsx(Kr,{asChild:!0,...t});Yn.displayName=el;var qe="SelectContent",qn=c.forwardRef((t,s)=>{const n=Ve(qe,t.__scopeSelect),[r,a]=c.useState();if(ue(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?js.createPortal(e.jsx(Gn,{scope:t.__scopeSelect,children:e.jsx($t.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Xn,{...t,ref:s})});qn.displayName=qe;var pe=10,[Gn,We]=at(qe),tl="SelectContentImpl",sl=Vr("SelectContent.RemoveScroll"),Xn=c.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:d,align:m,alignOffset:u,arrowPadding:x,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:w,...v}=t,b=Ve(qe,n),[j,k]=c.useState(null),[C,_]=c.useState(null),E=te(s,M=>k(M)),[I,N]=c.useState(null),[S,D]=c.useState(null),T=Bt(n),[P,A]=c.useState(!1),L=c.useRef(!1);c.useEffect(()=>{if(j)return Yr(j)},[j]),qr();const z=c.useCallback(M=>{const[J,...se]=T().map(Z=>Z.ref.current),[V]=se.slice(-1),q=document.activeElement;for(const Z of M)if(Z===q||(Z?.scrollIntoView({block:"nearest"}),Z===J&&C&&(C.scrollTop=0),Z===V&&C&&(C.scrollTop=C.scrollHeight),Z?.focus(),document.activeElement!==q))return},[T,C]),$=c.useCallback(()=>z([I,j]),[z,I,j]);c.useEffect(()=>{P&&$()},[P,$]);const{onOpenChange:R,triggerPointerDownPosRef:H}=b;c.useEffect(()=>{if(j){let M={x:0,y:0};const J=V=>{M={x:Math.abs(Math.round(V.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(V.pageY)-(H.current?.y??0))}},se=V=>{M.x<=10&&M.y<=10?V.preventDefault():j.contains(V.target)||R(!1),document.removeEventListener("pointermove",J),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",se,{capture:!0})}}},[j,R,H]),c.useEffect(()=>{const M=()=>R(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[R]);const[ae,Te]=mr(M=>{const J=T().filter(q=>!q.disabled),se=J.find(q=>q.ref.current===document.activeElement),V=ur(J,M,se);V&&setTimeout(()=>V.ref.current.focus())}),Ge=c.useCallback((M,J,se)=>{const V=!L.current&&!se;(b.value!==void 0&&b.value===J||V)&&(N(M),V&&(L.current=!0))},[b.value]),Ue=c.useCallback(()=>j?.focus(),[j]),Pe=c.useCallback((M,J,se)=>{const V=!L.current&&!se;(b.value!==void 0&&b.value===J||V)&&D(M)},[b.value]),Le=r==="popper"?gs:Jn,Oe=Le===gs?{side:o,sideOffset:d,align:m,alignOffset:u,arrowPadding:x,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:w}:{};return e.jsx(Gn,{scope:n,content:j,viewport:C,onViewportChange:_,itemRefCallback:Ge,selectedItem:I,onItemLeave:Ue,itemTextRefCallback:Pe,focusSelectedItem:$,selectedItemText:S,position:r,isPositioned:P,searchRef:ae,children:e.jsx(Gr,{as:sl,allowPinchZoom:!0,children:e.jsx(Xr,{asChild:!0,trapped:b.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:X(a,M=>{b.trigger?.focus({preventScroll:!0}),M.preventDefault()}),children:e.jsx(Jr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(Le,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:M=>M.preventDefault(),...v,...Oe,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:X(v.onKeyDown,M=>{const J=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!J&&M.key.length===1&&Te(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let V=T().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(M.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const q=M.target,Z=V.indexOf(q);V=V.slice(Z+1)}setTimeout(()=>z(V)),M.preventDefault()}})})})})})})});Xn.displayName=tl;var nl="SelectItemAlignedPosition",Jn=c.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=Ve(qe,n),l=We(qe,n),[o,d]=c.useState(null),[m,u]=c.useState(null),x=te(s,E=>u(E)),f=Bt(n),h=c.useRef(!1),p=c.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:b}=l,j=c.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&m&&g&&w&&v){const E=i.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),S=v.getBoundingClientRect();if(i.dir!=="rtl"){const q=S.left-I.left,Z=N.left-q,ie=E.left-Z,Re=E.width+ie,it=Math.max(Re,I.width),lt=window.innerWidth-pe,bt=us(Z,[pe,Math.max(pe,lt-it)]);o.style.minWidth=Re+"px",o.style.left=bt+"px"}else{const q=I.right-S.right,Z=window.innerWidth-N.right-q,ie=window.innerWidth-E.right-Z,Re=E.width+ie,it=Math.max(Re,I.width),lt=window.innerWidth-pe,bt=us(Z,[pe,Math.max(pe,lt-it)]);o.style.minWidth=Re+"px",o.style.right=bt+"px"}const D=f(),T=window.innerHeight-pe*2,P=g.scrollHeight,A=window.getComputedStyle(m),L=parseInt(A.borderTopWidth,10),z=parseInt(A.paddingTop,10),$=parseInt(A.borderBottomWidth,10),R=parseInt(A.paddingBottom,10),H=L+z+P+R+$,ae=Math.min(w.offsetHeight*5,H),Te=window.getComputedStyle(g),Ge=parseInt(Te.paddingTop,10),Ue=parseInt(Te.paddingBottom,10),Pe=E.top+E.height/2-pe,Le=T-Pe,Oe=w.offsetHeight/2,M=w.offsetTop+Oe,J=L+z+M,se=H-J;if(J<=Pe){const q=D.length>0&&w===D[D.length-1].ref.current;o.style.bottom="0px";const Z=m.clientHeight-g.offsetTop-g.offsetHeight,ie=Math.max(Le,Oe+(q?Ue:0)+Z+$),Re=J+ie;o.style.height=Re+"px"}else{const q=D.length>0&&w===D[0].ref.current;o.style.top="0px";const ie=Math.max(Pe,L+g.offsetTop+(q?Ge:0)+Oe)+se;o.style.height=ie+"px",g.scrollTop=J-Pe+g.offsetTop}o.style.margin=`${pe}px 0`,o.style.minHeight=ae+"px",o.style.maxHeight=T+"px",r?.(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,o,m,g,w,v,i.dir,r]);ue(()=>j(),[j]);const[k,C]=c.useState();ue(()=>{m&&C(window.getComputedStyle(m).zIndex)},[m]);const _=c.useCallback(E=>{E&&p.current===!0&&(j(),b?.(),p.current=!1)},[j,b]);return e.jsx(al,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(Y.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Jn.displayName=nl;var rl="SelectPopperPosition",gs=c.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=pe,...i}=t,l=Ft(n);return e.jsx(Vi,{...l,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gs.displayName=rl;var[al,zs]=at(qe,{}),ps="SelectViewport",Zn=c.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,i=We(ps,n),l=zs(ps,n),o=te(s,i.onViewportChange),d=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx($t.Slot,{scope:n,children:e.jsx(Y.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:X(a.onScroll,m=>{const u=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:f}=l;if(f?.current&&x){const h=Math.abs(d.current-u.scrollTop);if(h>0){const p=window.innerHeight-pe*2,g=parseFloat(x.style.minHeight),w=parseFloat(x.style.height),v=Math.max(g,w);if(v<p){const b=v+h,j=Math.min(p,b),k=b-j;x.style.height=j+"px",x.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,x.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});Zn.displayName=ps;var Qn="SelectGroup",[il,ll]=at(Qn),ol=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=ft();return e.jsx(il,{scope:n,id:a,children:e.jsx(Y.div,{role:"group","aria-labelledby":a,...r,ref:s})})});ol.displayName=Qn;var er="SelectLabel",cl=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=ll(er,n);return e.jsx(Y.div,{id:a.id,...r,ref:s})});cl.displayName=er;var Rt="SelectItem",[dl,tr]=at(Rt),sr=c.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...l}=t,o=Ve(Rt,n),d=We(Rt,n),m=o.value===r,[u,x]=c.useState(i??""),[f,h]=c.useState(!1),p=te(s,b=>d.itemRefCallback?.(b,r,a)),g=ft(),w=c.useRef("touch"),v=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(dl,{scope:n,value:r,disabled:a,textId:g,isSelected:m,onItemTextChange:c.useCallback(b=>{x(j=>j||(b?.textContent??"").trim())},[]),children:e.jsx($t.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:e.jsx(Y.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":m&&f,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:p,onFocus:X(l.onFocus,()=>h(!0)),onBlur:X(l.onBlur,()=>h(!1)),onClick:X(l.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:X(l.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:X(l.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:X(l.onPointerMove,b=>{w.current=b.pointerType,a?d.onItemLeave?.():w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(l.onPointerLeave,b=>{b.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:X(l.onKeyDown,b=>{d.searchRef?.current!==""&&b.key===" "||(qi.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});sr.displayName=Rt;var ct="SelectItemText",nr=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,l=Ve(ct,n),o=We(ct,n),d=tr(ct,n),m=Zi(ct,n),[u,x]=c.useState(null),f=te(s,v=>x(v),d.onItemTextChange,v=>o.itemTextRefCallback?.(v,d.value,d.disabled)),h=u?.textContent,p=c.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=m;return ue(()=>(g(p),()=>w(p)),[g,w,p]),e.jsxs(e.Fragment,{children:[e.jsx(Y.span,{id:d.textId,...i,ref:f}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?js.createPortal(i.children,l.valueNode):null]})});nr.displayName=ct;var rr="SelectItemIndicator",ar=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return tr(rr,n).isSelected?e.jsx(Y.span,{"aria-hidden":!0,...r,ref:s}):null});ar.displayName=rr;var bs="SelectScrollUpButton",ir=c.forwardRef((t,s)=>{const n=We(bs,t.__scopeSelect),r=zs(bs,t.__scopeSelect),[a,i]=c.useState(!1),l=te(s,r.onScrollButtonChange);return ue(()=>{if(n.viewport&&n.isPositioned){let o=function(){const m=d.scrollTop>0;i(m)};const d=n.viewport;return o(),d.addEventListener("scroll",o),()=>d.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(or,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:d}=n;o&&d&&(o.scrollTop=o.scrollTop-d.offsetHeight)}}):null});ir.displayName=bs;var ws="SelectScrollDownButton",lr=c.forwardRef((t,s)=>{const n=We(ws,t.__scopeSelect),r=zs(ws,t.__scopeSelect),[a,i]=c.useState(!1),l=te(s,r.onScrollButtonChange);return ue(()=>{if(n.viewport&&n.isPositioned){let o=function(){const m=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<m;i(u)};const d=n.viewport;return o(),d.addEventListener("scroll",o),()=>d.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(or,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:d}=n;o&&d&&(o.scrollTop=o.scrollTop+d.offsetHeight)}}):null});lr.displayName=ws;var or=c.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,i=We("SelectScrollButton",n),l=c.useRef(null),o=Bt(n),d=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),ue(()=>{o().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),e.jsx(Y.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:X(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:X(a.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:X(a.onPointerLeave,()=>{d()})})}),ml="SelectSeparator",ul=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(Y.div,{"aria-hidden":!0,...r,ref:s})});ul.displayName=ml;var vs="SelectArrow",xl=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Ft(n),i=Ve(vs,n),l=We(vs,n);return i.open&&l.position==="popper"?e.jsx(Wi,{...a,...r,ref:s}):null});xl.displayName=vs;var hl="SelectBubbleInput",cr=c.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=c.useRef(null),i=te(r,a),l=ea(s);return c.useEffect(()=>{const o=a.current;if(!o)return;const d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&u){const x=new Event("change",{bubbles:!0});u.call(o,s),o.dispatchEvent(x)}},[l,s]),e.jsx(Y.select,{...n,style:{...Bn,...n.style},ref:i,defaultValue:s})});cr.displayName=hl;function dr(t){return t===""||t===void 0}function mr(t){const s=De(t),n=c.useRef(""),r=c.useRef(0),a=c.useCallback(l=>{const o=n.current+l;s(o),function d(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(o)},[s]),i=c.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function ur(t,s,n){const a=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let l=fl(t,Math.max(i,0));a.length===1&&(l=l.filter(m=>m!==n));const d=l.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function fl(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var gl=Fn,pl=Vn,bl=Un,wl=Kn,vl=Yn,yl=qn,jl=Zn,Nl=sr,Sl=nr,Al=ar,Cl=ir,kl=lr;function Zt({...t}){return e.jsx(gl,{"data-slot":"select",...t})}function Qt({...t}){return e.jsx(bl,{"data-slot":"select-value",...t})}function es({className:t,size:s="default",children:n,...r}){return e.jsxs(pl,{"data-slot":"select-trigger","data-size":s,className:be("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,e.jsx(wl,{asChild:!0,children:e.jsx(ks,{className:"size-4 opacity-50"})})]})}function ts({className:t,children:s,position:n="popper",...r}){return e.jsx(vl,{children:e.jsxs(yl,{"data-slot":"select-content",className:be("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(El,{}),e.jsx(jl,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Tl,{})]})})}function le({className:t,children:s,...n}){return e.jsxs(Nl,{"data-slot":"select-item",className:be("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Al,{children:e.jsx(gn,{className:"size-4"})})}),e.jsx(Sl,{children:s})]})}function El({className:t,...s}){return e.jsx(Cl,{"data-slot":"select-scroll-up-button",className:be("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(da,{className:"size-4"})})}function Tl({className:t,...s}){return e.jsx(kl,{"data-slot":"select-scroll-down-button",className:be("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ks,{className:"size-4"})})}const Pl={availableDays:{friday:!0,saturday:!0,sunday:!0},maxBookingsPerSlot:1,appointmentDurationMinutes:30,showSlotIndicator:!0,emailNotifications:!0,adminEmail:"info@moro-gmbh.de",autoConfirm:!1,maintenanceMode:!1,maintenanceMessage:"Das Buchungssystem ist vorÃ¼bergehend nicht verfÃ¼gbar. Bitte versuchen Sie es spÃ¤ter erneut.",preventDuplicateEmail:!0,messagePlaceholder:"Ihre Nachricht...",eventEnded:!1,eventEndDate:"2026-01-18T23:59:59Z",companyName:"MORO",companyEmail:"info@moro-gmbh.de",companyPhone:"+49 221 292 40 500",companyAddress:"Eupener Str. 124, 50933 KÃ¶ln",companyWebsite:"https://www.moroclub.com",logoUrl:"https://cdn.prod.website-files.com/66c5b6f94041a6256d15cfa6/66d86596b9d572660f8b239d_moro-logo.svg",eventLocation:"Stand B4.110",eventHall:"Messe MÃ¼nchen",rateLimitingEnabled:!0,rateLimitMaxRequests:5,rateLimitWindowMinutes:15};function Rl({isOpen:t,onClose:s}){const[n,r]=c.useState(Pl),[a,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(!1),[u,x]=c.useState(!1),[f,h]=c.useState(!1),[p,g]=c.useState(!1),[w,v]=c.useState(!1),[b,j]=c.useState(!1),[k,C]=c.useState(!1),[_,E]=c.useState(!1),I=Wr(n);c.useEffect(()=>{t&&(N(),S(),D())},[t]);const N=async()=>{i(!0);try{const A=await fetch(`${re}/api/admin/settings`);if(A.ok){const L=await A.json();r(L.settings)}else G.error("Fehler beim Laden der Einstellungen")}catch(A){console.error("Error fetching settings:",A),G.error("Verbindungsfehler")}finally{i(!1)}},S=async()=>{try{const A=await fetch(`${re}/api/admin/calendar-status`);if(A.ok){const L=await A.json();x(L.configured)}}catch(A){console.error("Error checking calendar config:",A)}},D=async()=>{try{const A=await fetch(`${re}/api/admin/calendar-status`);if(A.ok){const L=await A.json();h(L.configured)}}catch(A){console.error("Error checking email config:",A)}},T=async()=>{o(!0);try{const A=await fetch(`${re}/api/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:n})});if(A.ok)G.success("Einstellungen erfolgreich gespeichert"),m(!1),G.info("Bitte laden Sie die Seite neu, um die Ã„nderungen zu sehen",{duration:5e3});else{const L=await A.json();G.error(L.message||"Fehler beim Speichern")}}catch(A){console.error("Error saving settings:",A),G.error("Verbindungsfehler")}finally{o(!1)}},P=async()=>{E(!0);try{const A=await fetch(`${re}/api/admin/audit-log`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(A.ok){const L=await A.json();G.success("Audit Log wurde erfolgreich gelÃ¶scht"),G.info(`${L.deleted} EintrÃ¤ge gelÃ¶scht`,{duration:3e3}),v(!1)}else{const L=await A.json();G.error(L.message||"Fehler beim LÃ¶schen")}}catch(A){console.error("Error deleting audit log:",A),G.error("Verbindungsfehler")}finally{E(!1)}};return t?e.jsx(Cs,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(Ne.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-2xl bg-white shadow-2xl z-50 overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Es,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Einstellungen"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Termin-Tool konfigurieren"})]})]}),e.jsx(B,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full text-gray-900",children:e.jsx(et,{className:"w-5 h-5"})})]})}),a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[e.jsx(oe,{className:"w-10 h-10 animate-spin text-blue-600 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Einstellungen werden geladen..."})]}):e.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[n.eventEnded&&e.jsx(W,{className:"bg-gradient-to-br from-purple-50 to-purple-100/50 border-purple-300 rounded-xl shadow-sm",children:e.jsx(K,{className:"p-5",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ta,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-purple-900 mb-2",children:"ðŸŽ‰ Event beendet"}),e.jsx("p",{className:"text-sm text-purple-800 leading-relaxed mb-4",children:"Das Buchungssystem zeigt den Event-End-Screen an. Besucher kÃ¶nnen keine Termine mehr buchen und sehen eine Abschiedsnachricht."}),e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-purple-200",children:e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"Vielen Dank, dass ihr dabei wart! Wir sehen uns im nÃ¤chsten Jahr wieder auf der ',I,'."']})}),e.jsx("p",{className:"text-xs text-purple-700 mt-4",children:"Deaktivieren Sie den Event-End-Screen weiter unten, um das System wieder zu aktivieren."})]})]})})}),n.maintenanceMode&&e.jsx(W,{className:"bg-gradient-to-br from-orange-50 to-orange-100/50 border-orange-300 rounded-xl shadow-sm",children:e.jsx(K,{className:"p-5",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ca,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-orange-900 mb-2",children:"âš ï¸ Wartungsmodus aktiv"}),e.jsx("p",{className:"text-sm text-orange-800 leading-relaxed mb-4",children:"Das Buchungssystem ist derzeit fÃ¼r Besucher deaktiviert. Besucher sehen die folgende Nachricht:"}),e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-orange-200",children:e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',n.maintenanceMessage,'"']})}),e.jsx("p",{className:"text-xs text-orange-700 mt-4",children:"Deaktivieren Sie den Wartungsmodus weiter unten, um das System wieder freizugeben."})]})]})})}),!u&&e.jsx(W,{className:"bg-red-50 border-red-200 rounded-xl",children:e.jsx(K,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-1",children:"Google Calendar nicht konfiguriert"}),e.jsx("p",{className:"text-xs text-red-700 leading-relaxed",children:"Die Google Calendar Integration ist nicht aktiv. Termine werden nicht automatisch im Kalender eingetragen. Bitte konfigurieren Sie die Umgebungsvariablen."})]})]})})}),!f&&n.emailNotifications&&e.jsx(W,{className:"bg-orange-50 border-orange-200 rounded-xl",children:e.jsx(K,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-orange-900 mb-1",children:"E-Mail Service nicht konfiguriert"}),e.jsx("p",{className:"text-xs text-orange-700 leading-relaxed",children:"E-Mail-Benachrichtigungen sind aktiviert, aber der Gmail-Service ist nicht konfiguriert. Bitte richten Sie die Google OAuth-Credentials ein, um E-Mails versenden zu kÃ¶nnen."})]})]})})}),e.jsx(W,{className:"bg-blue-50 border-blue-200 rounded-xl",children:e.jsx(K,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Wichtig"}),e.jsx("p",{className:"text-xs text-blue-700 leading-relaxed",children:"Nach dem Speichern der Einstellungen sollten Sie die Seite neu laden, damit alle Ã„nderungen wirksam werden."})]})]})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zr,{className:"w-5 h-5 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Gefahrenbereich"})]}),e.jsx(W,{className:"bg-gradient-to-br from-red-50 to-red-100/50 border-red-300 rounded-xl shadow-sm",children:e.jsxs(K,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-red-800 leading-relaxed",children:["Diese Aktionen kÃ¶nnen ",e.jsx("strong",{children:"nicht rÃ¼ckgÃ¤ngig"})," gemacht werden. Alle Daten werden unwiderruflich gelÃ¶scht. Bitte seien Sie vorsichtig!"]})]}),e.jsx(Je,{className:"bg-red-200"}),e.jsx("div",{className:"bg-white rounded-xl p-5 border border-red-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg flex-shrink-0",children:e.jsx(wt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Audit Log lÃ¶schen"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"LÃ¶scht alle ProtokolleintrÃ¤ge aus dem KV Store. Das AktivitÃ¤tsprotokoll wird vollstÃ¤ndig gelÃ¶scht."}),e.jsxs(B,{onClick:()=>v(!0),variant:"outline",className:"w-full border-orange-300 bg-white hover:bg-orange-50 text-orange-700 hover:text-orange-800 rounded-lg gap-2 font-medium shadow-sm",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Audit Log lÃ¶schen"}),e.jsx("span",{className:"sm:hidden",children:"Log lÃ¶schen"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-5 border border-red-300 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-red-50 rounded-lg flex-shrink-0",children:e.jsx(mt,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Alle Termine lÃ¶schen"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["LÃ¶scht ",e.jsx("strong",{children:"ALLE"})," Termine aus der Datenbank und Google Calendar. Diese Aktion betrifft alle gebuchten, bestÃ¤tigten und stornierten Termine."]}),e.jsxs(B,{onClick:()=>g(!0),variant:"outline",className:"w-full border-red-400 bg-white hover:bg-red-50 text-red-700 hover:text-red-800 rounded-lg gap-2 font-semibold shadow-sm",children:[e.jsx(mt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Alle Termine lÃ¶schen"}),e.jsx("span",{className:"sm:hidden",children:"Termine lÃ¶schen"})]})]})]})})]})})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm",children:d&&e.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:"Ungespeicherte Ã„nderungen"}),e.jsx("span",{className:"font-medium sm:hidden",children:"Nicht gespeichert"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(B,{onClick:s,variant:"outline",disabled:l,className:"rounded-xl text-gray-900",children:"Abbrechen"}),e.jsx(B,{onClick:T,disabled:l||!d,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-xl gap-2 px-6",children:l?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Wird gespeichert..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(va,{className:"w-4 h-4"}),"Speichern"]})})]})]})})]}),e.jsx(ns,{open:w,onOpenChange:v,children:e.jsxs(rs,{className:"rounded-2xl border-0 shadow-2xl bg-white max-w-md",children:[e.jsxs(as,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(wt,{className:"w-7 h-7 text-orange-700"})}),e.jsx(is,{className:"text-xl text-gray-900",children:"Audit Log lÃ¶schen?"})]}),e.jsxs(ls,{className:"text-sm text-gray-700 leading-relaxed space-y-2",children:[e.jsxs("p",{children:["Diese Aktion lÃ¶scht ",e.jsx("strong",{className:"text-orange-700",children:"alle ProtokolleintrÃ¤ge"})," unwiderruflich aus dem KV Store."]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Das AktivitÃ¤tsprotokoll dient zur Nachvollziehbarkeit von SystemÃ¤nderungen. Nach dem LÃ¶schen ist keine RÃ¼ckverfolgung mehr mÃ¶glich."}),e.jsx("p",{className:"font-semibold text-orange-700 pt-2",children:"Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden."})]})]}),e.jsxs(os,{className:"gap-2 sm:gap-2 mt-4",children:[e.jsx(cs,{className:"rounded-xl text-gray-900 flex-1",disabled:_,children:"Abbrechen"}),e.jsx(ds,{onClick:P,disabled:_,className:"bg-orange-600 hover:bg-orange-700 text-white rounded-xl flex-1 gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-4 h-4 animate-spin"}),"Wird gelÃ¶scht..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"w-4 h-4"}),"Ja, Log lÃ¶schen"]})})]})]})})]})}):null}function Dl(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var $s="ScrollArea",[xr,Io]=ht($s),[Ml,xe]=xr($s),hr=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...l}=t,[o,d]=c.useState(null),[m,u]=c.useState(null),[x,f]=c.useState(null),[h,p]=c.useState(null),[g,w]=c.useState(null),[v,b]=c.useState(0),[j,k]=c.useState(0),[C,_]=c.useState(!1),[E,I]=c.useState(!1),N=te(s,D=>d(D)),S=As(a);return e.jsx(Ml,{scope:n,type:r,dir:S,scrollHideDelay:i,scrollArea:o,viewport:m,onViewportChange:u,content:x,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:k,children:e.jsx(Y.div,{dir:S,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});hr.displayName=$s;var fr="ScrollAreaViewport",gr=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=t,l=xe(fr,n),o=c.useRef(null),d=te(s,o,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Y.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gr.displayName=fr;var Ee="ScrollAreaScrollbar",pr=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=xe(Ee,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,o=t.orientation==="horizontal";return c.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),a.type==="hover"?e.jsx(_l,{...r,ref:s,forceMount:n}):a.type==="scroll"?e.jsx(Il,{...r,ref:s,forceMount:n}):a.type==="auto"?e.jsx(br,{...r,ref:s,forceMount:n}):a.type==="always"?e.jsx(Bs,{...r,ref:s}):null});pr.displayName=Ee;var _l=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=xe(Ee,t.__scopeScrollArea),[i,l]=c.useState(!1);return c.useEffect(()=>{const o=a.scrollArea;let d=0;if(o){const m=()=>{window.clearTimeout(d),l(!0)},u=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",m),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),o.removeEventListener("pointerenter",m),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(gt,{present:n||i,children:e.jsx(br,{"data-state":i?"visible":"hidden",...r,ref:s})})}),Il=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=xe(Ee,t.__scopeScrollArea),i=t.orientation==="horizontal",l=Vt(()=>d("SCROLL_END"),100),[o,d]=Dl("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(o==="idle"){const m=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[o,a.scrollHideDelay,d]),c.useEffect(()=>{const m=a.viewport,u=i?"scrollLeft":"scrollTop";if(m){let x=m[u];const f=()=>{const h=m[u];x!==h&&(d("SCROLL"),l()),x=h};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[a.viewport,i,d,l]),e.jsx(gt,{present:n||o!=="hidden",children:e.jsx(Bs,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:X(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:X(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),br=c.forwardRef((t,s)=>{const n=xe(Ee,t.__scopeScrollArea),{forceMount:r,...a}=t,[i,l]=c.useState(!1),o=t.orientation==="horizontal",d=Vt(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;l(o?m:u)}},10);return st(n.viewport,d),st(n.content,d),e.jsx(gt,{present:r||i,children:e.jsx(Bs,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Bs=c.forwardRef((t,s)=>{const{orientation:n="vertical",...r}=t,a=xe(Ee,t.__scopeScrollArea),i=c.useRef(null),l=c.useRef(0),[o,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=Nr(o.viewport,o.content),u={...r,sizes:o,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:f=>l.current=f};function x(f,h){return Fl(f,l.current,o,h)}return n==="horizontal"?e.jsx(Ll,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,h=ln(f,o,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=x(f,a.dir))}}):n==="vertical"?e.jsx(Ol,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,h=ln(f,o);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=x(f))}}):null}),Ll=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=xe(Ee,t.__scopeScrollArea),[l,o]=c.useState(),d=c.useRef(null),m=te(s,d,i.onScrollbarXChange);return c.useEffect(()=>{d.current&&o(getComputedStyle(d.current))},[d]),e.jsx(vr,{"data-orientation":"horizontal",...a,ref:m,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ht(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,x)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),Ar(f,x)&&u.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Mt(l.paddingLeft),paddingEnd:Mt(l.paddingRight)}})}})}),Ol=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=xe(Ee,t.__scopeScrollArea),[l,o]=c.useState(),d=c.useRef(null),m=te(s,d,i.onScrollbarYChange);return c.useEffect(()=>{d.current&&o(getComputedStyle(d.current))},[d]),e.jsx(vr,{"data-orientation":"vertical",...a,ref:m,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ht(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,x)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),Ar(f,x)&&u.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Mt(l.paddingTop),paddingEnd:Mt(l.paddingBottom)}})}})}),[zl,wr]=xr(Ee),vr=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:x,...f}=t,h=xe(Ee,n),[p,g]=c.useState(null),w=te(s,N=>g(N)),v=c.useRef(null),b=c.useRef(""),j=h.viewport,k=r.content-r.viewport,C=De(u),_=De(d),E=Vt(x,10);function I(N){if(v.current){const S=N.clientX-v.current.left,D=N.clientY-v.current.top;m({x:S,y:D})}}return c.useEffect(()=>{const N=S=>{const D=S.target;p?.contains(D)&&C(S,k)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[j,p,k,C]),c.useEffect(_,[r,_]),st(p,E),st(h.content,E),e.jsx(zl,{scope:n,scrollbar:p,hasThumb:a,onThumbChange:De(i),onThumbPointerUp:De(l),onThumbPositionChange:_,onThumbPointerDown:De(o),children:e.jsx(Y.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:X(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),v.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),I(N))}),onPointerMove:X(t.onPointerMove,I),onPointerUp:X(t.onPointerUp,N=>{const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Dt="ScrollAreaThumb",yr=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=wr(Dt,t.__scopeScrollArea);return e.jsx(gt,{present:n||a.hasThumb,children:e.jsx($l,{ref:s,...r})})}),$l=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:r,...a}=t,i=xe(Dt,n),l=wr(Dt,n),{onThumbPositionChange:o}=l,d=te(s,x=>l.onThumbChange(x)),m=c.useRef(void 0),u=Vt(()=>{m.current&&(m.current(),m.current=void 0)},100);return c.useEffect(()=>{const x=i.viewport;if(x){const f=()=>{if(u(),!m.current){const h=Hl(x,o);m.current=h,o()}};return o(),x.addEventListener("scroll",f),()=>x.removeEventListener("scroll",f)}},[i.viewport,u,o]),e.jsx(Y.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:X(t.onPointerDownCapture,x=>{const h=x.target.getBoundingClientRect(),p=x.clientX-h.left,g=x.clientY-h.top;l.onThumbPointerDown({x:p,y:g})}),onPointerUp:X(t.onPointerUp,l.onThumbPointerUp)})});yr.displayName=Dt;var Fs="ScrollAreaCorner",jr=c.forwardRef((t,s)=>{const n=xe(Fs,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?e.jsx(Bl,{...t,ref:s}):null});jr.displayName=Fs;var Bl=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,...r}=t,a=xe(Fs,n),[i,l]=c.useState(0),[o,d]=c.useState(0),m=!!(i&&o);return st(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),d(u)}),st(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),l(u)}),m?e.jsx(Y.div,{...r,ref:s,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Mt(t){return t?parseInt(t,10):0}function Nr(t,s){const n=t/s;return isNaN(n)?0:n}function Ht(t){const s=Nr(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*s;return Math.max(r,18)}function Fl(t,s,n,r="ltr"){const a=Ht(n),i=a/2,l=s||i,o=a-l,d=n.scrollbar.paddingStart+l,m=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,x=r==="ltr"?[0,u]:[u*-1,0];return Sr([d,m],x)(t)}function ln(t,s,n="ltr"){const r=Ht(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,o=i-r,d=n==="ltr"?[0,l]:[l*-1,0],m=us(t,d);return Sr([0,l],[0,o])(m)}function Sr(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(n-t[0])}}function Ar(t,s){return t>0&&t<s}var Hl=(t,s=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},l=n.left!==i.left,o=n.top!==i.top;(l||o)&&s(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Vt(t,s){const n=De(t),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function st(t,s){const n=De(s);ue(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,n])}var Vl=hr,Wl=gr,Ul=jr;function Hs({className:t,children:s,...n}){return e.jsxs(Vl,{"data-slot":"scroll-area",className:be("relative",t),...n,children:[e.jsx(Wl,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),e.jsx(Kl,{}),e.jsx(Ul,{})]})}function Kl({className:t,orientation:s="vertical",...n}){return e.jsx(pr,{"data-slot":"scroll-area-scrollbar",orientation:s,className:be("flex touch-none p-px transition-colors select-none",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:e.jsx(yr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Yl=t=>{try{const s=It(t);return hn(s)?Ns(s,"dd.MM.yyyy HH:mm:ss",{locale:Ss}):"UngÃ¼ltiges Datum"}catch{return"UngÃ¼ltiges Datum"}},ql=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?e.jsx(Me,{className:"w-4 h-4 text-green-600"}):s.includes("cancelled")||s.includes("storniert")?e.jsx(ms,{className:"w-4 h-4 text-orange-600"}):s.includes("deleted")||s.includes("gelÃ¶scht")?e.jsx(mt,{className:"w-4 h-4 text-red-600"}):s.includes("confirmed")||s.includes("bestÃ¤tigt")?e.jsx($e,{className:"w-4 h-4 text-blue-600"}):s.includes("anfrage")||s.includes("request")||s.includes("pending")?e.jsx(Be,{className:"w-4 h-4 text-yellow-600"}):s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?e.jsx(Ea,{className:"w-4 h-4 text-purple-600"}):s.includes("settings")||s.includes("einstellungen")?e.jsx(Es,{className:"w-4 h-4 text-indigo-600"}):s.includes("email")||s.includes("mail")||s.includes("sent")?e.jsx(At,{className:"w-4 h-4 text-cyan-600"}):s.includes("user")||s.includes("benutzer")?e.jsx(Ra,{className:"w-4 h-4 text-teal-600"}):s.includes("cleared")||s.includes("clear")?e.jsx(mt,{className:"w-4 h-4 text-pink-600"}):e.jsx(Be,{className:"w-4 h-4 text-gray-600"})},Gl=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"bg-green-50 border-green-200":s.includes("cancelled")||s.includes("storniert")?"bg-orange-50 border-orange-200":s.includes("deleted")||s.includes("gelÃ¶scht")?"bg-red-50 border-red-200":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"bg-blue-50 border-blue-200":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"bg-yellow-50 border-yellow-200":s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?"bg-purple-50 border-purple-200":s.includes("settings")||s.includes("einstellungen")?"bg-indigo-50 border-indigo-200":s.includes("email")||s.includes("mail")||s.includes("sent")?"bg-cyan-50 border-cyan-200":s.includes("user")||s.includes("benutzer")?"bg-teal-50 border-teal-200":s.includes("cleared")||s.includes("clear")?"bg-pink-50 border-pink-200":"bg-gray-50 border-gray-200"},Xl=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"bg-green-100 text-green-800 border-green-300":s.includes("cancelled")||s.includes("storniert")?"bg-orange-100 text-orange-800 border-orange-300":s.includes("deleted")||s.includes("gelÃ¶scht")?"bg-red-100 text-red-800 border-red-300":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"bg-blue-100 text-blue-800 border-blue-300":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"bg-yellow-100 text-yellow-800 border-yellow-300":s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?"bg-purple-100 text-purple-800 border-purple-300":s.includes("settings")||s.includes("einstellungen")?"bg-indigo-100 text-indigo-800 border-indigo-300":s.includes("email")||s.includes("mail")||s.includes("sent")?"bg-cyan-100 text-cyan-800 border-cyan-300":s.includes("user")||s.includes("benutzer")?"bg-teal-100 text-teal-800 border-teal-300":s.includes("cleared")||s.includes("clear")?"bg-pink-100 text-pink-800 border-pink-300":"bg-gray-100 text-gray-800 border-gray-300"},Jl=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"Gebucht":s.includes("cancelled")||s.includes("storniert")?"Storniert":s.includes("deleted")||s.includes("gelÃ¶scht")?"GelÃ¶scht":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"Anfrage":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"BestÃ¤tigt":s.includes("updated")||s.includes("changed")?"GeÃ¤ndert":s.includes("settings")||s.includes("einstellungen")?"Einstellung":s.includes("email")||s.includes("mail")?"E-Mail":s.includes("cleared")?"Bereinigt":"Aktion"};function Zl({isOpen:t,onClose:s}){const[n,r]=c.useState([]),[a,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(0),[u,x]=c.useState("");c.useEffect(()=>{t&&f()},[t]);const f=async(p=!1)=>{p?o(!0):i(!0),x("");try{const g=await fetch(`${re}/api/admin/audit-log?limit=100`);if(g.ok){const w=await g.json();r(w.logs||[]),m(w.total||0),w.message&&w.logs.length===0&&x(w.message),p&&G.success("Audit Log aktualisiert")}else x("Fehler beim Laden des Audit Logs"),G.error("Fehler beim Laden des Audit Logs")}catch(g){console.error("Error fetching audit log:",g);const w=g instanceof Error?g.message:"Verbindungsfehler";x(w),G.error("Verbindungsfehler beim Laden des Audit Logs")}finally{i(!1),o(!1)}},h=()=>{f(!0)};return t?e.jsx(Cs,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(Ne.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-3xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Ct,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Audit Log"}),e.jsx("p",{className:"text-sm text-gray-600",children:d>0?`${d} EintrÃ¤ge`:"Alle SystemaktivitÃ¤ten"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{onClick:h,variant:"outline",size:"icon",disabled:l,className:"rounded-full text-gray-900",children:e.jsx(Ze,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),e.jsx(B,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full text-gray-900",children:e.jsx(et,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:a?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(oe,{className:"w-10 h-10 animate-spin text-purple-600 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Audit Log wird geladen..."})]}):u?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.jsx("div",{className:"p-4 bg-yellow-100 rounded-full mb-4",children:e.jsx(je,{className:"w-12 h-12 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Information"}),e.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:u}),e.jsxs(B,{onClick:h,variant:"outline",className:"mt-4 rounded-xl text-gray-900",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Erneut versuchen"]})]}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(Ct,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Keine EintrÃ¤ge vorhanden"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Es wurden noch keine AktivitÃ¤ten protokolliert."}),e.jsxs(B,{onClick:h,variant:"outline",className:"mt-4 rounded-xl text-gray-900",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Aktualisieren"]})]}):e.jsx(Hs,{className:"h-full",children:e.jsx("div",{className:"p-4 sm:p-6 space-y-3",children:n.map((p,g)=>e.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.03},children:e.jsx(W,{className:`border rounded-xl shadow-sm ${Gl(p.action)}`,children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:ql(p.action)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:p.action}),e.jsx(F,{variant:"outline",className:`text-[10px] h-5 rounded-md ${Xl(p.action)}`,children:Jl(p.action)})]}),e.jsx("span",{className:"text-xs text-gray-900 whitespace-nowrap font-medium",children:Yl(p.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-3 leading-relaxed",children:p.details}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.user&&e.jsxs(F,{variant:"outline",className:"text-xs gap-1 bg-white border-gray-900 text-gray-900",children:[e.jsx(pn,{className:"w-3 h-3"}),p.user]}),p.appointmentId&&e.jsxs(F,{variant:"outline",className:"text-xs gap-1 bg-white font-mono border-gray-900 text-gray-900",children:[e.jsx(Me,{className:"w-3 h-3"}),p.appointmentId.slice(0,8),"..."]})]})]})]})})})},p.id))})})}),e.jsx("div",{className:"bg-white border-t border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"EintrÃ¤ge werden 90 Tage gespeichert"})]}),e.jsx(B,{onClick:s,variant:"outline",className:"rounded-xl text-gray-900",children:"SchlieÃŸen"})]})})]})]})}):null}const yt={friday:Array.from({length:15},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`}),saturday:Array.from({length:15},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`}),sunday:Array.from({length:13},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`})},on="admin_seen_appointments",Ql=t=>{switch(t){case"confirmed":return"bg-green-50 border-green-300 text-green-900";case"cancelled":return"bg-red-50 border-red-300 text-red-900";case"pending":return"bg-yellow-50 border-yellow-300 text-yellow-900";default:return"bg-gray-100 border-gray-300 text-gray-800"}},cn=t=>{switch(t){case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},eo=(t,s)=>{try{if(!t)return"UngÃ¼ltiges Datum";const n=It(t);return isNaN(n.getTime())?"UngÃ¼ltiges Datum":Ns(n,s,{locale:Ss})}catch{return"UngÃ¼ltiges Datum"}};function to({isOpen:t,onClose:s,unseenCount:n,onUnseenCountChange:r}){const[a,i]=c.useState([]),[l,o]=c.useState(!0),[d,m]=c.useState(!1),[u,x]=c.useState(new Map),[f,h]=c.useState(2026),[p,g]=c.useState(null),[w,v]=c.useState({friday:{name:"Freitag",short:"Fr",date:"16.01.",fullDate:"Freitag, 16.01.2026"},saturday:{name:"Samstag",short:"Sa",date:"17.01.",fullDate:"Samstag, 17.01.2026"},sunday:{name:"Sonntag",short:"So",date:"18.01.",fullDate:"Sonntag, 18.01.2026"}});c.useEffect(()=>{(async()=>{try{const S=await fetch(`${re}/api/admin/settings`);if(S.ok){const T=(await S.json()).settings;g(T);const P=T.eventYear||2026;h(P),v({friday:{name:Gt("friday",T),short:"Fr",date:qt("friday",T).split(" ")[1],fullDate:Yt("friday",T)},saturday:{name:Gt("saturday",T),short:"Sa",date:qt("saturday",T).split(" ")[1],fullDate:Yt("saturday",T)},sunday:{name:Gt("sunday",T),short:"So",date:qt("sunday",T).split(" ")[1],fullDate:Yt("sunday",T)}})}}catch(S){console.error("Error loading settings:",S)}})()},[]),c.useEffect(()=>{(()=>{try{const S=localStorage.getItem(on);if(S){const D=JSON.parse(S),T=new Map(D.map(P=>[P.id,P]));x(T)}}catch(S){console.error("Error loading seen appointments:",S)}})()},[]),c.useEffect(()=>{t&&C()},[t,f]),c.useEffect(()=>{if(a.length>0&&r){const N=a.filter(S=>j(S)).length;r(N)}},[a,u,r]);const b=N=>{try{const S=Array.from(N.values());localStorage.setItem(on,JSON.stringify(S))}catch(S){console.error("Error saving seen appointments:",S)}},j=N=>{const S=u.get(N.id);if(!S||S.status!==N.status)return!0;if(N.updatedAt){const D=new Date(N.updatedAt).getTime(),T=new Date(S.timestamp).getTime();if(D>T)return!0}return!1},k=N=>{const S=new Map(u);S.set(N.id,{id:N.id,status:N.status,timestamp:new Date().toISOString()}),x(S),b(S)},C=async(N=!1)=>{N?m(!0):o(!0);try{const S=await fetch(`${re}/api/admin/appointments`);if(S.ok){const P=((await S.json()).appointments||[]).filter(A=>{try{const L=It(A.appointmentDate);return isNaN(L.getTime())?!1:L.getFullYear()===f}catch{return!1}});i(P),N&&G.success("Zeitplan aktualisiert")}else G.error("Fehler beim Laden der Termine")}catch(S){console.error("Error fetching appointments:",S),G.error("Verbindungsfehler")}finally{o(!1),m(!1)}},_=()=>{C(!0)},E=N=>{k(N),window.open(`${re}/termin/${N.id}`,"_blank")},I=(N,S)=>a.filter(D=>D.day===N&&D.time===S);return t?e.jsx(Cs,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(Ne.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 right-0 bottom-0 top-16 bg-white shadow-2xl z-50 overflow-hidden flex flex-col rounded-t-3xl",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-indigo-50 rounded-lg",children:e.jsx(Me,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Zeitplan ",f]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Termine fÃ¼r ",p?.eventName||"OPTI"," ",f," ",n&&n>0&&e.jsxs("span",{className:"text-red-600 font-semibold",children:["â€¢ ",n," neu"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{onClick:_,variant:"outline",size:"icon",disabled:d,className:"rounded-full text-gray-900 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(Ze,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${d?"animate-spin":""}`})}),e.jsx(B,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full text-gray-900 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(et,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:l?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(oe,{className:"w-8 h-8 sm:w-10 sm:h-10 animate-spin text-indigo-600 mb-3 sm:mb-4"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Zeitplan wird geladen..."})]}):e.jsx(Hs,{className:"h-full",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-center gap-4 sm:gap-6 py-2 sm:py-3 px-3 sm:px-4 bg-gray-50 rounded-lg sm:rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-yellow-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"Ausstehend"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"BestÃ¤tigt"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-red-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"Storniert"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-red-600 animate-pulse"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700 font-semibold",children:"Neu/GeÃ¤ndert"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:[e.jsx("div",{className:"sticky top-0 bg-white z-20 pb-2",children:e.jsx("div",{className:"text-center font-semibold text-gray-700 text-[10px] sm:text-sm py-2 sm:py-3 bg-gray-100 rounded-md sm:rounded-lg",children:"Zeit"})}),Object.keys(w).map(N=>e.jsx("div",{className:"sticky top-0 bg-white z-20 pb-2",children:e.jsxs("div",{className:"text-center font-semibold text-gray-900 py-2 sm:py-3 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-md sm:rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"text-xs sm:text-base",children:w[N].short}),e.jsx("div",{className:"text-[9px] sm:text-xs text-gray-600 mt-0.5",children:w[N].date})]})},N)),Array.from(new Set([...yt.friday,...yt.saturday,...yt.sunday])).sort().map(N=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-center pt-2 sm:pt-4",children:e.jsx(F,{variant:"outline",className:"text-[9px] sm:text-xs font-semibold text-gray-700 bg-gray-50 px-1.5 sm:px-2 py-0.5 sm:py-1",children:N})},`time-${N}`),Object.keys(w).map(S=>{const D=yt[S].includes(N),T=D?I(S,N):[];return e.jsx("div",{className:"min-h-[60px] sm:min-h-[80px]",children:D?T.length>0?e.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:T.map(P=>{const A=j(P);return e.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs(W,{className:`cursor-pointer hover:shadow-md transition-all border rounded-lg sm:rounded-xl ${Ql(P.status)} relative overflow-hidden`,onClick:()=>E(P),children:[A&&e.jsx(Ne.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1 right-1 w-2 h-2 sm:w-2.5 sm:h-2.5 bg-red-600 rounded-full animate-pulse shadow-lg",style:{zIndex:5}}),e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-0.5 sm:w-1 ${cn(P.status)}`}),e.jsxs(K,{className:"p-2 sm:p-3 pl-2.5 sm:pl-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1 sm:gap-2 mb-1 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full flex-shrink-0 ${cn(P.status)}`}),e.jsx("span",{className:`font-semibold text-[10px] sm:text-sm truncate ${A?"text-gray-900":""}`,children:P.name})]}),e.jsx(bn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 flex-shrink-0 opacity-50"})]}),e.jsx("div",{className:"text-[8px] sm:text-xs text-gray-600 ml-2.5 sm:ml-4 mb-1 opacity-70",children:eo(P.appointmentDate,"dd.MM.yyyy")}),P.company&&e.jsxs("div",{className:"hidden md:flex items-center gap-1 sm:gap-1.5 text-[9px] sm:text-xs opacity-70 ml-2.5 sm:ml-4 mb-1",children:[e.jsx(dn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:P.company})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-[9px] sm:text-xs opacity-80 ml-2.5 sm:ml-4",children:[e.jsx(pn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 hidden sm:block"}),e.jsx("span",{className:"truncate",children:P.email})]})]})]})},P.id)})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"w-full h-12 sm:h-16 rounded-md sm:rounded-lg border-2 border-dashed border-gray-200 bg-gray-50/50 flex items-center justify-center",children:e.jsx("span",{className:"text-[9px] sm:text-xs text-gray-400",children:"Frei"})})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"w-full h-12 sm:h-16 rounded-md sm:rounded-lg bg-gray-100/50"})})},`${S}-${N}`)})]}))]})]})})})]})]})}):null}var Wt="Collapsible",[so,Cr]=ht(Wt),[no,Vs]=so(Wt),kr=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[d,m]=dt({prop:r,defaultProp:a??!1,onChange:l,caller:Wt});return e.jsx(no,{scope:n,disabled:i,contentId:ft(),open:d,onOpenToggle:c.useCallback(()=>m(u=>!u),[m]),children:e.jsx(Y.div,{"data-state":Us(d),"data-disabled":i?"":void 0,...o,ref:s})})});kr.displayName=Wt;var Er="CollapsibleTrigger",Tr=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,...r}=t,a=Vs(Er,n);return e.jsx(Y.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Us(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:s,onClick:X(t.onClick,a.onOpenToggle)})});Tr.displayName=Er;var Ws="CollapsibleContent",Pr=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Vs(Ws,t.__scopeCollapsible);return e.jsx(gt,{present:n||a.open,children:({present:i})=>e.jsx(ro,{...r,ref:s,present:i})})});Pr.displayName=Ws;var ro=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=t,l=Vs(Ws,n),[o,d]=c.useState(r),m=c.useRef(null),u=te(s,m),x=c.useRef(0),f=x.current,h=c.useRef(0),p=h.current,g=l.open||o,w=c.useRef(g),v=c.useRef(void 0);return c.useEffect(()=>{const b=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(b)},[]),ue(()=>{const b=m.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();x.current=j.height,h.current=j.width,w.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),d(r)}},[l.open,r]),e.jsx(Y.div,{"data-state":Us(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...t.style},children:g&&a})});function Us(t){return t?"open":"closed"}var ao=kr,io=Tr,lo=Pr,ye="Accordion",oo=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ks,co,mo]=fn(ye),[Ut,Lo]=ht(ye,[mo,Cr]),Ys=Cr(),Rr=de.forwardRef((t,s)=>{const{type:n,...r}=t,a=r,i=r;return e.jsx(Ks.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(fo,{...i,ref:s}):e.jsx(ho,{...a,ref:s})})});Rr.displayName=ye;var[Dr,uo]=Ut(ye),[Mr,xo]=Ut(ye,{collapsible:!1}),ho=de.forwardRef((t,s)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:i=!1,...l}=t,[o,d]=dt({prop:n,defaultProp:r??"",onChange:a,caller:ye});return e.jsx(Dr,{scope:t.__scopeAccordion,value:de.useMemo(()=>o?[o]:[],[o]),onItemOpen:d,onItemClose:de.useCallback(()=>i&&d(""),[i,d]),children:e.jsx(Mr,{scope:t.__scopeAccordion,collapsible:i,children:e.jsx(_r,{...l,ref:s})})})}),fo=de.forwardRef((t,s)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=t,[l,o]=dt({prop:n,defaultProp:r??[],onChange:a,caller:ye}),d=de.useCallback(u=>o((x=[])=>[...x,u]),[o]),m=de.useCallback(u=>o((x=[])=>x.filter(f=>f!==u)),[o]);return e.jsx(Dr,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:m,children:e.jsx(Mr,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(_r,{...i,ref:s})})})}),[go,Kt]=Ut(ye),_r=de.forwardRef((t,s)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:i="vertical",...l}=t,o=de.useRef(null),d=te(o,s),m=co(n),x=As(a)==="ltr",f=X(t.onKeyDown,h=>{if(!oo.includes(h.key))return;const p=h.target,g=m().filter(I=>!I.ref.current?.disabled),w=g.findIndex(I=>I.ref.current===p),v=g.length;if(w===-1)return;h.preventDefault();let b=w;const j=0,k=v-1,C=()=>{b=w+1,b>k&&(b=j)},_=()=>{b=w-1,b<j&&(b=k)};switch(h.key){case"Home":b=j;break;case"End":b=k;break;case"ArrowRight":i==="horizontal"&&(x?C():_());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(x?_():C());break;case"ArrowUp":i==="vertical"&&_();break}const E=b%v;g[E].ref.current?.focus()});return e.jsx(go,{scope:n,disabled:r,direction:a,orientation:i,children:e.jsx(Ks.Slot,{scope:n,children:e.jsx(Y.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:f})})})}),_t="AccordionItem",[po,qs]=Ut(_t),Ir=de.forwardRef((t,s)=>{const{__scopeAccordion:n,value:r,...a}=t,i=Kt(_t,n),l=uo(_t,n),o=Ys(n),d=ft(),m=r&&l.value.includes(r)||!1,u=i.disabled||t.disabled;return e.jsx(po,{scope:n,open:m,disabled:u,triggerId:d,children:e.jsx(ao,{"data-orientation":i.orientation,"data-state":Fr(m),...o,...a,ref:s,disabled:u,open:m,onOpenChange:x=>{x?l.onItemOpen(r):l.onItemClose(r)}})})});Ir.displayName=_t;var Lr="AccordionHeader",Or=de.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=Kt(ye,n),i=qs(Lr,n);return e.jsx(Y.h3,{"data-orientation":a.orientation,"data-state":Fr(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:s})});Or.displayName=Lr;var ys="AccordionTrigger",zr=de.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=Kt(ye,n),i=qs(ys,n),l=xo(ys,n),o=Ys(n);return e.jsx(Ks.ItemSlot,{scope:n,children:e.jsx(io,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...o,...r,ref:s})})});zr.displayName=ys;var $r="AccordionContent",Br=de.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=Kt(ye,n),i=qs($r,n),l=Ys(n);return e.jsx(lo,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...l,...r,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Br.displayName=$r;function Fr(t){return t?"open":"closed"}var bo=Rr,wo=Ir,vo=Or,yo=zr,jo=Br;function No({...t}){return e.jsx(bo,{"data-slot":"accordion",...t})}function he({className:t,...s}){return e.jsx(wo,{"data-slot":"accordion-item",className:be("border-b last:border-b-0",t),...s})}function fe({className:t,children:s,...n}){return e.jsx(vo,{className:"flex",children:e.jsxs(yo,{"data-slot":"accordion-trigger",className:be("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[s,e.jsx(ks,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function ge({className:t,children:s,...n}){return e.jsx(jo,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:e.jsx("div",{className:be("pt-0 pb-4",t),children:s})})}const So={overview:"Ãœbersicht",emails:"E-Mails",faq:"FAQ"},ot=["overview","emails","faq"];function Ao({isOpen:t,onClose:s}){const[n,r]=c.useState(null),[a,i]=c.useState("overview"),[l,o]=c.useState("OPTI 26"),[d,m]=c.useState(new Date().getFullYear());if(c.useEffect(()=>{t&&(async()=>{try{const h=await fetch(`${re}/api/admin/settings`);if(h.ok){const p=await h.json(),g=p.settings?.eventYear||new Date().getFullYear(),w=p.settings?.eventName||"OPTI";m(g),o(`${w} ${g.toString().slice(-2)}`),console.log("ðŸ“… Loaded event config:",{year:g,name:w,eventName:`${w} ${g.toString().slice(-2)}`})}}catch(h){console.error("Error loading event name:",h)}})()},[t]),!t)return null;const u=async f=>{r(f);try{const h=await fetch(`${re}/api/admin/test-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailType:f})});if(h.ok)G.success("Test-E-Mail wurde versendet! Bitte prÃ¼fen Sie Ihren Posteingang.");else{const p=await h.json();G.error(p.message||"Fehler beim Versenden")}}catch(h){G.error("Verbindungsfehler"),console.error("Error sending test email:",h)}finally{r(null)}},x=()=>ot.indexOf(a);return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-2 sm:p-4",style:{overflow:"hidden"},children:e.jsxs(W,{className:"w-full max-w-5xl h-[95vh] sm:h-[90vh] bg-white shadow-2xl rounded-xl sm:rounded-2xl border-0 flex flex-col overflow-hidden",children:[e.jsx(mn,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-50 rounded-lg",children:e.jsx(Ct,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(un,{className:"text-lg sm:text-xl text-gray-900",children:"System-Dokumentation"}),e.jsx(xn,{className:"text-xs sm:text-sm text-gray-600",children:"Funktionen, E-Mail-Ãœbersicht & FAQ"})]})]}),e.jsx(B,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(et,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})}),e.jsx("div",{className:"px-3 sm:px-6 pt-3 sm:pt-4 flex-shrink-0",children:e.jsxs("div",{className:"relative bg-gray-100 rounded-xl p-1.5",children:[e.jsx(Ne.div,{className:"absolute bg-blue-600 rounded-lg shadow-sm pointer-events-none",style:{width:`calc(${100/ot.length}% - 8px)`,zIndex:1,top:"6px",bottom:"6px"},layoutId:"activeDocTab",initial:!1,animate:{left:`calc(${x()*(100/ot.length)}% + 6px)`},transition:{type:"spring",stiffness:260,damping:20,mass:.8}}),e.jsx("div",{className:"relative grid w-full gap-1.5 z-10",style:{gridTemplateColumns:`repeat(${ot.length}, 1fr)`},children:ot.map(f=>{const h=a===f;return e.jsx("button",{type:"button",onClick:()=>i(f),style:{position:"relative",fontWeight:500,borderRadius:"0.5rem",transition:"color 0.2s",background:"transparent",border:"none",cursor:"pointer",color:h?"#ffffff !important":"#1f2937",zIndex:20,fontSize:"0.75rem",padding:"0.5rem 0.75rem"},className:"sm:text-sm sm:px-4 sm:py-2.5",children:e.jsx("span",{style:{color:h?"#ffffff":"#1f2937"},children:So[f]})},f)})})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Hs,{className:"h-full",children:e.jsxs("div",{className:"px-3 sm:px-6 py-4 sm:py-6 pb-6 sm:pb-8",children:[a==="overview"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(Ma,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Haupt-Funktionen"]}),e.jsxs("div",{className:"grid gap-3 sm:gap-4 mt-6 sm:mt-8",children:[e.jsx(W,{className:"border-gray-200 bg-white",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-green-50 rounded-lg flex-shrink-0",children:e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Terminbuchung"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:'Kunden kÃ¶nnen Termine fÃ¼r die nÃ¤chste Veranstaltung buchen. Slots kÃ¶nnen je nach Einstellung automatisch bestÃ¤tigt oder als "Ausstehend" markiert werden.'}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Auto-BestÃ¤tigung optional"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Duplikat-Schutz"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Slot-Verwaltung"})]})]})]})})}),e.jsx(W,{className:"border-gray-200 bg-white",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-50 rounded-lg flex-shrink-0",children:e.jsx($e,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Termin-Verwaltung"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"BestÃ¤tigen, Ablehnen oder LÃ¶schen Sie Termine im Admin-Panel. Jede Aktion wird dokumentiert und der Kunde wird automatisch benachrichtigt."}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 mt-2 sm:mt-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx(F,{className:"bg-green-600 text-white text-[10px] sm:text-xs w-fit",children:"BestÃ¤tigen"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Google Calendar + BestÃ¤tigungs-E-Mail"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx(F,{className:"bg-orange-600 text-white text-[10px] sm:text-xs w-fit",children:"Stornieren"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Slot freigeben + Benachrichtigungs-E-Mail"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx(F,{className:"bg-red-600 text-white text-[10px] sm:text-xs w-fit",children:"LÃ¶schen"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Komplett entfernen (KEINE E-Mail)"})]})]})]})]})})}),e.jsx(W,{className:"border-gray-200 bg-white",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-50 rounded-lg flex-shrink-0",children:e.jsx(Js,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Automatische Erinnerungen"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"24 Stunden vor jedem bestÃ¤tigten Termin wird automatisch eine Erinnerungs-E-Mail versendet. Powered by Cloudflare Cron Jobs (stÃ¼ndlich)."}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch via Cron"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Duplikat-Schutz"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Audit-Log"})]})]})]})})}),e.jsx(W,{className:"border-gray-200 bg-white",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-indigo-50 rounded-lg flex-shrink-0",children:e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Google Calendar Integration"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"BestÃ¤tigte Termine werden automatisch in Google Calendar eingetragen. Bei Stornierung werden sie automatisch gelÃ¶scht."}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch bei BestÃ¤tigung"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch bei Stornierung"})]})]})]})})})]})]}),e.jsx(Je,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Status-Ãœbersicht"]}),e.jsxs("div",{className:"grid gap-2 sm:gap-3 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx(Be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-yellow-900",children:"Ausstehend (Pending)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-yellow-700 leading-relaxed",children:"Wartet auf Ihre BestÃ¤tigung. Zeitslot ist blockiert. Kunde hat Anfrage-E-Mail erhalten."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx($e,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-green-900",children:"BestÃ¤tigt (Confirmed)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 leading-relaxed",children:"Termin ist bestÃ¤tigt. In Google Calendar eingetragen. Kunde erhÃ¤lt Erinnerung 24h vorher."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx(jt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-red-900",children:"Storniert (Cancelled)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-red-700 leading-relaxed",children:"Termin abgelehnt oder storniert. Zeitslot wieder frei. Kunde erhÃ¤lt Benachrichtigungs-E-Mail. Bleibt zur Dokumentation sichtbar."})]})]})]})]})]}),a==="emails"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(At,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"E-Mail-Ãœbersicht"]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 mt-6 sm:mt-8",children:[e.jsx(W,{className:"border-yellow-200 bg-yellow-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Be,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Terminanfrage eingegangen"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Bei neuer Buchung (wenn Auto-BestÃ¤tigung AUS)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["â³ Ihre Terminanfrage fÃ¼r die ",l]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"BestÃ¤tigung der Anfrage, Hinweis auf PrÃ¼fung, Link zur Terminseite"})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("requested"),disabled:n==="requested",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="requested"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(W,{className:"border-green-200 bg-green-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($e,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Sofortbuchung bestÃ¤tigt"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Bei neuer Buchung (wenn Auto-BestÃ¤tigung AN)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["âœ… TerminbestÃ¤tigung - ",l]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"Termin ist bestÃ¤tigt, Details, Stornierungsoption, Link zur Terminseite"})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("instant-booked"),disabled:n==="instant-booked",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="instant-booked"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(W,{className:"border-green-200 bg-green-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($e,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin bestÃ¤tigt (vom Admin)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Admin einen ausstehenden Termin bestÃ¤tigt"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["âœ… TerminbestÃ¤tigung - ",l]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"BestÃ¤tigung, Termin-Details, Stornierungsoption, Link zur Terminseite"})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("confirmed"),disabled:n==="confirmed",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="confirmed"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(W,{className:"border-orange-200 bg-orange-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(jt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Terminanfrage abgelehnt"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Admin einen Termin ablehnt/storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsx("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:"âŒ Terminanfrage abgelehnt"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"Freundliche Absage, Hinweis auf alternative Buchung, Link zur Terminseite"})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("rejected"),disabled:n==="rejected",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="rejected"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(W,{className:"border-red-200 bg-red-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(jt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin storniert (vom Kunden)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Kunde Ã¼ber Termin-Link storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsx("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:"âŒ Termin storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"StornierungsbestÃ¤tigung, MÃ¶glichkeit zur Neu-Buchung, Link zur Terminseite"})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("cancelled"),disabled:n==="cancelled",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="cancelled"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(W,{className:"border-purple-200 bg-purple-50/30",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Js,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin-Erinnerung (24h vorher)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Automatisch 24h vor bestÃ¤tigtem Termin (via Cron Job)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx(F,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["â° Erinnerung: Ihr Termin morgen - ",l]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:'"Wir freuen uns auf Sie!", Termin-Details, Stornierungsoption, Wichtige Infos'})]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>u("reminder"),disabled:n==="reminder",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="reminder"?e.jsx(oe,{className:"w-3 h-3 animate-spin"}):e.jsx(Xe,{className:"w-3 h-3"}),"Test senden"]})]})})})]})]}),e.jsx(Je,{}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx(je,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-900 mb-1",children:"Hinweis zu Test-E-Mails"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-700 leading-relaxed",children:"Test-E-Mails werden an die in den Einstellungen hinterlegte Admin-E-Mail-Adresse gesendet. So kÃ¶nnen Sie die E-Mails prÃ¼fen, bevor Kunden sie erhalten. Die E-Mails enthalten Beispiel-Daten."})]})]})})]}),a==="faq"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"HÃ¤ufig gestellte Fragen"]}),e.jsxs(No,{type:"single",collapsible:!0,className:"space-y-2 mt-6 sm:mt-8",children:[e.jsxs(he,{value:"item-1",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:'Was ist der Unterschied zwischen "Stornieren" und "LÃ¶schen"?'}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Stornieren:"}),' Der Termin wird als "Storniert" markiert, der Kunde erhÃ¤lt eine E-Mail-Benachrichtigung, der Zeitslot wird freigegeben, und der Termin bleibt zur Dokumentation im System sichtbar.']}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"LÃ¶schen:"})," Der Termin wird komplett aus dem System entfernt, der Kunde erhÃ¤lt KEINE Benachrichtigung, und der Termin ist nicht mehr sichtbar. Verwenden Sie diese Funktion nur fÃ¼r Test-Termine oder Duplikate."]})]})]}),e.jsxs(he,{value:"item-2",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wann werden Erinnerungs-E-Mails versendet?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Erinnerungs-E-Mails werden automatisch 24 Stunden vor jedem ",e.jsx("strong",{children:"bestÃ¤tigten"})," Termin versendet. Das System prÃ¼ft stÃ¼ndlich (via Cloudflare Cron Job), welche Termine in den nÃ¤chsten 24 Stunden stattfinden."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Wichtig:"}),' Nur Termine mit Status "BestÃ¤tigt" erhalten Erinnerungen. Ausstehende oder stornierte Termine werden Ã¼bersprungen.']})]})]}),e.jsxs(he,{value:"item-3",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was passiert wenn ich versehentlich einen Termin ablehne?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:'Der Termin wird als "Storniert" markiert und der Kunde erhÃ¤lt eine Absage-E-Mail. Eine Wiederherstellung ist nicht mÃ¶glich.'}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"LÃ¶sung:"})," Kontaktieren Sie den Kunden direkt (Telefon oder E-Mail) und bitten Sie ihn, einen neuen Termin zu buchen."]})]})]}),e.jsxs(he,{value:"item-4",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie kann ich prÃ¼fen ob E-Mails versendet wurden?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Im ",e.jsx("strong",{children:"AktivitÃ¤tslog"})," werden alle E-Mail-VersÃ¤nde dokumentiert. Sie sehen dort den Status (erfolgreich oder fehlgeschlagen), den EmpfÃ¤nger und den Zeitpunkt."]}),e.jsx("p",{children:"EintrÃ¤ge im Audit-Log:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm",children:[e.jsx("li",{children:'"E-Mail an Kunde" - Kunde wurde benachrichtigt'}),e.jsx("li",{children:'"E-Mail an Admin" - Admin wurde benachrichtigt'}),e.jsx("li",{children:'"E-Mail fehlgeschlagen" - Versand war nicht erfolgreich'}),e.jsx("li",{children:'"Erinnerungs-E-Mail" - Erinnerung wurde versendet'})]})]})]}),e.jsxs(he,{value:"item-5",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was ist Auto-BestÃ¤tigung und wann sollte ich sie verwenden?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Mit ",e.jsx("strong",{children:"Auto-BestÃ¤tigung AN"})," werden neue Termine sofort bestÃ¤tigt, in Google Calendar eingetragen und der Kunde erhÃ¤lt eine BestÃ¤tigungs-E-Mail."]}),e.jsxs("p",{children:["Mit ",e.jsx("strong",{children:"Auto-BestÃ¤tigung AUS"}),' haben neue Termine den Status "Ausstehend" und warten auf Ihre manuelle BestÃ¤tigung im Admin-Panel.']}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Empfehlung:"})," Verwenden Sie Auto-BestÃ¤tigung, wenn Sie allen Kunden vertrauen und genÃ¼gend Slots verfÃ¼gbar sind. Deaktivieren Sie sie, wenn Sie jeden Termin manuell prÃ¼fen mÃ¶chten."]})]})]}),e.jsxs(he,{value:"item-6",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Werden Kunden bei mehrfacher E-Mail-Adresse benachrichtigt?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Ja, das System verfÃ¼gt Ã¼ber einen ",e.jsx("strong",{children:"Duplikat-Schutz"}),'. Wenn die Option "Duplikat-Schutz" in den Einstellungen aktiviert ist, kÃ¶nnen Kunden mit derselben E-Mail-Adresse keinen zweiten Termin buchen.']}),e.jsxs("p",{children:["Der Duplikat-Schutz prÃ¼ft nur ",e.jsx("strong",{children:"aktive"})," Termine (ausstehend und bestÃ¤tigt). Stornierte Termine werden ignoriert, sodass der Kunde nach einer Stornierung erneut buchen kann."]})]})]}),e.jsxs(he,{value:"item-7",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was passiert wenn Google Calendar nicht konfiguriert ist?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das System funktioniert auch ohne Google Calendar Integration. Termine werden normal verwaltet, aber nicht automatisch in Google Calendar eingetragen."}),e.jsx("p",{children:"In den Einstellungen sehen Sie einen Warnhinweis, wenn Google Calendar nicht konfiguriert ist. Folgen Sie der Anleitung in der Google Calendar Setup-Dokumentation, um die Integration einzurichten."})]})]}),e.jsxs(he,{value:"item-8",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie kann ich das Buchungssystem temporÃ¤r deaktivieren?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Aktivieren Sie den ",e.jsx("strong",{children:"Wartungsmodus"})," in den Einstellungen. Dann wird Kunden eine konfigurierbare Wartungsmeldung angezeigt und neue Buchungen sind nicht mÃ¶glich."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Hinweis:"})," Bestehende Termine bleiben erhalten und Sie kÃ¶nnen diese weiterhin im Admin-Panel verwalten."]})]})]}),e.jsxs(he,{value:"item-9",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Kann ich die E-Mail-Vorlagen anpassen?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Die E-Mail-Vorlagen sind fest im System integriert und kÃ¶nnen nicht direkt Ã¼ber das Admin-Panel angepasst werden."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"FÃ¼r Anpassungen:"})," Kontaktieren Sie Ihren Entwickler. Die Templates befinden sich in ",e.jsx("code",{className:"text-[10px] bg-gray-100 px-1 py-0.5 rounded",children:"src/lib/email.ts"}),"."]})]})]}),e.jsxs(he,{value:"item-10",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was bedeuten die verschiedenen EintrÃ¤ge im Audit-Log?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das Audit-Log dokumentiert alle wichtigen Aktionen im System:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Termin gebucht"})," - Neuer Termin wurde erstellt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin bestÃ¤tigt"})," - Admin hat Termin bestÃ¤tigt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin abgelehnt"})," - Admin hat Termin abgelehnt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin storniert"})," - Kunde hat Termin storniert"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin gelÃ¶scht"})," - Admin hat Termin komplett gelÃ¶scht"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"E-Mail an Kunde"})," - Kunde wurde per E-Mail informiert"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"E-Mail fehlgeschlagen"})," - E-Mail-Versand ist fehlgeschlagen"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Erinnerungs-E-Mail"})," - 24h-Erinnerung wurde versendet"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Einstellungen geÃ¤ndert"})," - Admin hat Einstellungen angepasst"]})]})]})]}),e.jsxs(he,{value:"item-11",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(fe,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie passe ich das System fÃ¼r das nÃ¤chste Jahr an?"}),e.jsxs(ge,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das System ist fÃ¼r jÃ¤hrliche Events optimiert. Gehen Sie wie folgt vor:"}),e.jsxs("ol",{className:"list-decimal pl-4 space-y-1 text-xs sm:text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Einstellungen Ã¶ffnen:"})," Navigieren Sie zu den",e.jsx("strong",{children:" Einstellungen"})," im Admin-Panel"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Event-Jahres-Konfiguration:"}),' Scrollen Sie zur Sektion "Event-Jahres-Konfiguration"']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Jahr anpassen:"})," Tragen Sie das neue Jahr ein (z.B. 2027)"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Startdatum anpassen:"})," Tragen Sie das Startdatum ein (Freitag, Format: YYYY-MM-DD)"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Speichern:"}),' Klicken Sie auf "Einstellungen speichern"']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Neu laden:"})," Laden Sie die Seite mit ",e.jsx("kbd",{children:"Strg+Shift+R"}),"(Windows) oder ",e.jsx("kbd",{children:"Cmd+Shift+R"})," (Mac) komplett neu"]})]}),e.jsxs("p",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2 mt-1.5",children:[e.jsx("strong",{className:"text-yellow-900",children:"Automatische Updates:"}),e.jsx("br",{}),"Nach der Anpassung werden automatisch aktualisiert:"]}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm mt-1",children:[e.jsx("li",{children:"Alle Datumsanzeigen im Buchungsformular"}),e.jsx("li",{children:"E-Mail-Vorlagen mit den neuen Termindaten"}),e.jsx("li",{children:"Admin-Panel TerminÃ¼bersichten"}),e.jsx("li",{children:"Event-End-Screen Datum (automatisch auf Sonntag + 1 Tag)"})]}),e.jsxs("p",{className:"bg-green-50 border border-green-200 rounded-lg p-2 mt-1.5",children:[e.jsx("strong",{className:"text-green-900",children:"Hinweis:"})," Alte Termine bleiben erhalten und werden nicht gelÃ¶scht. Sie sehen dann Termine fÃ¼r beide Jahre im System."]})]})]})]})]}),e.jsx(Je,{}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:[e.jsx($e,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-green-900 mb-2",children:"Weitere Fragen?"}),e.jsxs("p",{className:"text-xs sm:text-sm text-green-700 leading-relaxed mb-4",children:["Wenn Sie weitere Fragen haben oder Probleme auftreten, wenden Sie sich bitte an die"," ",e.jsx("a",{href:"https://www.moroclub.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline hover:text-green-900 transition-colors",children:"Agentur MORO"}),"."]}),e.jsx("a",{href:"mailto:info@moro-gmbh.de",className:"block",children:e.jsxs(B,{size:"sm",className:"w-full sm:w-auto gap-2 bg-green-600 hover:bg-green-700 text-white whitespace-nowrap text-xs sm:text-sm",children:[e.jsx(At,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"info@moro-gmbh.de"]})})]})]})})]})]})})})]})})}const Co="admin_seen_appointments",St=t=>{try{if(!t)return null;const s=It(t);return hn(s)?s:null}catch{return null}},ss=(t,s)=>{try{const n=St(t);return n?Ns(n,s,{locale:Ss}):"UngÃ¼ltiges Datum"}catch{return"UngÃ¼ltiges Datum"}},ko=(t,s)=>{const n=s.get(t.id);if(!n||n.status!==t.status)return!0;if(t.updatedAt){const r=new Date(t.updatedAt).getTime(),a=new Date(n.timestamp).getTime();if(r>a)return!0}return!1},Eo=(t,s)=>t.filter(n=>ko(n,s)).length;function Oo(){const[t,s]=c.useState([]),[n,r]=c.useState(!0),[a,i]=c.useState(null),[l,o]=c.useState(null),[d,m]=c.useState(!1),[u,x]=c.useState(!1),[f,h]=c.useState(null),[p,g]=c.useState(null),[w,v]=c.useState(!1),[b,j]=c.useState(!1),[k,C]=c.useState(0),[_,E]=c.useState(!1),[I,N]=c.useState(new Map),[S,D]=c.useState(!1),[T,P]=c.useState("all"),[A,L]=c.useState("all"),[z,$]=c.useState("created-desc"),[R,H]=c.useState(""),[ae,Te]=c.useState(!1),[Ge,Ue]=c.useState(!0),[Pe,Le]=c.useState(!0),[Oe,M]=c.useState(!1);c.useEffect(()=>{(()=>{try{const O=localStorage.getItem(Co);if(O){const U=JSON.parse(O),ne=new Map(U.map(Q=>[Q.id,Q]));N(ne),console.log(`ðŸ“– Loaded ${ne.size} seen appointments from localStorage`)}}catch(O){console.error("Error loading seen appointments:",O)}})()},[]),c.useEffect(()=>{if(t.length>0){const y=Eo(t,I);C(y),console.log(`ðŸ”” Unseen count updated: ${y}`)}},[t,I]),c.useEffect(()=>{J()},[]);const J=async()=>{try{const y=await fetch(`${re}/api/admin/calendar-status`);let O={configured:!0};y.ok&&(O=await y.json(),Ue(O.configured));const U=await fetch(`${re}/api/admin/settings`);if(U.ok){const Q=(await U.json()).settings;M(Q.maintenanceMode||!1),Le(O.configured);const ze=Q.maintenanceMode||!O.configured||Q.emailNotifications&&!O.configured;Te(ze)}}catch(y){console.error("Error checking settings warnings:",y)}},se=async()=>{console.log("ðŸ”„ Fetching appointments...");try{r(!0),i(null);const y=`${re}/api/admin/appointments`;console.log("ðŸ“¡ Fetching from:",y);const O=await fetch(y);if(console.log("ðŸ“¥ Response status:",O.status),!O.ok){const ne=await O.text();throw console.error("âŒ Error response:",ne),new Error(`HTTP ${O.status}: ${ne}`)}const U=await O.json();if(console.log("âœ… Data received:",U),U&&Array.isArray(U.appointments)){console.log(`ðŸ“‹ ${U.appointments.length} appointments loaded`);const ne=U.appointments.filter(Q=>{const ze=St(Q.appointmentDate)!==null,Xs=St(Q.createdAt)!==null;return(!ze||!Xs)&&console.warn("âš ï¸ Invalid appointment date:",Q.id,{appointmentDate:Q.appointmentDate,createdAt:Q.createdAt}),ze&&Xs});console.log(`âœ… ${ne.length} valid appointments`),s(ne)}else console.warn("âš ï¸ Invalid data format:",U),s([])}catch(y){console.error("ðŸ’¥ Fetch error:",y);const O=y instanceof Error?y.message:"Verbindungsfehler";i(O),G.error("Fehler beim Laden: "+O)}finally{console.log("âœ… Loading complete"),r(!1)}};c.useEffect(()=>{console.log("ðŸš€ Component mounted, fetching appointments"),se()},[]);const V=async(y,O)=>{o(y);try{const U=O==="confirmed"?"confirm":"cancel",ne=await fetch(`${re}/api/admin/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:y,action:U})});if(ne.ok)s(Q=>Q.map(ze=>ze.id===y?{...ze,status:O,updatedAt:new Date().toISOString()}:ze)),G.success(O==="confirmed"?"Termin wurde bestÃ¤tigt":"Termin wurde storniert");else{const Q=await ne.json();G.error(Q.message||"Fehler beim Aktualisieren")}}catch(U){console.error("Error updating appointment:",U),G.error("Verbindungsfehler")}finally{o(null)}},q=async y=>{console.log(`ðŸ—‘ï¸ Frontend: Starting delete for appointment ${y}`),o(y);try{console.log(`ðŸ“¡ Sending DELETE request to ${re}/api/admin/appointments`);const O=await fetch(`${re}/api/admin/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:y,action:"delete"})});if(console.log(`ðŸ“¥ Delete response status: ${O.status}`),O.ok){const U=await O.json();console.log("âœ… Delete successful:",U),s(ne=>ne.filter(Q=>Q.id!==y)),G.success("Termin wurde gelÃ¶scht")}else{const U=await O.json();console.error("âŒ Delete failed:",U);const ne=U.error||U.message||"Fehler beim LÃ¶schen",Q=U.details?` (${U.details})`:"";G.error(ne+Q)}}catch(O){console.error("ðŸ’¥ Delete error:",O);const U=O instanceof Error?O.message:"Unbekannter Fehler";G.error(`Verbindungsfehler: ${U}`)}finally{o(null),m(!1),h(null),console.log("âœ… Delete operation complete")}},Z=y=>{V(y,"confirmed")},ie=y=>{g(y),x(!0)},Re=()=>{p&&(V(p,"cancelled"),x(!1),g(null))},it=y=>{h(y),m(!0)},lt=y=>{switch(y){case"confirmed":return e.jsxs(F,{className:"bg-green-100 text-green-800 hover:bg-green-100 flex items-center gap-1.5",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"BestÃ¤tigt"]});case"cancelled":return e.jsxs(F,{className:"bg-red-100 text-red-800 hover:bg-red-100 flex items-center gap-1.5",children:[e.jsx(ms,{className:"w-3.5 h-3.5"}),"Storniert"]});case"pending":return e.jsxs(F,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100 flex items-center gap-1.5",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),"Ausstehend"]});default:return null}},Gs=[...t.filter(y=>{if(T!=="all"&&y.status!==T||A!=="all"&&y.day!==A)return!1;if(R){const O=R.toLowerCase(),U=St(y.appointmentDate)?.getFullYear().toString()||"",ne=ss(y.appointmentDate,"dd.MM.yyyy");if(![y.name,y.company||"",y.email,y.phone,y.message||"",U,ne].join(" ").toLowerCase().includes(O))return!1}return!0})].sort((y,O)=>{switch(z){case"created-desc":return new Date(O.createdAt).getTime()-new Date(y.createdAt).getTime();case"created-asc":return new Date(y.createdAt).getTime()-new Date(O.createdAt).getTime();case"date-asc":return new Date(y.appointmentDate).getTime()-new Date(O.appointmentDate).getTime();case"date-desc":return new Date(O.appointmentDate).getTime()-new Date(y.appointmentDate).getTime();case"name-asc":return y.name.localeCompare(O.name);case"name-desc":return O.name.localeCompare(y.name);default:return 0}}),Hr=y=>{C(y)};return e.jsxs("div",{className:"container mx-auto p-2 sm:p-4 md:p-6 lg:p-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Terminverwaltung"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Ãœbersicht aller gebuchten Termine"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxs(B,{onClick:()=>j(!0),variant:"default",size:"default",className:"gap-2 rounded-xl shadow-md hover:shadow-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold px-4 sm:px-6 text-sm w-full sm:w-auto relative",children:[e.jsx(la,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Zeitplan Ansicht",k>0&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-red-500 text-white text-[10px] font-bold items-center justify-center shadow-lg",children:k})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-start",children:[e.jsx(B,{onClick:()=>E(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(Ct,{className:"w-5 h-5"})}),e.jsx(B,{onClick:()=>D(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs(B,{onClick:()=>v(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10 relative",children:[e.jsx(Es,{className:"w-5 h-5"}),ae&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})]})]}),e.jsx(B,{onClick:()=>se(),variant:"outline",size:"icon",disabled:n,className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(Ze,{className:`w-5 h-5 ${n?"animate-spin":""}`})})]})]})]}),e.jsx(W,{className:"mb-4 sm:mb-6 shadow-md",children:e.jsxs(K,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(sa,{type:"text",placeholder:"Suchen (Name, Firma, E-Mail...)",value:R,onChange:y=>H(y.target.value),className:"pl-10 text-gray-900"})]})}),e.jsxs(Zt,{value:T,onValueChange:P,children:[e.jsx(es,{className:"text-gray-900",children:e.jsx(Qt,{placeholder:"Status"})}),e.jsxs(ts,{children:[e.jsx(le,{value:"all",children:"Alle Status"}),e.jsx(le,{value:"pending",children:"Ausstehend"}),e.jsx(le,{value:"confirmed",children:"BestÃ¤tigt"}),e.jsx(le,{value:"cancelled",children:"Storniert"})]})]}),e.jsxs(Zt,{value:A,onValueChange:L,children:[e.jsx(es,{className:"text-gray-900",children:e.jsx(Qt,{placeholder:"Tag"})}),e.jsxs(ts,{children:[e.jsx(le,{value:"all",children:"Alle Tage"}),e.jsx(le,{value:"friday",children:"Freitag"}),e.jsx(le,{value:"saturday",children:"Samstag"}),e.jsx(le,{value:"sunday",children:"Sonntag"})]})]})]}),e.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2 sm:gap-3",children:[e.jsx(pa,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),e.jsxs(Zt,{value:z,onValueChange:$,children:[e.jsx(es,{className:"max-w-xs text-gray-900",children:e.jsx(Qt,{placeholder:"Sortieren"})}),e.jsxs(ts,{children:[e.jsx(le,{value:"created-desc",children:"Neueste zuerst"}),e.jsx(le,{value:"created-asc",children:"Ã„lteste zuerst"}),e.jsx(le,{value:"date-asc",children:"Termin aufsteigend"}),e.jsx(le,{value:"date-desc",children:"Termin absteigend"}),e.jsx(le,{value:"name-asc",children:"Name A-Z"}),e.jsx(le,{value:"name-desc",children:"Name Z-A"})]})]}),(T!=="all"||A!=="all"||R)&&e.jsxs(B,{onClick:()=>{P("all"),L("all"),H("")},variant:"ghost",size:"sm",className:"text-gray-900",children:[e.jsx(et,{className:"w-4 h-4 mr-1"}),"Filter zurÃ¼cksetzen"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx(W,{className:"shadow-sm",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Gesamt"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx(Me,{className:"w-8 h-8 sm:w-10 sm:h-10 text-indigo-600"})]})})}),e.jsx(W,{className:"shadow-sm",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Ausstehend"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.filter(y=>y.status==="pending").length})]}),e.jsx(Be,{className:"w-8 h-8 sm:w-10 sm:h-10 text-yellow-600"})]})})}),e.jsx(W,{className:"shadow-sm",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"BestÃ¤tigt"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:t.filter(y=>y.status==="confirmed").length})]}),e.jsx($e,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})]})})}),e.jsx(W,{className:"shadow-sm",children:e.jsx(K,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Storniert"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.filter(y=>y.status==="cancelled").length})]}),e.jsx(ms,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600"})]})})})]}),n?e.jsx(W,{className:"shadow-md",children:e.jsx(K,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(oe,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-indigo-600"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Termine werden geladen..."})]})})}):a?e.jsx(W,{className:"shadow-md border-red-200 bg-red-50",children:e.jsx(K,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(je,{className:"w-10 h-10 sm:w-12 sm:h-12 text-red-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-red-900 mb-2",children:"Fehler beim Laden"}),e.jsx("p",{className:"text-xs sm:text-sm text-red-700",children:a})]}),e.jsxs(B,{onClick:()=>se(),variant:"outline",className:"text-gray-900",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Erneut versuchen"]})]})})}):Gs.length===0?e.jsx(W,{className:"shadow-md",children:e.jsx(K,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(Me,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:R||T!=="all"||A!=="all"?"Keine Termine gefunden":"Keine Termine vorhanden"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:R||T!=="all"||A!=="all"?"Versuchen Sie es mit anderen Filterkriterien.":"Es wurden noch keine Termine gebucht."})]})]})})}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:Gs.map(y=>e.jsxs(W,{className:"hover:shadow-lg transition-all duration-200 shadow-md",children:[e.jsx(mn,{className:"pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-3",children:e.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(un,{className:"text-base sm:text-lg text-gray-900",children:y.name}),lt(y.status),y.googleEventId&&e.jsxs(F,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300 flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),"Google Calendar"]})]}),y.company&&e.jsxs(xn,{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(dn,{className:"w-4 h-4 flex-shrink-0"}),y.company]})]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(B,{onClick:()=>Z(y.id),disabled:l===y.id,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm",children:l===y.id?e.jsx(oe,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"BestÃ¤tigen"})]})}),e.jsxs(B,{onClick:()=>ie(y.id),disabled:l===y.id,size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ablehnen"})]})]}),y.status==="confirmed"&&e.jsxs(B,{onClick:()=>ie(y.id),disabled:l===y.id,size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:[e.jsx(et,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Stornieren"})]}),e.jsx(B,{onClick:()=>{window.open(`${re}/termin/${y.id}`,"_blank")},size:"sm",variant:"outline",className:"text-gray-900 hover:bg-gray-50 rounded-lg border-gray-300",children:e.jsx(bn,{className:"w-4 h-4"})}),e.jsx(B,{onClick:()=>it(y.id),disabled:l===y.id,size:"sm",variant:"outline",className:"text-gray-900 hover:bg-gray-50 rounded-lg border-gray-300",children:e.jsx(mt,{className:"w-4 h-4"})})]})]})}),e.jsxs(K,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(Me,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:ss(y.appointmentDate,"EEEE, dd. MMMM yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(Be,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-medium",children:[y.time," Uhr"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(Ur,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("a",{href:`tel:${y.phone}`,className:"text-blue-600 hover:text-blue-800",children:y.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(At,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("a",{href:`mailto:${y.email}`,className:"text-blue-600 hover:text-blue-800 truncate",children:y.email})]})]})]}),y.message&&e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"my-3 sm:my-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(na,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 italic",children:y.message})]})]}),e.jsx(Je,{className:"my-3 sm:my-4"}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs text-gray-500",children:[e.jsxs("span",{children:["Erstellt: ",ss(y.createdAt,"dd.MM.yyyy HH:mm")," Uhr"]}),e.jsxs("span",{className:"text-gray-400",children:["ID: ",y.id.slice(0,8)]})]})]})]},y.id))}),e.jsx(ns,{open:d,onOpenChange:m,children:e.jsxs(rs,{children:[e.jsxs(as,{children:[e.jsx(is,{children:"Termin lÃ¶schen?"}),e.jsx(ls,{children:"Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden. Der Termin wird dauerhaft gelÃ¶scht."})]}),e.jsxs(os,{children:[e.jsx(cs,{onClick:()=>{m(!1),h(null)},children:"Abbrechen"}),e.jsx(ds,{onClick:()=>f&&q(f),className:"bg-red-600 hover:bg-red-700",children:"LÃ¶schen"})]})]})}),e.jsx(ns,{open:u,onOpenChange:x,children:e.jsxs(rs,{children:[e.jsxs(as,{children:[e.jsx(is,{children:"Termin stornieren/ablehnen?"}),e.jsx(ls,{children:"Der Termin wird als storniert markiert. Diese Aktion informiert den Kunden."})]}),e.jsxs(os,{children:[e.jsx(cs,{onClick:()=>{x(!1),g(null)},children:"Abbrechen"}),e.jsx(ds,{onClick:Re,className:"bg-red-600 hover:bg-red-700",children:"Stornieren"})]})]})}),e.jsx(Rl,{isOpen:w,onClose:()=>v(!1)}),e.jsx(Zl,{isOpen:S,onClose:()=>D(!1)}),e.jsx(to,{isOpen:b,onClose:()=>j(!1),unseenCount:k,onUnseenCountChange:Hr}),e.jsx(Ao,{isOpen:_,onClose:()=>E(!1)})]})}export{Oo as default};
