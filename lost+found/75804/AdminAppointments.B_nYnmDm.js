import{r as Rs,j as e,t as q}from"./index.C5T5zRsO.js";import{r as c,R as pe}from"./index.DVzEiDzO.js";import{c as se,P as Z,b as vt,u as ae,e as Ge,v as ye,d as jt,g as Rt,f as Q,w as aa,a as je,j as te,C as F,r as Ee,s as Te,x as Pe,B as H,L as me,l as ue,k as B,n as $,m as be,h as Mt,M as Wt,o as yn,y as ms,z as xs,q as hs,p as la}from"./event-config.C5iZkhkU.js";import{P as ia,m as oa,u as ca,R as da,F as ma,D as xa,T as Ft,C as Oe,S as ie,i as Be,h as ze,g as Re,M as ha,A as nt,a as rt,b as at,c as lt,d as it,e as ot,j as ct,f as dt,p as Jt,n as vn,k as Ms,l as Is}from"./alert-dialog.Bqj6StuA.js";import{b as wn,u as Ls,c as Nn,a as Sn,C as Cn,X as xt,L as X,I as oe,A as An,U as kn,M as ua}from"./index.DMaiuibn.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bt=se("ban",ga);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vs=se("bell",pa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ja=se("building",fa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ln=se("calendar-days",ba);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_s=se("chevron-down",ya);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wa=se("chevron-up",va);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sa=se("circle-question-mark",Na);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Os=se("external-link",Ca);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],En=se("file-text",Aa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ea=se("funnel",ka);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],on=se("info",Ta);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kt=se("octagon-x",Pa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mt=se("refresh-cw",Da);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_t=se("rotate-ccw",Ra);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ia=se("save",Ma);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_a=se("search",La);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pt=se("send",Oa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tn=se("settings",za);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ba=se("shield-check",Fa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ha=se("square-pen",$a);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],De=se("trash-2",Wa);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ua=se("user-plus",Va);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ya=se("zap",Ka);function ws(t,[s,n]){return Math.min(n,Math.max(s,t))}const Ga=["top","right","bottom","left"],Qe=Math.min,ge=Math.max,Vt=Math.round,Ot=Math.floor,$e=t=>({x:t,y:t}),qa={left:"right",right:"left",bottom:"top",top:"bottom"},Za={start:"end",end:"start"};function Ns(t,s,n){return ge(t,Qe(s,n))}function qe(t,s){return typeof t=="function"?t(s):t}function Ze(t){return t.split("-")[0]}function wt(t){return t.split("-")[1]}function zs(t){return t==="x"?"y":"x"}function Fs(t){return t==="y"?"height":"width"}function Fe(t){return["top","bottom"].includes(Ze(t))?"y":"x"}function Bs(t){return zs(Fe(t))}function Xa(t,s,n){n===void 0&&(n=!1);const r=wt(t),a=Bs(t),l=Fs(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(i=Ut(i)),[i,Ut(i)]}function Ja(t){const s=Ut(t);return[Ss(t),s,Ss(s)]}function Ss(t){return t.replace(/start|end/g,s=>Za[s])}function Qa(t,s,n){const r=["left","right"],a=["right","left"],l=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?s?a:r:s?r:a;case"left":case"right":return s?l:i;default:return[]}}function el(t,s,n,r){const a=wt(t);let l=Qa(Ze(t),n==="start",r);return a&&(l=l.map(i=>i+"-"+a),s&&(l=l.concat(l.map(Ss)))),l}function Ut(t){return t.replace(/left|right|bottom|top/g,s=>qa[s])}function tl(t){return{top:0,right:0,bottom:0,left:0,...t}}function Pn(t){return typeof t!="number"?tl(t):{top:t,right:t,bottom:t,left:t}}function Kt(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function cn(t,s,n){let{reference:r,floating:a}=t;const l=Fe(s),i=Bs(s),o=Fs(i),m=Ze(s),d=l==="y",x=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,g=r[o]/2-a[o]/2;let u;switch(m){case"top":u={x,y:r.y-a.height};break;case"bottom":u={x,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:h};break;case"left":u={x:r.x-a.width,y:h};break;default:u={x:r.x,y:r.y}}switch(wt(s)){case"start":u[i]-=g*(n&&d?-1:1);break;case"end":u[i]+=g*(n&&d?-1:1);break}return u}const sl=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:l=[],platform:i}=n,o=l.filter(Boolean),m=await(i.isRTL==null?void 0:i.isRTL(s));let d=await i.getElementRects({reference:t,floating:s,strategy:a}),{x,y:h}=cn(d,r,m),g=r,u={},f=0;for(let p=0;p<o.length;p++){const{name:y,fn:v}=o[p],{x:b,y:w,data:E,reset:k}=await v({x,y:h,initialPlacement:r,placement:g,strategy:a,middlewareData:u,rects:d,platform:i,elements:{reference:t,floating:s}});x=b??x,h=w??h,u={...u,[y]:{...u[y],...E}},k&&f<=50&&(f++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(d=k.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:a}):k.rects),{x,y:h}=cn(d,g,m)),p=-1)}return{x,y:h,placement:g,strategy:a,middlewareData:u}};async function Pt(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:l,rects:i,elements:o,strategy:m}=t,{boundary:d="clippingAncestors",rootBoundary:x="viewport",elementContext:h="floating",altBoundary:g=!1,padding:u=0}=qe(s,t),f=Pn(u),y=o[g?h==="floating"?"reference":"floating":h],v=Kt(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(y)))==null||n?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:d,rootBoundary:x,strategy:m})),b=h==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),E=await(l.isElement==null?void 0:l.isElement(w))?await(l.getScale==null?void 0:l.getScale(w))||{x:1,y:1}:{x:1,y:1},k=Kt(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:m}):b);return{top:(v.top-k.top+f.top)/E.y,bottom:(k.bottom-v.bottom+f.bottom)/E.y,left:(v.left-k.left+f.left)/E.x,right:(k.right-v.right+f.right)/E.x}}const nl=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:l,platform:i,elements:o,middlewareData:m}=s,{element:d,padding:x=0}=qe(t,s)||{};if(d==null)return{};const h=Pn(x),g={x:n,y:r},u=Bs(a),f=Fs(u),p=await i.getDimensions(d),y=u==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=l.reference[f]+l.reference[u]-g[u]-l.floating[f],k=g[u]-l.reference[u],L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let P=L?L[w]:0;(!P||!await(i.isElement==null?void 0:i.isElement(L)))&&(P=o.floating[w]||l.floating[f]);const M=E/2-k/2,S=P/2-p[f]/2-1,C=Qe(h[v],S),I=Qe(h[b],S),D=C,R=P-p[f]-I,_=P/2-p[f]/2+M,Y=Ns(D,_,R),z=!m.arrow&&wt(a)!=null&&_!==Y&&l.reference[f]/2-(_<D?C:I)-p[f]/2<0,W=z?_<D?_-D:_-R:0;return{[u]:g[u]+W,data:{[u]:Y,centerOffset:_-Y-W,...z&&{alignmentOffset:W}},reset:z}}}),rl=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:l,rects:i,initialPlacement:o,platform:m,elements:d}=s,{mainAxis:x=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...y}=qe(t,s);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const v=Ze(a),b=Fe(o),w=Ze(o)===o,E=await(m.isRTL==null?void 0:m.isRTL(d.floating)),k=g||(w||!p?[Ut(o)]:Ja(o)),L=f!=="none";!g&&L&&k.push(...el(o,p,f,E));const P=[o,...k],M=await Pt(s,y),S=[];let C=((r=l.flip)==null?void 0:r.overflows)||[];if(x&&S.push(M[v]),h){const _=Xa(a,i,E);S.push(M[_[0]],M[_[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(_=>_<=0)){var I,D;const _=(((I=l.flip)==null?void 0:I.index)||0)+1,Y=P[_];if(Y&&(!(h==="alignment"?b!==Fe(Y):!1)||C.every(A=>A.overflows[0]>0&&Fe(A.placement)===b)))return{data:{index:_,overflows:C},reset:{placement:Y}};let z=(D=C.filter(W=>W.overflows[0]<=0).sort((W,A)=>W.overflows[1]-A.overflows[1])[0])==null?void 0:D.placement;if(!z)switch(u){case"bestFit":{var R;const W=(R=C.filter(A=>{if(L){const V=Fe(A.placement);return V===b||V==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(V=>V>0).reduce((V,ce)=>V+ce,0)]).sort((A,V)=>A[1]-V[1])[0])==null?void 0:R[0];W&&(z=W);break}case"initialPlacement":z=o;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function dn(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function mn(t){return Ga.some(s=>t[s]>=0)}const al=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=qe(t,s);switch(r){case"referenceHidden":{const l=await Pt(s,{...a,elementContext:"reference"}),i=dn(l,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:mn(i)}}}case"escaped":{const l=await Pt(s,{...a,altBoundary:!0}),i=dn(l,n.floating);return{data:{escapedOffsets:i,escaped:mn(i)}}}default:return{}}}}};async function ll(t,s){const{placement:n,platform:r,elements:a}=t,l=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=Ze(n),o=wt(n),m=Fe(n)==="y",d=["left","top"].includes(i)?-1:1,x=l&&m?-1:1,h=qe(s,t);let{mainAxis:g,crossAxis:u,alignmentAxis:f}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof f=="number"&&(u=o==="end"?f*-1:f),m?{x:u*x,y:g*d}:{x:g*d,y:u*x}}const il=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:l,placement:i,middlewareData:o}=s,m=await ll(s,t);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:i}}}}},ol=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:l=!0,crossAxis:i=!1,limiter:o={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...m}=qe(t,s),d={x:n,y:r},x=await Pt(s,m),h=Fe(Ze(a)),g=zs(h);let u=d[g],f=d[h];if(l){const y=g==="y"?"top":"left",v=g==="y"?"bottom":"right",b=u+x[y],w=u-x[v];u=Ns(b,u,w)}if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=f+x[y],w=f-x[v];f=Ns(b,f,w)}const p=o.fn({...s,[g]:u,[h]:f});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[g]:l,[h]:i}}}}}},cl=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:l,middlewareData:i}=s,{offset:o=0,mainAxis:m=!0,crossAxis:d=!0}=qe(t,s),x={x:n,y:r},h=Fe(a),g=zs(h);let u=x[g],f=x[h];const p=qe(o,s),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(m){const w=g==="y"?"height":"width",E=l.reference[g]-l.floating[w]+y.mainAxis,k=l.reference[g]+l.reference[w]-y.mainAxis;u<E?u=E:u>k&&(u=k)}if(d){var v,b;const w=g==="y"?"width":"height",E=["top","left"].includes(Ze(a)),k=l.reference[h]-l.floating[w]+(E&&((v=i.offset)==null?void 0:v[h])||0)+(E?0:y.crossAxis),L=l.reference[h]+l.reference[w]+(E?0:((b=i.offset)==null?void 0:b[h])||0)-(E?y.crossAxis:0);f<k?f=k:f>L&&(f=L)}return{[g]:u,[h]:f}}}},dl=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:l,platform:i,elements:o}=s,{apply:m=()=>{},...d}=qe(t,s),x=await Pt(s,d),h=Ze(a),g=wt(a),u=Fe(a)==="y",{width:f,height:p}=l.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=g===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,y=g==="end"?"top":"bottom");const b=p-x.top-x.bottom,w=f-x.left-x.right,E=Qe(p-x[y],b),k=Qe(f-x[v],w),L=!s.middlewareData.shift;let P=E,M=k;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(M=w),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(P=b),L&&!g){const C=ge(x.left,0),I=ge(x.right,0),D=ge(x.top,0),R=ge(x.bottom,0);u?M=f-2*(C!==0||I!==0?C+I:ge(x.left,x.right)):P=p-2*(D!==0||R!==0?D+R:ge(x.top,x.bottom))}await m({...s,availableWidth:M,availableHeight:P});const S=await i.getDimensions(o.floating);return f!==S.width||p!==S.height?{reset:{rects:!0}}:{}}}};function Qt(){return typeof window<"u"}function Nt(t){return Dn(t)?(t.nodeName||"").toLowerCase():"#document"}function fe(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function We(t){var s;return(s=(Dn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Dn(t){return Qt()?t instanceof Node||t instanceof fe(t).Node:!1}function Me(t){return Qt()?t instanceof Element||t instanceof fe(t).Element:!1}function He(t){return Qt()?t instanceof HTMLElement||t instanceof fe(t).HTMLElement:!1}function xn(t){return!Qt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fe(t).ShadowRoot}function It(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=Ie(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!["inline","contents"].includes(a)}function ml(t){return["table","td","th"].includes(Nt(t))}function es(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function $s(t){const s=Hs(),n=Me(t)?Ie(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xl(t){let s=et(t);for(;He(s)&&!bt(s);){if($s(s))return s;if(es(s))return null;s=et(s)}return null}function Hs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bt(t){return["html","body","#document"].includes(Nt(t))}function Ie(t){return fe(t).getComputedStyle(t)}function ts(t){return Me(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function et(t){if(Nt(t)==="html")return t;const s=t.assignedSlot||t.parentNode||xn(t)&&t.host||We(t);return xn(s)?s.host:s}function Rn(t){const s=et(t);return bt(s)?t.ownerDocument?t.ownerDocument.body:t.body:He(s)&&It(s)?s:Rn(s)}function Dt(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=Rn(t),l=a===((r=t.ownerDocument)==null?void 0:r.body),i=fe(a);if(l){const o=Cs(i);return s.concat(i,i.visualViewport||[],It(a)?a:[],o&&n?Dt(o):[])}return s.concat(a,Dt(a,[],n))}function Cs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Mn(t){const s=Ie(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=He(t),l=a?t.offsetWidth:n,i=a?t.offsetHeight:r,o=Vt(n)!==l||Vt(r)!==i;return o&&(n=l,r=i),{width:n,height:r,$:o}}function Ws(t){return Me(t)?t:t.contextElement}function ft(t){const s=Ws(t);if(!He(s))return $e(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:l}=Mn(s);let i=(l?Vt(n.width):n.width)/r,o=(l?Vt(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const hl=$e(0);function In(t){const s=fe(t);return!Hs()||!s.visualViewport?hl:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function ul(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==fe(t)?!1:s}function ht(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=Ws(t);let i=$e(1);s&&(r?Me(r)&&(i=ft(r)):i=ft(t));const o=ul(l,n,r)?In(l):$e(0);let m=(a.left+o.x)/i.x,d=(a.top+o.y)/i.y,x=a.width/i.x,h=a.height/i.y;if(l){const g=fe(l),u=r&&Me(r)?fe(r):r;let f=g,p=Cs(f);for(;p&&r&&u!==f;){const y=ft(p),v=p.getBoundingClientRect(),b=Ie(p),w=v.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,E=v.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;m*=y.x,d*=y.y,x*=y.x,h*=y.y,m+=w,d+=E,f=fe(p),p=Cs(f)}}return Kt({width:x,height:h,x:m,y:d})}function Vs(t,s){const n=ts(t).scrollLeft;return s?s.left+n:ht(We(t)).left+n}function Ln(t,s,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=r.left+s.scrollLeft-(n?0:Vs(t,r)),l=r.top+s.scrollTop;return{x:a,y:l}}function gl(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const l=a==="fixed",i=We(r),o=s?es(s.floating):!1;if(r===i||o&&l)return n;let m={scrollLeft:0,scrollTop:0},d=$e(1);const x=$e(0),h=He(r);if((h||!h&&!l)&&((Nt(r)!=="body"||It(i))&&(m=ts(r)),He(r))){const u=ht(r);d=ft(r),x.x=u.x+r.clientLeft,x.y=u.y+r.clientTop}const g=i&&!h&&!l?Ln(i,m,!0):$e(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-m.scrollLeft*d.x+x.x+g.x,y:n.y*d.y-m.scrollTop*d.y+x.y+g.y}}function pl(t){return Array.from(t.getClientRects())}function fl(t){const s=We(t),n=ts(t),r=t.ownerDocument.body,a=ge(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),l=ge(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Vs(t);const o=-n.scrollTop;return Ie(r).direction==="rtl"&&(i+=ge(s.clientWidth,r.clientWidth)-a),{width:a,height:l,x:i,y:o}}function jl(t,s){const n=fe(t),r=We(t),a=n.visualViewport;let l=r.clientWidth,i=r.clientHeight,o=0,m=0;if(a){l=a.width,i=a.height;const d=Hs();(!d||d&&s==="fixed")&&(o=a.offsetLeft,m=a.offsetTop)}return{width:l,height:i,x:o,y:m}}function bl(t,s){const n=ht(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,l=He(t)?ft(t):$e(1),i=t.clientWidth*l.x,o=t.clientHeight*l.y,m=a*l.x,d=r*l.y;return{width:i,height:o,x:m,y:d}}function hn(t,s,n){let r;if(s==="viewport")r=jl(t,n);else if(s==="document")r=fl(We(t));else if(Me(s))r=bl(s,n);else{const a=In(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Kt(r)}function _n(t,s){const n=et(t);return n===s||!Me(n)||bt(n)?!1:Ie(n).position==="fixed"||_n(n,s)}function yl(t,s){const n=s.get(t);if(n)return n;let r=Dt(t,[],!1).filter(o=>Me(o)&&Nt(o)!=="body"),a=null;const l=Ie(t).position==="fixed";let i=l?et(t):t;for(;Me(i)&&!bt(i);){const o=Ie(i),m=$s(i);!m&&o.position==="fixed"&&(a=null),(l?!m&&!a:!m&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||It(i)&&!m&&_n(t,i))?r=r.filter(x=>x!==i):a=o,i=et(i)}return s.set(t,r),r}function vl(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const i=[...n==="clippingAncestors"?es(s)?[]:yl(s,this._c):[].concat(n),r],o=i[0],m=i.reduce((d,x)=>{const h=hn(s,x,a);return d.top=ge(h.top,d.top),d.right=Qe(h.right,d.right),d.bottom=Qe(h.bottom,d.bottom),d.left=ge(h.left,d.left),d},hn(s,o,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function wl(t){const{width:s,height:n}=Mn(t);return{width:s,height:n}}function Nl(t,s,n){const r=He(s),a=We(s),l=n==="fixed",i=ht(t,!0,l,s);let o={scrollLeft:0,scrollTop:0};const m=$e(0);function d(){m.x=Vs(a)}if(r||!r&&!l)if((Nt(s)!=="body"||It(a))&&(o=ts(s)),r){const u=ht(s,!0,l,s);m.x=u.x+s.clientLeft,m.y=u.y+s.clientTop}else a&&d();l&&!r&&a&&d();const x=a&&!r&&!l?Ln(a,o):$e(0),h=i.left+o.scrollLeft-m.x-x.x,g=i.top+o.scrollTop-m.y-x.y;return{x:h,y:g,width:i.width,height:i.height}}function us(t){return Ie(t).position==="static"}function un(t,s){if(!He(t)||Ie(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return We(t)===n&&(n=n.ownerDocument.body),n}function On(t,s){const n=fe(t);if(es(t))return n;if(!He(t)){let a=et(t);for(;a&&!bt(a);){if(Me(a)&&!us(a))return a;a=et(a)}return n}let r=un(t,s);for(;r&&ml(r)&&us(r);)r=un(r,s);return r&&bt(r)&&us(r)&&!$s(r)?n:r||xl(t)||n}const Sl=async function(t){const s=this.getOffsetParent||On,n=this.getDimensions,r=await n(t.floating);return{reference:Nl(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Cl(t){return Ie(t).direction==="rtl"}const Al={convertOffsetParentRelativeRectToViewportRelativeRect:gl,getDocumentElement:We,getClippingRect:vl,getOffsetParent:On,getElementRects:Sl,getClientRects:pl,getDimensions:wl,getScale:ft,isElement:Me,isRTL:Cl};function zn(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function kl(t,s){let n=null,r;const a=We(t);function l(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,m){o===void 0&&(o=!1),m===void 0&&(m=1),l();const d=t.getBoundingClientRect(),{left:x,top:h,width:g,height:u}=d;if(o||s(),!g||!u)return;const f=Ot(h),p=Ot(a.clientWidth-(x+g)),y=Ot(a.clientHeight-(h+u)),v=Ot(x),w={rootMargin:-f+"px "+-p+"px "+-y+"px "+-v+"px",threshold:ge(0,Qe(1,m))||1};let E=!0;function k(L){const P=L[0].intersectionRatio;if(P!==m){if(!E)return i();P?i(!1,P):r=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!zn(d,t.getBoundingClientRect())&&i(),E=!1}try{n=new IntersectionObserver(k,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(t)}return i(!0),l}function El(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,d=Ws(t),x=a||l?[...d?Dt(d):[],...Dt(s)]:[];x.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),l&&v.addEventListener("resize",n)});const h=d&&o?kl(d,n):null;let g=-1,u=null;i&&(u=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&u&&(u.unobserve(s),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(s)})),n()}),d&&!m&&u.observe(d),u.observe(s));let f,p=m?ht(t):null;m&&y();function y(){const v=ht(t);p&&!zn(p,v)&&n(),p=v,f=requestAnimationFrame(y)}return n(),()=>{var v;x.forEach(b=>{a&&b.removeEventListener("scroll",n),l&&b.removeEventListener("resize",n)}),h?.(),(v=u)==null||v.disconnect(),u=null,m&&cancelAnimationFrame(f)}}const Tl=il,Pl=ol,Dl=rl,Rl=dl,Ml=al,gn=nl,Il=cl,Ll=(t,s,n)=>{const r=new Map,a={platform:Al,...n},l={...a.platform,_c:r};return sl(t,s,{...a,platform:l})};var _l=typeof document<"u",Ol=function(){},$t=_l?c.useLayoutEffect:Ol;function Yt(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!Yt(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const l=a[r];if(!(l==="_owner"&&t.$$typeof)&&!Yt(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function Fn(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pn(t,s){const n=Fn(t);return Math.round(s*n)/n}function gs(t){const s=c.useRef(t);return $t(()=>{s.current=t}),s}function zl(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:i}={},transform:o=!0,whileElementsMounted:m,open:d}=t,[x,h]=c.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[g,u]=c.useState(r);Yt(g,r)||u(r);const[f,p]=c.useState(null),[y,v]=c.useState(null),b=c.useCallback(A=>{A!==L.current&&(L.current=A,p(A))},[]),w=c.useCallback(A=>{A!==P.current&&(P.current=A,v(A))},[]),E=l||f,k=i||y,L=c.useRef(null),P=c.useRef(null),M=c.useRef(x),S=m!=null,C=gs(m),I=gs(a),D=gs(d),R=c.useCallback(()=>{if(!L.current||!P.current)return;const A={placement:s,strategy:n,middleware:g};I.current&&(A.platform=I.current),Ll(L.current,P.current,A).then(V=>{const ce={...V,isPositioned:D.current!==!1};_.current&&!Yt(M.current,ce)&&(M.current=ce,Rs.flushSync(()=>{h(ce)}))})},[g,s,n,I,D]);$t(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[d]);const _=c.useRef(!1);$t(()=>(_.current=!0,()=>{_.current=!1}),[]),$t(()=>{if(E&&(L.current=E),k&&(P.current=k),E&&k){if(C.current)return C.current(E,k,R);R()}},[E,k,R,C,S]);const Y=c.useMemo(()=>({reference:L,floating:P,setReference:b,setFloating:w}),[b,w]),z=c.useMemo(()=>({reference:E,floating:k}),[E,k]),W=c.useMemo(()=>{const A={position:n,left:0,top:0};if(!z.floating)return A;const V=pn(z.floating,x.x),ce=pn(z.floating,x.y);return o?{...A,transform:"translate("+V+"px, "+ce+"px)",...Fn(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:ce}},[n,o,z.floating,x.x,x.y]);return c.useMemo(()=>({...x,update:R,refs:Y,elements:z,floatingStyles:W}),[x,R,Y,z,W])}const Fl=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?gn({element:r.current,padding:a}).fn(n):{}:r?gn({element:r,padding:a}).fn(n):{}}}},Bl=(t,s)=>({...Tl(t),options:[t,s]}),$l=(t,s)=>({...Pl(t),options:[t,s]}),Hl=(t,s)=>({...Il(t),options:[t,s]}),Wl=(t,s)=>({...Dl(t),options:[t,s]}),Vl=(t,s)=>({...Rl(t),options:[t,s]}),Ul=(t,s)=>({...Ml(t),options:[t,s]}),Kl=(t,s)=>({...Fl(t),options:[t,s]});var Yl="Arrow",Bn=c.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...l}=t;return e.jsx(Z.svg,{...l,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Bn.displayName=Yl;var Gl=Bn,Us="Popper",[$n,Hn]=vt(Us),[ql,Wn]=$n(Us),Vn=t=>{const{__scopePopper:s,children:n}=t,[r,a]=c.useState(null);return e.jsx(ql,{scope:s,anchor:r,onAnchorChange:a,children:n})};Vn.displayName=Us;var Un="PopperAnchor",Kn=c.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,l=Wn(Un,n),i=c.useRef(null),o=ae(s,i);return c.useEffect(()=>{l.onAnchorChange(r?.current||i.current)}),r?null:e.jsx(Z.div,{...a,ref:o})});Kn.displayName=Un;var Ks="PopperContent",[Zl,Xl]=$n(Ks),Yn=c.forwardRef((t,s)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:l="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:m=!0,collisionBoundary:d=[],collisionPadding:x=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:u="optimized",onPlaced:f,...p}=t,y=Wn(Ks,n),[v,b]=c.useState(null),w=ae(s,T=>b(T)),[E,k]=c.useState(null),L=wn(E),P=L?.width??0,M=L?.height??0,S=r+(l!=="center"?"-"+l:""),C=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},I=Array.isArray(d)?d:[d],D=I.length>0,R={padding:C,boundary:I.filter(Ql),altBoundary:D},{refs:_,floatingStyles:Y,placement:z,isPositioned:W,middlewareData:A}=zl({strategy:"fixed",placement:S,whileElementsMounted:(...T)=>El(...T,{animationFrame:u==="always"}),elements:{reference:y.anchor},middleware:[Bl({mainAxis:a+M,alignmentAxis:i}),m&&$l({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hl():void 0,...R}),m&&Wl({...R}),Vl({...R,apply:({elements:T,rects:U,availableWidth:ne,availableHeight:K})=>{const{width:ee,height:re}=U.reference,xe=T.floating.style;xe.setProperty("--radix-popper-available-width",`${ne}px`),xe.setProperty("--radix-popper-available-height",`${K}px`),xe.setProperty("--radix-popper-anchor-width",`${ee}px`),xe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),E&&Kl({element:E,padding:o}),ei({arrowWidth:P,arrowHeight:M}),g&&Ul({strategy:"referenceHidden",...R})]}),[V,ce]=Zn(z),we=Ge(f);ye(()=>{W&&we?.()},[W,we]);const Xe=A.arrow?.x,Ue=A.arrow?.y,Ne=A.arrow?.centerOffset!==0,[j,G]=c.useState();return ye(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),e.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[A.transformOrigin?.x,A.transformOrigin?.y].join(" "),...A.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Zl,{scope:n,placedSide:V,onArrowChange:k,arrowX:Xe,arrowY:Ue,shouldHideArrow:Ne,children:e.jsx(Z.div,{"data-side":V,"data-align":ce,...p,ref:w,style:{...p.style,animation:W?void 0:"none"}})})})});Yn.displayName=Ks;var Gn="PopperArrow",Jl={top:"bottom",right:"left",bottom:"top",left:"right"},qn=c.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,l=Xl(Gn,r),i=Jl[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(Gl,{...a,ref:n,style:{...a.style,display:"block"}})})});qn.displayName=Gn;function Ql(t){return t!==null}var ei=t=>({name:"transformOrigin",options:t,fn(s){const{placement:n,rects:r,middlewareData:a}=s,i=a.arrow?.centerOffset!==0,o=i?0:t.arrowWidth,m=i?0:t.arrowHeight,[d,x]=Zn(n),h={start:"0%",center:"50%",end:"100%"}[x],g=(a.arrow?.x??0)+o/2,u=(a.arrow?.y??0)+m/2;let f="",p="";return d==="bottom"?(f=i?h:`${g}px`,p=`${-m}px`):d==="top"?(f=i?h:`${g}px`,p=`${r.floating.height+m}px`):d==="right"?(f=`${-m}px`,p=i?h:`${u}px`):d==="left"&&(f=`${r.floating.width+m}px`,p=i?h:`${u}px`),{data:{x:f,y:p}}}});function Zn(t){const[s,n="center"]=t.split("-");return[s,n]}var ti=Vn,si=Kn,ni=Yn,ri=qn,Xn=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ai="VisuallyHidden",li=c.forwardRef((t,s)=>e.jsx(Z.span,{...t,ref:s,style:{...Xn,...t.style}}));li.displayName=ai;var ii=[" ","Enter","ArrowUp","ArrowDown"],oi=[" ","Enter"],ut="Select",[ss,ns,ci]=Nn(ut),[St,ec]=vt(ut,[ci,Hn]),rs=Hn(),[di,tt]=St(ut),[mi,xi]=St(ut),Jn=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:l,value:i,defaultValue:o,onValueChange:m,dir:d,name:x,autoComplete:h,disabled:g,required:u,form:f}=t,p=rs(s),[y,v]=c.useState(null),[b,w]=c.useState(null),[E,k]=c.useState(!1),L=Ls(d),[P,M]=jt({prop:r,defaultProp:a??!1,onChange:l,caller:ut}),[S,C]=jt({prop:i,defaultProp:o,onChange:m,caller:ut}),I=c.useRef(null),D=y?f||!!y.closest("form"):!0,[R,_]=c.useState(new Set),Y=Array.from(R).map(z=>z.props.value).join(";");return e.jsx(ti,{...p,children:e.jsxs(di,{required:u,scope:s,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:k,contentId:Rt(),value:S,onValueChange:C,open:P,onOpenChange:M,dir:L,triggerPointerDownPosRef:I,disabled:g,children:[e.jsx(ss.Provider,{scope:s,children:e.jsx(mi,{scope:t.__scopeSelect,onNativeOptionAdd:c.useCallback(z=>{_(W=>new Set(W).add(z))},[]),onNativeOptionRemove:c.useCallback(z=>{_(W=>{const A=new Set(W);return A.delete(z),A})},[]),children:n})}),D?e.jsxs(yr,{"aria-hidden":!0,required:u,tabIndex:-1,name:x,autoComplete:h,value:S,onChange:z=>C(z.target.value),disabled:g,form:f,children:[S===void 0?e.jsx("option",{value:""}):null,Array.from(R)]},Y):null]})})};Jn.displayName=ut;var Qn="SelectTrigger",er=c.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,l=rs(n),i=tt(Qn,n),o=i.disabled||r,m=ae(s,i.onTriggerChange),d=ns(n),x=c.useRef("touch"),[h,g,u]=wr(p=>{const y=d().filter(w=>!w.disabled),v=y.find(w=>w.value===i.value),b=Nr(y,p,v);b!==void 0&&i.onValueChange(b.value)}),f=p=>{o||(i.onOpenChange(!0),u()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(si,{asChild:!0,...l,children:e.jsx(Z.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":vr(i.value)?"":void 0,...a,ref:m,onClick:Q(a.onClick,p=>{p.currentTarget.focus(),x.current!=="mouse"&&f(p)}),onPointerDown:Q(a.onPointerDown,p=>{x.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(f(p),p.preventDefault())}),onKeyDown:Q(a.onKeyDown,p=>{const y=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(y&&p.key===" ")&&ii.includes(p.key)&&(f(),p.preventDefault())})})})});er.displayName=Qn;var tr="SelectValue",sr=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:l,placeholder:i="",...o}=t,m=tt(tr,n),{onValueNodeHasChildrenChange:d}=m,x=l!==void 0,h=ae(s,m.onValueNodeChange);return ye(()=>{d(x)},[d,x]),e.jsx(Z.span,{...o,ref:h,style:{pointerEvents:"none"},children:vr(m.value)?e.jsx(e.Fragment,{children:i}):l})});sr.displayName=tr;var hi="SelectIcon",nr=c.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx(Z.span,{"aria-hidden":!0,...a,ref:s,children:r||"â–¼"})});nr.displayName=hi;var ui="SelectPortal",rr=t=>e.jsx(ia,{asChild:!0,...t});rr.displayName=ui;var gt="SelectContent",ar=c.forwardRef((t,s)=>{const n=tt(gt,t.__scopeSelect),[r,a]=c.useState();if(ye(()=>{a(new DocumentFragment)},[]),!n.open){const l=r;return l?Rs.createPortal(e.jsx(lr,{scope:t.__scopeSelect,children:e.jsx(ss.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(ir,{...t,ref:s})});ar.displayName=gt;var ke=10,[lr,st]=St(gt),gi="SelectContentImpl",pi=aa("SelectContent.RemoveScroll"),ir=c.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:o,sideOffset:m,align:d,alignOffset:x,arrowPadding:h,collisionBoundary:g,collisionPadding:u,sticky:f,hideWhenDetached:p,avoidCollisions:y,...v}=t,b=tt(gt,n),[w,E]=c.useState(null),[k,L]=c.useState(null),P=ae(s,T=>E(T)),[M,S]=c.useState(null),[C,I]=c.useState(null),D=ns(n),[R,_]=c.useState(!1),Y=c.useRef(!1);c.useEffect(()=>{if(w)return oa(w)},[w]),ca();const z=c.useCallback(T=>{const[U,...ne]=D().map(re=>re.ref.current),[K]=ne.slice(-1),ee=document.activeElement;for(const re of T)if(re===ee||(re?.scrollIntoView({block:"nearest"}),re===U&&k&&(k.scrollTop=0),re===K&&k&&(k.scrollTop=k.scrollHeight),re?.focus(),document.activeElement!==ee))return},[D,k]),W=c.useCallback(()=>z([M,w]),[z,M,w]);c.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:A,triggerPointerDownPosRef:V}=b;c.useEffect(()=>{if(w){let T={x:0,y:0};const U=K=>{T={x:Math.abs(Math.round(K.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(K.pageY)-(V.current?.y??0))}},ne=K=>{T.x<=10&&T.y<=10?K.preventDefault():w.contains(K.target)||A(!1),document.removeEventListener("pointermove",U),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,A,V]),c.useEffect(()=>{const T=()=>A(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[A]);const[ce,we]=wr(T=>{const U=D().filter(ee=>!ee.disabled),ne=U.find(ee=>ee.ref.current===document.activeElement),K=Nr(U,T,ne);K&&setTimeout(()=>K.ref.current.focus())}),Xe=c.useCallback((T,U,ne)=>{const K=!Y.current&&!ne;(b.value!==void 0&&b.value===U||K)&&(S(T),K&&(Y.current=!0))},[b.value]),Ue=c.useCallback(()=>w?.focus(),[w]),Ne=c.useCallback((T,U,ne)=>{const K=!Y.current&&!ne;(b.value!==void 0&&b.value===U||K)&&I(T)},[b.value]),j=r==="popper"?As:or,G=j===As?{side:o,sideOffset:m,align:d,alignOffset:x,arrowPadding:h,collisionBoundary:g,collisionPadding:u,sticky:f,hideWhenDetached:p,avoidCollisions:y}:{};return e.jsx(lr,{scope:n,content:w,viewport:k,onViewportChange:L,itemRefCallback:Xe,selectedItem:M,onItemLeave:Ue,itemTextRefCallback:Ne,focusSelectedItem:W,selectedItemText:C,position:r,isPositioned:R,searchRef:ce,children:e.jsx(da,{as:pi,allowPinchZoom:!0,children:e.jsx(ma,{asChild:!0,trapped:b.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:Q(a,T=>{b.trigger?.focus({preventScroll:!0}),T.preventDefault()}),children:e.jsx(xa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(j,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:T=>T.preventDefault(),...v,...G,onPlaced:()=>_(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,T=>{const U=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!U&&T.key.length===1&&we(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let K=D().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(T.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const ee=T.target,re=K.indexOf(ee);K=K.slice(re+1)}setTimeout(()=>z(K)),T.preventDefault()}})})})})})})});ir.displayName=gi;var fi="SelectItemAlignedPosition",or=c.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,l=tt(gt,n),i=st(gt,n),[o,m]=c.useState(null),[d,x]=c.useState(null),h=ae(s,P=>x(P)),g=ns(n),u=c.useRef(!1),f=c.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=i,w=c.useCallback(()=>{if(l.trigger&&l.valueNode&&o&&d&&p&&y&&v){const P=l.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),S=l.valueNode.getBoundingClientRect(),C=v.getBoundingClientRect();if(l.dir!=="rtl"){const ee=C.left-M.left,re=S.left-ee,xe=P.left-re,Ke=P.width+xe,Ct=Math.max(Ke,M.width),At=window.innerWidth-ke,Lt=ws(re,[ke,Math.max(ke,At-Ct)]);o.style.minWidth=Ke+"px",o.style.left=Lt+"px"}else{const ee=M.right-C.right,re=window.innerWidth-S.right-ee,xe=window.innerWidth-P.right-re,Ke=P.width+xe,Ct=Math.max(Ke,M.width),At=window.innerWidth-ke,Lt=ws(re,[ke,Math.max(ke,At-Ct)]);o.style.minWidth=Ke+"px",o.style.right=Lt+"px"}const I=g(),D=window.innerHeight-ke*2,R=p.scrollHeight,_=window.getComputedStyle(d),Y=parseInt(_.borderTopWidth,10),z=parseInt(_.paddingTop,10),W=parseInt(_.borderBottomWidth,10),A=parseInt(_.paddingBottom,10),V=Y+z+R+A+W,ce=Math.min(y.offsetHeight*5,V),we=window.getComputedStyle(p),Xe=parseInt(we.paddingTop,10),Ue=parseInt(we.paddingBottom,10),Ne=P.top+P.height/2-ke,j=D-Ne,G=y.offsetHeight/2,T=y.offsetTop+G,U=Y+z+T,ne=V-U;if(U<=Ne){const ee=I.length>0&&y===I[I.length-1].ref.current;o.style.bottom="0px";const re=d.clientHeight-p.offsetTop-p.offsetHeight,xe=Math.max(j,G+(ee?Ue:0)+re+W),Ke=U+xe;o.style.height=Ke+"px"}else{const ee=I.length>0&&y===I[0].ref.current;o.style.top="0px";const xe=Math.max(Ne,Y+p.offsetTop+(ee?Xe:0)+G)+ne;o.style.height=xe+"px",p.scrollTop=U-Ne+p.offsetTop}o.style.margin=`${ke}px 0`,o.style.minHeight=ce+"px",o.style.maxHeight=D+"px",r?.(),requestAnimationFrame(()=>u.current=!0)}},[g,l.trigger,l.valueNode,o,d,p,y,v,l.dir,r]);ye(()=>w(),[w]);const[E,k]=c.useState();ye(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const L=c.useCallback(P=>{P&&f.current===!0&&(w(),b?.(),f.current=!1)},[w,b]);return e.jsx(bi,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:u,onScrollButtonChange:L,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(Z.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});or.displayName=fi;var ji="SelectPopperPosition",As=c.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=ke,...l}=t,i=rs(n);return e.jsx(ni,{...i,...l,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});As.displayName=ji;var[bi,Ys]=St(gt,{}),ks="SelectViewport",cr=c.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,l=st(ks,n),i=Ys(ks,n),o=ae(s,l.onViewportChange),m=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(ss.Slot,{scope:n,children:e.jsx(Z.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Q(a.onScroll,d=>{const x=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=i;if(g?.current&&h){const u=Math.abs(m.current-x.scrollTop);if(u>0){const f=window.innerHeight-ke*2,p=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(p,y);if(v<f){const b=v+u,w=Math.min(f,b),E=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(x.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}m.current=x.scrollTop})})})]})});cr.displayName=ks;var dr="SelectGroup",[yi,vi]=St(dr),wi=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Rt();return e.jsx(yi,{scope:n,id:a,children:e.jsx(Z.div,{role:"group","aria-labelledby":a,...r,ref:s})})});wi.displayName=dr;var mr="SelectLabel",Ni=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=vi(mr,n);return e.jsx(Z.div,{id:a.id,...r,ref:s})});Ni.displayName=mr;var Gt="SelectItem",[Si,xr]=St(Gt),hr=c.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:l,...i}=t,o=tt(Gt,n),m=st(Gt,n),d=o.value===r,[x,h]=c.useState(l??""),[g,u]=c.useState(!1),f=ae(s,b=>m.itemRefCallback?.(b,r,a)),p=Rt(),y=c.useRef("touch"),v=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Si,{scope:n,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:c.useCallback(b=>{h(w=>w||(b?.textContent??"").trim())},[]),children:e.jsx(ss.ItemSlot,{scope:n,value:r,disabled:a,textValue:x,children:e.jsx(Z.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:f,onFocus:Q(i.onFocus,()=>u(!0)),onBlur:Q(i.onBlur,()=>u(!1)),onClick:Q(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Q(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Q(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Q(i.onPointerMove,b=>{y.current=b.pointerType,a?m.onItemLeave?.():y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,b=>{b.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Q(i.onKeyDown,b=>{m.searchRef?.current!==""&&b.key===" "||(oi.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});hr.displayName=Gt;var Tt="SelectItemText",ur=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...l}=t,i=tt(Tt,n),o=st(Tt,n),m=xr(Tt,n),d=xi(Tt,n),[x,h]=c.useState(null),g=ae(s,v=>h(v),m.onItemTextChange,v=>o.itemTextRefCallback?.(v,m.value,m.disabled)),u=x?.textContent,f=c.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:u},m.value),[m.disabled,m.value,u]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=d;return ye(()=>(p(f),()=>y(f)),[p,y,f]),e.jsxs(e.Fragment,{children:[e.jsx(Z.span,{id:m.textId,...l,ref:g}),m.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Rs.createPortal(l.children,i.valueNode):null]})});ur.displayName=Tt;var gr="SelectItemIndicator",pr=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return xr(gr,n).isSelected?e.jsx(Z.span,{"aria-hidden":!0,...r,ref:s}):null});pr.displayName=gr;var Es="SelectScrollUpButton",fr=c.forwardRef((t,s)=>{const n=st(Es,t.__scopeSelect),r=Ys(Es,t.__scopeSelect),[a,l]=c.useState(!1),i=ae(s,r.onScrollButtonChange);return ye(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=m.scrollTop>0;l(d)};const m=n.viewport;return o(),m.addEventListener("scroll",o),()=>m.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(br,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:m}=n;o&&m&&(o.scrollTop=o.scrollTop-m.offsetHeight)}}):null});fr.displayName=Es;var Ts="SelectScrollDownButton",jr=c.forwardRef((t,s)=>{const n=st(Ts,t.__scopeSelect),r=Ys(Ts,t.__scopeSelect),[a,l]=c.useState(!1),i=ae(s,r.onScrollButtonChange);return ye(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=m.scrollHeight-m.clientHeight,x=Math.ceil(m.scrollTop)<d;l(x)};const m=n.viewport;return o(),m.addEventListener("scroll",o),()=>m.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(br,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:m}=n;o&&m&&(o.scrollTop=o.scrollTop+m.offsetHeight)}}):null});jr.displayName=Ts;var br=c.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,l=st("SelectScrollButton",n),i=c.useRef(null),o=ns(n),m=c.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return c.useEffect(()=>()=>m(),[m]),ye(()=>{o().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),e.jsx(Z.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:Q(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Q(a.onPointerMove,()=>{l.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Q(a.onPointerLeave,()=>{m()})})}),Ci="SelectSeparator",Ai=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(Z.div,{"aria-hidden":!0,...r,ref:s})});Ai.displayName=Ci;var Ps="SelectArrow",ki=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=rs(n),l=tt(Ps,n),i=st(Ps,n);return l.open&&i.position==="popper"?e.jsx(ri,{...a,...r,ref:s}):null});ki.displayName=Ps;var Ei="SelectBubbleInput",yr=c.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=c.useRef(null),l=ae(r,a),i=Sn(s);return c.useEffect(()=>{const o=a.current;if(!o)return;const m=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(i!==s&&x){const h=new Event("change",{bubbles:!0});x.call(o,s),o.dispatchEvent(h)}},[i,s]),e.jsx(Z.select,{...n,style:{...Xn,...n.style},ref:l,defaultValue:s})});yr.displayName=Ei;function vr(t){return t===""||t===void 0}function wr(t){const s=Ge(t),n=c.useRef(""),r=c.useRef(0),a=c.useCallback(i=>{const o=n.current+i;s(o),function m(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(o)},[s]),l=c.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,l]}function Nr(t,s,n){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,l=n?t.indexOf(n):-1;let i=Ti(t,Math.max(l,0));a.length===1&&(i=i.filter(d=>d!==n));const m=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==n?m:void 0}function Ti(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var Pi=Jn,Di=er,Ri=sr,Mi=nr,Ii=rr,Li=ar,_i=cr,Oi=hr,zi=ur,Fi=pr,Bi=fr,$i=jr;function ps({...t}){return e.jsx(Pi,{"data-slot":"select",...t})}function fs({...t}){return e.jsx(Ri,{"data-slot":"select-value",...t})}function js({className:t,size:s="default",children:n,...r}){return e.jsxs(Di,{"data-slot":"select-trigger","data-size":s,className:je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,e.jsx(Mi,{asChild:!0,children:e.jsx(_s,{className:"size-4 opacity-50"})})]})}function bs({className:t,children:s,position:n="popper",...r}){return e.jsx(Ii,{children:e.jsxs(Li,{"data-slot":"select-content",className:je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(Hi,{}),e.jsx(_i,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Wi,{})]})})}function he({className:t,children:s,...n}){return e.jsxs(Oi,{"data-slot":"select-item",className:je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Fi,{children:e.jsx(Cn,{className:"size-4"})})}),e.jsx(zi,{children:s})]})}function Hi({className:t,...s}){return e.jsx(Bi,{"data-slot":"select-scroll-up-button",className:je("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(wa,{className:"size-4"})})}function Wi({className:t,...s}){return e.jsx($i,{"data-slot":"select-scroll-down-button",className:je("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(_s,{className:"size-4"})})}var as="Switch",[Vi,tc]=vt(as),[Ui,Ki]=Vi(as),Sr=c.forwardRef((t,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:l,required:i,disabled:o,value:m="on",onCheckedChange:d,form:x,...h}=t,[g,u]=c.useState(null),f=ae(s,w=>u(w)),p=c.useRef(!1),y=g?x||!!g.closest("form"):!0,[v,b]=jt({prop:a,defaultProp:l??!1,onChange:d,caller:as});return e.jsxs(Ui,{scope:n,checked:v,disabled:o,children:[e.jsx(Z.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":Er(v),"data-disabled":o?"":void 0,disabled:o,value:m,...h,ref:f,onClick:Q(t.onClick,w=>{b(E=>!E),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&e.jsx(kr,{control:g,bubbles:!p.current,name:r,value:m,checked:v,required:i,disabled:o,form:x,style:{transform:"translateX(-100%)"}})]})});Sr.displayName=as;var Cr="SwitchThumb",Ar=c.forwardRef((t,s)=>{const{__scopeSwitch:n,...r}=t,a=Ki(Cr,n);return e.jsx(Z.span,{"data-state":Er(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});Ar.displayName=Cr;var Yi="SwitchBubbleInput",kr=c.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:r=!0,...a},l)=>{const i=c.useRef(null),o=ae(i,l),m=Sn(n),d=wn(s);return c.useEffect(()=>{const x=i.current;if(!x)return;const h=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(h,"checked").set;if(m!==n&&u){const f=new Event("click",{bubbles:r});u.call(x,n),x.dispatchEvent(f)}},[m,n,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kr.displayName=Yi;function Er(t){return t?"checked":"unchecked"}var Gi=Sr,qi=Ar;function _e({className:t,...s}){return e.jsx("div",{className:"flex items-center justify-end shrink-0",style:{width:"44px",minWidth:"44px",maxWidth:"44px"},children:e.jsx(Gi,{"data-slot":"switch",className:je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-gray-300 dark:data-[state=unchecked]:bg-gray-600 focus-visible:border-ring focus-visible:ring-ring/50 inline-flex items-center rounded-full border-2 data-[state=unchecked]:border-gray-400 dark:data-[state=unchecked]:border-gray-500 data-[state=checked]:border-transparent shadow-sm transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50","!h-6 !w-11 !min-w-[44px] !max-w-[44px] !p-0 !shrink-0",t),...s,children:e.jsx(qi,{"data-slot":"switch-thumb",className:je("bg-white data-[state=unchecked]:bg-white data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0","!h-5 !w-5 !min-h-[20px] !min-w-[20px] !max-h-[20px] !max-w-[20px] !m-0 !shrink-0")})})})}function Zi(){const[t,s]=c.useState(!0),[n,r]=c.useState(null),[a,l]=c.useState(!1);c.useEffect(()=>{i()},[]);const i=async()=>{s(!0);try{const d=await fetch(`${te}/api/admin/system-status`);if(d.ok){const x=await d.json();r(x)}}catch(d){console.error("Error checking system status:",d)}finally{s(!1)}},o=async()=>{l(!0),await i(),l(!1)},m=d=>{switch(d){case"admin":return"bg-purple-600";case"google":return"bg-blue-600";case"webflow":return"bg-cyan-600";default:return"bg-gray-600"}};return e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:e.jsx(Ft,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"System-Diagnose"}),e.jsx(Pe,{className:"text-xs",children:"ÃœberprÃ¼fung aller Umgebungsvariablen und Integrationen"})]}),e.jsxs(H,{onClick:o,variant:"outline",size:"sm",disabled:a||t,className:"rounded-lg text-xs",children:[a||t?e.jsx(me,{className:"w-3 h-3 animate-spin mr-1.5"}):e.jsx(ue,{className:"w-3 h-3 mr-1.5"}),"Testen"]})]})}),e.jsx(B,{className:"space-y-3",children:t?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(me,{className:"w-6 h-6 animate-spin text-indigo-600"})}):n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"p-2.5 bg-gray-50 rounded-lg border",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Gesamt"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:n.summary.total})]}),e.jsxs("div",{className:"p-2.5 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 mb-0.5",children:"Aktiv"}),e.jsx("p",{className:"text-lg font-bold text-green-900",children:n.summary.passed})]}),e.jsxs("div",{className:"p-2.5 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-xs text-red-700 mb-0.5",children:"Fehlend"}),e.jsx("p",{className:"text-lg font-bold text-red-900",children:n.summary.failed})]})]}),n.summary.requiredMissing>0&&e.jsx("div",{className:"p-3 bg-red-50 border-2 border-red-300 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-bold text-red-900 mb-1",children:["âš ï¸ ",n.summary.requiredMissing," erforderliche Variable(n) fehlen"]}),e.jsx("p",{className:"text-xs text-red-800 mb-2 leading-relaxed",children:"Das System kann ohne diese Variablen nicht vollstÃ¤ndig funktionieren."}),e.jsx("div",{className:"space-y-1",children:n.missingRequired.map(d=>e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-red-900",children:d.name}),e.jsx("p",{className:"text-xs text-red-700",children:d.description}),e.jsx("code",{className:"text-[10px] bg-red-100 px-1.5 py-0.5 rounded text-red-800",children:d.key})]})]},d.key))})]})]})}),e.jsx(ie,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-900 mb-2 flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${m("admin")}`}),"Admin-Konfiguration",e.jsxs($,{variant:"outline",className:"text-[10px] ml-auto",children:[n.byCategory.admin.filter(d=>d.status).length," / ",n.byCategory.admin.length]})]}),e.jsx("div",{className:"space-y-1.5",children:n.byCategory.admin.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg text-xs border",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.status?e.jsx(ue,{className:"w-3.5 h-3.5 text-green-600 flex-shrink-0"}):e.jsx(Oe,{className:"w-3.5 h-3.5 text-red-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-900 font-medium truncate",children:d.name}),e.jsx("p",{className:"text-gray-600 text-[10px] truncate",children:d.description})]})]}),e.jsx($,{variant:"outline",className:`text-[10px] flex-shrink-0 ml-2 ${d.status?"bg-green-50 text-green-800 border-green-300":"bg-red-50 text-red-800 border-red-300"}`,children:d.value})]},d.key))})]}),e.jsx(ie,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-900 mb-2 flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${m("google")}`}),"Google Calendar Integration",e.jsxs($,{variant:"outline",className:"text-[10px] ml-auto",children:[n.byCategory.google.filter(d=>d.status).length," / ",n.byCategory.google.length]})]}),e.jsxs("div",{className:"space-y-1.5",children:[n.byCategory.google.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg text-xs border",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.status?e.jsx(ue,{className:"w-3.5 h-3.5 text-green-600 flex-shrink-0"}):e.jsx(Oe,{className:"w-3.5 h-3.5 text-red-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-900 font-medium truncate",children:d.name}),e.jsx("p",{className:"text-gray-600 text-[10px] truncate",children:d.description})]})]}),e.jsx($,{variant:"outline",className:`text-[10px] flex-shrink-0 ml-2 ${d.status?"bg-green-50 text-green-800 border-green-300":"bg-red-50 text-red-800 border-red-300"}`,children:d.value})]},d.key)),n.googleCalendarStatus&&e.jsx("div",{className:`p-3 rounded-xl border-2 ${n.googleCalendarStatus.success?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[n.googleCalendarStatus.success?e.jsx(ue,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):e.jsx(Oe,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold mb-1",children:n.googleCalendarStatus.success?e.jsx("span",{className:"text-green-900",children:"âœ“ Verbindung erfolgreich"}):e.jsx("span",{className:"text-red-900",children:"âœ— Verbindung fehlgeschlagen"})}),n.googleCalendarStatus.calendarName&&e.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Kalender:"})," ",n.googleCalendarStatus.calendarName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Zeitzone:"})," ",n.googleCalendarStatus.timeZone]}),e.jsx("code",{className:"text-[10px] bg-green-100 px-1.5 py-0.5 rounded",children:n.googleCalendarStatus.calendarId})]}),n.googleCalendarStatus.error&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-red-800 leading-relaxed",children:n.googleCalendarStatus.error}),n.googleCalendarStatus.errorType==="auth"&&e.jsx("p",{className:"text-xs text-red-700 font-medium",children:"â†’ Refresh Token mÃ¶glicherweise abgelaufen oder ungÃ¼ltig"}),n.googleCalendarStatus.errorType==="calendar"&&e.jsx("p",{className:"text-xs text-red-700 font-medium",children:"â†’ ÃœberprÃ¼fen Sie die GOOGLE_CALENDAR_ID"})]})]})]})}),!n.googleCalendarStatus&&n.byCategory.google.some(d=>!d.status)&&e.jsx("div",{className:"p-2.5 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-yellow-800",children:"Verbindungstest wird durchgefÃ¼hrt sobald alle Google-Variablen gesetzt sind"})]})})]})]}),e.jsx(ie,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-900 mb-2 flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${m("webflow")}`}),"Webflow CMS",e.jsx($,{variant:"outline",className:"text-[10px] bg-gray-100 text-gray-600 ml-1",children:"Optional"}),e.jsxs($,{variant:"outline",className:"text-[10px] ml-auto",children:[n.byCategory.webflow.filter(d=>d.status).length," / ",n.byCategory.webflow.length]})]}),e.jsx("div",{className:"space-y-1.5",children:n.byCategory.webflow.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg text-xs border",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.status?e.jsx(ue,{className:"w-3.5 h-3.5 text-green-600 flex-shrink-0"}):e.jsx(Oe,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-900 font-medium truncate",children:d.name}),e.jsx("p",{className:"text-gray-600 text-[10px] truncate",children:d.description})]})]}),e.jsx($,{variant:"outline",className:`text-[10px] flex-shrink-0 ml-2 ${d.status?"bg-green-50 text-green-800 border-green-300":"bg-gray-100 text-gray-600 border-gray-300"}`,children:d.value})]},d.key))})]}),n.needsAttention&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:"Setup erforderlich"}),e.jsx("p",{className:"text-xs text-blue-800 leading-relaxed mb-2",children:'Fehlende Umgebungsvariablen mÃ¼ssen in den Webflow-Umgebungseinstellungen gesetzt werden. Nach dem Setzen klicken Sie auf "Testen" um die Konfiguration zu Ã¼berprÃ¼fen.'}),e.jsxs("a",{href:"https://university.webflow.com/lesson/environment-variables",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-blue-700 hover:text-blue-900",children:["Webflow Docs: Environment Variables",e.jsx(Os,{className:"w-3 h-3"})]})]})]})})]})]}):e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-red-900 mb-1",children:"Fehler beim Laden des System-Status"}),e.jsx("p",{className:"text-xs text-red-800",children:"Bitte versuchen Sie es erneut oder kontaktieren Sie den Support."})]})]})})})]})}const Ye={companyName:"MORO",companyAddress:"Eupener Str. 124, 50933 KÃ¶ln",companyPhone:"+49 221 292 40 500",companyEmail:"info@moro-gmbh.de",companyWebsite:"https://www.moroclub.com",logoUrl:"https://cdn.prod.website-files.com/66c5b6f94041a6256d15cfa6/66d86596b9d572660f8b239d_moro-logo.svg",primaryColor:"#2d62ff",maxAppointmentsPerSlot:1,maxBookingsPerSlot:1,bookingMode:"manual",autoConfirm:!1,requireApproval:!0,adminEmail:"info@moro-gmbh.de",emailNotifications:!0,appointmentDurationMinutes:30,availableDays:{friday:!0,saturday:!0,sunday:!0},showSlotIndicator:!0,messagePlaceholder:"Ihre Nachricht...",preventDuplicateEmail:!0,standInfo:"Stand B4.110, Messe MÃ¼nchen",eventLocation:"Stand B4.110",eventHall:"Messe MÃ¼nchen",eventEnded:!1,eventEndDate:new Date().toISOString(),eventName:"OPTI",eventYear:2025,eventDateFriday:"2025-01-24",eventDateSaturday:"2025-01-25",eventDateSunday:"2025-01-26",maintenanceMode:!1,maintenanceMessage:"Das Buchungssystem ist vorÃ¼bergehend nicht verfÃ¼gbar. Bitte versuchen Sie es spÃ¤ter erneut.",rateLimitingEnabled:!0,rateLimitMaxRequests:5,rateLimitWindowMinutes:15};function Xi({isOpen:t,onClose:s}){const[n,r]=c.useState(Ye),[a,l]=c.useState(Ye),[i,o]=c.useState(!1),[m,d]=c.useState("idle"),[x,h]=c.useState(!1),[g,u]=c.useState(!1),[f,p]=c.useState(null),[y,v]=c.useState(!1),[b,w]=c.useState(!1),[E,k]=c.useState(!1),[L,P]=c.useState(!1),[M,S]=c.useState(!1),[C,I]=c.useState(!1);c.useEffect(()=>{t&&(_(),D())},[t]),c.useEffect(()=>{const j=JSON.stringify(n)!==JSON.stringify(a);h(j)},[n,a]);const D=async()=>{try{const j=await fetch(`${te}/api/admin/system-status`);if(j.ok){const G=await j.json();p(G)}}catch(j){console.error("Error checking system status:",j)}},R=async()=>{I(!0);try{await Promise.all([_(),D()]),q.success("Einstellungen aktualisiert")}catch(j){console.error("Error refreshing:",j),q.error("Fehler beim Aktualisieren")}finally{I(!1)}},_=async()=>{try{const j=await fetch(`${te}/api/admin/settings`);if(j.ok){const G=await j.json(),T={...Ye,...G.settings};r(T),l(T)}}catch(j){console.error("Fehler beim Laden der Einstellungen:",j),q.error("Fehler beim Laden der Einstellungen")}},Y=async()=>{d("saving"),o(!0);try{const j=await fetch(`${te}/api/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:n})});if(j.ok)d("success"),l(n),h(!1),u(!1),q.success("Einstellungen erfolgreich gespeichert"),setTimeout(()=>d("idle"),2e3);else{const G=await j.json();throw new Error(G.message||"Fehler beim Speichern")}}catch(j){d("error"),q.error(j.message||"Fehler beim Speichern der Einstellungen"),setTimeout(()=>d("idle"),2e3)}finally{o(!1)}},z=()=>{x?u(!0):s()},W=()=>{r(a),h(!1),u(!1),s()},A=(j,G)=>{r(T=>({...T,[j]:G}))},V=(j,G,T)=>{r(U=>({...U,[j]:{...U[j],[G]:T}}))},ce=j=>{const G=new Date(j);if(G.getDay()!==5){q.error("Bitte wÃ¤hlen Sie einen Freitag als Startdatum");return}const T=new Date(G);T.setDate(T.getDate()+1);const U=new Date(G);U.setDate(U.getDate()+2);const ne=K=>K.toISOString().split("T")[0];r(K=>({...K,eventDateFriday:j,eventDateSaturday:ne(T),eventDateSunday:ne(U),eventEndDate:new Date(U.setHours(23,59,59,999)).toISOString()}))};c.useEffect(()=>{if(n.eventLocation&&n.eventHall){const j=`${n.eventLocation}, ${n.eventHall}`;j!==n.standInfo&&r(G=>({...G,standInfo:j}))}},[n.eventLocation,n.eventHall]);const we=async()=>{S(!0);try{const j=await fetch(`${te}/api/admin/appointments/delete-all`,{method:"POST",headers:{"Content-Type":"application/json"}});if(j.ok)q.success("Alle Termine wurden gelÃ¶scht"),v(!1);else{const G=await j.json();throw new Error(G.message||"Fehler beim LÃ¶schen")}}catch(j){q.error(j.message||"Fehler beim LÃ¶schen der Termine")}finally{S(!1)}},Xe=async()=>{S(!0);try{const j=await fetch(`${te}/api/admin/audit-log/delete-all`,{method:"POST",headers:{"Content-Type":"application/json"}});if(j.ok)q.success("Audit Log wurde gelÃ¶scht"),w(!1);else{const G=await j.json();throw new Error(G.message||"Fehler beim LÃ¶schen")}}catch(j){q.error(j.message||"Fehler beim LÃ¶schen des Audit Logs")}finally{S(!1)}},Ue=async()=>{S(!0);try{r(Ye);const j=await fetch(`${te}/api/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:Ye})});if(j.ok)l(Ye),h(!1),q.success("Einstellungen wurden zurÃ¼ckgesetzt"),k(!1);else{const G=await j.json();throw new Error(G.message||"Fehler beim ZurÃ¼cksetzen")}}catch(j){q.error(j.message||"Fehler beim ZurÃ¼cksetzen der Einstellungen")}finally{S(!1)}},Ne=async()=>{S(!0);try{await fetch(`${te}/api/admin/appointments/delete-all`,{method:"POST",headers:{"Content-Type":"application/json"}}),await fetch(`${te}/api/admin/audit-log/delete-all`,{method:"POST",headers:{"Content-Type":"application/json"}}),r(Ye),await fetch(`${te}/api/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:Ye})}),l(Ye),h(!1),q.success("Alles wurde zurÃ¼ckgesetzt"),P(!1)}catch(j){q.error(j.message||"Fehler beim ZurÃ¼cksetzen")}finally{S(!1)}};return t?e.jsxs(e.Fragment,{children:[e.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:z,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(be.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-3xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(Ft,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Einstellungen"}),e.jsx("p",{className:"text-sm text-gray-600",children:"System-Konfiguration"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{onClick:R,variant:"outline",size:"icon",disabled:C,className:"rounded-full text-gray-900",children:e.jsx(mt,{className:`w-4 h-4 ${C?"animate-spin":""}`})}),e.jsx(H,{onClick:z,variant:"ghost",size:"icon",className:"rounded-full text-gray-900",children:e.jsx(xt,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6 space-y-3",children:[f&&f.needsAttention&&e.jsx(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsx(F,{className:"border-2 border-red-300 bg-red-50 rounded-xl shadow-md",children:e.jsx(B,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg flex-shrink-0",children:e.jsx(Be,{className:"w-5 h-5 text-red-700"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-red-900 mb-1",children:"âš ï¸ Konfiguration erforderlich"}),e.jsx("p",{className:"text-xs text-red-800 leading-relaxed mb-2",children:"Das System ist nicht vollstÃ¤ndig konfiguriert. Bitte Ã¼berprÃ¼fen Sie die System-Diagnose weiter unten."}),f.missingRequired.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-red-900",children:"Fehlende Umgebungsvariablen:"}),f.missingRequired.map(j=>e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsx("code",{className:"text-xs bg-red-100 px-1.5 py-0.5 rounded text-red-900 font-mono",children:j.key})]},j.key))]}),f.googleCalendarStatus&&!f.googleCalendarStatus.success&&e.jsxs("div",{className:"mt-2 p-2 bg-red-100 rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold text-red-900",children:"Google Calendar Fehler:"}),e.jsx("p",{className:"text-xs text-red-800",children:f.googleCalendarStatus.error})]})]})]})})})}),x&&e.jsx(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsx(F,{className:"border-yellow-200 bg-yellow-50 rounded-xl",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(Ft,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-yellow-900",children:"Ungespeicherte Ã„nderungen"}),e.jsx("p",{className:"text-xs text-yellow-800 leading-relaxed",children:"Sie haben Ã„nderungen vorgenommen, die noch nicht gespeichert wurden."})]})]})})})}),n.maintenanceMode&&e.jsx(F,{className:"border-orange-200 bg-orange-50 rounded-xl",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(Be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-900",children:"Wartungsmodus aktiv"}),e.jsx("p",{className:"text-xs text-orange-800 leading-relaxed",children:"Das Buchungssystem ist fÃ¼r Nutzer deaktiviert."})]})]})})}),e.jsx(F,{className:"border-blue-200 bg-blue-50 rounded-xl",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(on,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-900",children:"Hinweis"}),e.jsx("p",{className:"text-xs text-blue-800 leading-relaxed",children:"Ã„nderungen werden erst nach dem Speichern wirksam. Alle Ã„nderungen werden im Audit-Log protokolliert."})]})]})})}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-purple-50 rounded-lg",children:e.jsx(vs,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Benachrichtigungen"}),e.jsx(Pe,{className:"text-xs",children:"E-Mail-Benachrichtigungen konfigurieren"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"adminEmail",className:"text-xs font-medium",children:"Admin E-Mail *"}),e.jsx(oe,{id:"adminEmail",type:"email",value:n.adminEmail,onChange:j=>A("adminEmail",j.target.value),placeholder:"admin@beispiel.de",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"An diese E-Mail-Adresse werden Buchungsbenachrichtigungen gesendet"})]}),e.jsx(ie,{}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"E-Mail-Benachrichtigungen"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Benachrichtigungen bei neuen Terminanfragen"})]}),e.jsx(_e,{checked:n.emailNotifications,onCheckedChange:j=>A("emailNotifications",j)})]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-green-50 rounded-lg",children:e.jsx(Ba,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Sicherheit & Buchungen"}),e.jsx(Pe,{className:"text-xs",children:"Buchungseinstellungen und Sicherheitsoptionen"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Automatische BestÃ¤tigung"}),e.jsx("p",{className:"text-xs text-gray-600",children:n.autoConfirm?"Termine werden sofort bestÃ¤tigt":"Termine mÃ¼ssen manuell vom Admin bestÃ¤tigt werden"})]}),e.jsx(_e,{checked:n.autoConfirm,onCheckedChange:j=>A("autoConfirm",j)})]}),e.jsx(ie,{}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Doppelbuchungen verhindern"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Verhindert mehrere Buchungen mit derselben E-Mail"})]}),e.jsx(_e,{checked:n.preventDuplicateEmail,onCheckedChange:j=>A("preventDuplicateEmail",j)})]}),e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"maxAppointments",className:"text-xs font-medium",children:"Max. Termine pro Zeitslot"}),e.jsx(oe,{id:"maxAppointments",type:"number",min:"1",max:"50",value:n.maxAppointmentsPerSlot,onChange:j=>A("maxAppointmentsPerSlot",parseInt(j.target.value)),className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Wie viele Personen kÃ¶nnen denselben Zeitslot buchen"})]}),e.jsx(ie,{}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Slot-Indikator anzeigen"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Zeigt verfÃ¼gbare PlÃ¤tze im Zeitslot an"})]}),e.jsx(_e,{checked:n.showSlotIndicator,onCheckedChange:j=>A("showSlotIndicator",j)})]}),e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"messagePlaceholder",className:"text-xs font-medium",children:"Nachrichten-Platzhalter"}),e.jsx(oe,{id:"messagePlaceholder",value:n.messagePlaceholder,onChange:j=>A("messagePlaceholder",j.target.value),placeholder:"Ihre Nachricht...",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Platzhalter-Text fÃ¼r das Nachrichtenfeld im Buchungsformular"})]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg",children:e.jsx(ze,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Event-Konfiguration"}),e.jsx(Pe,{className:"text-xs",children:"Name, Jahr und Zeitraum Ihres Events"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"eventName",className:"text-xs font-medium",children:"Event-Name *"}),e.jsx(oe,{id:"eventName",value:n.eventName||"",onChange:j=>A("eventName",j.target.value),placeholder:"OPTI",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:'Z.B. "OPTI" wird mit dem Jahr kombiniert zu "OPTI 25"'})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"eventYear",className:"text-xs font-medium",children:"Event-Jahr *"}),e.jsx(oe,{id:"eventYear",type:"number",min:"2024",max:"2100",value:n.eventYear,onChange:j=>A("eventYear",parseInt(j.target.value)),className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:'Wird fÃ¼r die Anzeige verwendet (z.B. "OPTI 25")'})]}),e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"eventDateFriday",className:"text-xs font-medium",children:"Startdatum (Freitag) *"}),e.jsx(oe,{id:"eventDateFriday",type:"date",value:n.eventDateFriday||"",onChange:j=>ce(j.target.value),className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"WÃ¤hlen Sie einen Freitag - Samstag und Sonntag werden automatisch berechnet"})]}),e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"appointmentDuration",className:"text-xs font-medium",children:"Termindauer (Minuten) *"}),e.jsx(oe,{id:"appointmentDuration",type:"number",min:"5",max:"240",step:"5",value:n.appointmentDurationMinutes,onChange:j=>A("appointmentDurationMinutes",parseInt(j.target.value)),className:"text-sm"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Jeder Termin dauert standardmÃ¤ÃŸig ",n.appointmentDurationMinutes," Minuten"]})]}),e.jsx(ie,{}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Event manuell beenden"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Zeigt Event-Ende-Bildschirm an"})]}),e.jsx(_e,{checked:n.eventEnded,onCheckedChange:j=>A("eventEnded",j)})]}),!n.eventEnded&&e.jsxs("div",{className:"p-2.5 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900",children:[e.jsx(on,{className:"h-3.5 w-3.5 inline mr-1.5"}),"Event endet automatisch am Sonntag um 23:59 Uhr"]}),n.eventEnded&&e.jsxs("div",{className:"p-2.5 bg-orange-50 border border-orange-200 rounded-lg text-xs text-orange-900",children:[e.jsx(Be,{className:"h-3.5 w-3.5 inline mr-1.5"}),e.jsx("strong",{children:"Event beendet:"})," Nutzer sehen den Event-Ende-Bildschirm"]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-cyan-50 rounded-lg",children:e.jsx(Re,{className:"w-4 h-4 text-cyan-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"VerfÃ¼gbare Tage"}),e.jsx(Pe,{className:"text-xs",children:"An welchen Tagen kÃ¶nnen Termine gebucht werden?"})]})]})}),e.jsxs(B,{className:"space-y-2 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-2.5 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{htmlFor:"dayFriday",className:"text-sm cursor-pointer font-medium",children:"Freitag"}),n.eventDateFriday&&e.jsx("p",{className:"text-xs text-gray-600",children:new Date(n.eventDateFriday).toLocaleDateString("de-DE")})]}),e.jsx(_e,{id:"dayFriday",checked:n.availableDays.friday,onCheckedChange:j=>V("availableDays","friday",j)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2.5 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{htmlFor:"daySaturday",className:"text-sm cursor-pointer font-medium",children:"Samstag"}),n.eventDateSaturday&&e.jsx("p",{className:"text-xs text-gray-600",children:new Date(n.eventDateSaturday).toLocaleDateString("de-DE")})]}),e.jsx(_e,{id:"daySaturday",checked:n.availableDays.saturday,onCheckedChange:j=>V("availableDays","saturday",j)})]}),e.jsxs("div",{className:"flex items-center justify-between p-2.5 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{htmlFor:"daySunday",className:"text-sm cursor-pointer font-medium",children:"Sonntag"}),n.eventDateSunday&&e.jsx("p",{className:"text-xs text-gray-600",children:new Date(n.eventDateSunday).toLocaleDateString("de-DE")})]}),e.jsx(_e,{id:"daySunday",checked:n.availableDays.sunday,onCheckedChange:j=>V("availableDays","sunday",j)})]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-50 rounded-lg",children:e.jsx(ja,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Firmendaten"}),e.jsx(Pe,{className:"text-xs",children:"Ihre Kontaktinformationen und Logo"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"companyName",className:"text-xs font-medium",children:"Firmenname *"}),e.jsx(oe,{id:"companyName",value:n.companyName,onChange:j=>A("companyName",j.target.value),placeholder:"MORO",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"logoUrl",className:"text-xs font-medium",children:"Logo URL"}),e.jsx(oe,{id:"logoUrl",type:"url",value:n.logoUrl||"",onChange:j=>A("logoUrl",j.target.value),placeholder:"https://example.com/logo.svg",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"URL zu Ihrem Firmenlogo (wird im Buchungsformular angezeigt)"})]}),e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"companyEmail",className:"text-xs font-medium",children:"Firmen-E-Mail *"}),e.jsx(oe,{id:"companyEmail",type:"email",value:n.companyEmail,onChange:j=>A("companyEmail",j.target.value),placeholder:"info@moro-gmbh.de",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"companyPhone",className:"text-xs font-medium",children:"Telefonnummer *"}),e.jsx(oe,{id:"companyPhone",type:"tel",value:n.companyPhone,onChange:j=>A("companyPhone",j.target.value),placeholder:"+49 221 292 40 500",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"companyAddress",className:"text-xs font-medium",children:"Adresse *"}),e.jsx(oe,{id:"companyAddress",value:n.companyAddress,onChange:j=>A("companyAddress",j.target.value),placeholder:"Eupener Str. 124, 50933 KÃ¶ln",className:"text-sm"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"companyWebsite",className:"text-xs font-medium",children:"Website"}),e.jsx(oe,{id:"companyWebsite",type:"url",value:n.companyWebsite||"",onChange:j=>A("companyWebsite",j.target.value),placeholder:"https://www.moroclub.com",className:"text-sm"})]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-red-50 rounded-lg",children:e.jsx(ha,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Event-Standort"}),e.jsx(Pe,{className:"text-xs",children:"Wo findet Ihr Event statt?"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"eventLocation",className:"text-xs font-medium",children:"Standort *"}),e.jsx(oe,{id:"eventLocation",value:n.eventLocation||"",onChange:j=>A("eventLocation",j.target.value),placeholder:"Stand B4.110",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Z.B. Stand-Nummer oder Raum"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"eventHall",className:"text-xs font-medium",children:"Halle/GebÃ¤ude *"}),e.jsx(oe,{id:"eventHall",value:n.eventHall||"",onChange:j=>A("eventHall",j.target.value),placeholder:"Messe MÃ¼nchen",className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Z.B. Messehalle oder GebÃ¤udename"})]}),n.eventLocation&&n.eventHall&&e.jsxs("div",{className:"p-2.5 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"VollstÃ¤ndige Stand-Info (automatisch):"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.standInfo})]})]})]}),e.jsxs(F,{className:"border-gray-200 rounded-xl",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-yellow-50 rounded-lg",children:e.jsx(Ft,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-gray-900",children:"Erweiterte Einstellungen"}),e.jsx(Pe,{className:"text-xs",children:"Rate Limiting und Wartungsmodus"})]})]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Rate Limiting aktivieren"}),e.jsx("p",{className:"text-xs text-gray-600",children:"SchÃ¼tzt vor zu vielen Anfragen"})]}),e.jsx(_e,{checked:n.rateLimitingEnabled,onCheckedChange:j=>A("rateLimitingEnabled",j)})]}),n.rateLimitingEnabled&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"rateLimitMax",className:"text-xs font-medium",children:"Max. Anfragen"}),e.jsx(oe,{id:"rateLimitMax",type:"number",min:"1",max:"50",value:n.rateLimitMaxRequests,onChange:j=>A("rateLimitMaxRequests",parseInt(j.target.value)),className:"text-sm"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Maximal ",n.rateLimitMaxRequests," Anfragen erlaubt"]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"rateLimitWindow",className:"text-xs font-medium",children:"Zeitfenster (Minuten)"}),e.jsx(oe,{id:"rateLimitWindow",type:"number",min:"1",max:"60",value:n.rateLimitWindowMinutes,onChange:j=>A("rateLimitWindowMinutes",parseInt(j.target.value)),className:"text-sm"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Innerhalb von ",n.rateLimitWindowMinutes," Minuten"]})]})]}),e.jsx(ie,{}),e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(X,{className:"text-xs font-medium",children:"Wartungsmodus"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Deaktiviert das Buchungssystem vorÃ¼bergehend"})]}),e.jsx(_e,{checked:n.maintenanceMode,onCheckedChange:j=>A("maintenanceMode",j)})]}),n.maintenanceMode&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(X,{htmlFor:"maintenanceMessage",className:"text-xs font-medium",children:"Wartungsnachricht"}),e.jsx(oe,{id:"maintenanceMessage",value:n.maintenanceMessage||"",onChange:j=>A("maintenanceMessage",j.target.value),placeholder:"Das Buchungssystem ist vorÃ¼bergehend nicht verfÃ¼gbar.",className:"text-sm"})]})]})]})]}),e.jsx(Zi,{}),e.jsxs(F,{className:"border-red-300 bg-red-50 rounded-xl mt-4",children:[e.jsx(Ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-red-100 rounded-lg",children:e.jsx(kt,{className:"w-4 h-4 text-red-700"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Te,{className:"text-base text-red-900",children:"Gefahrenbereich"}),e.jsx(Pe,{className:"text-xs text-red-700",children:"Vorsicht: Diese Aktionen kÃ¶nnen nicht rÃ¼ckgÃ¤ngig gemacht werden!"})]})]})}),e.jsxs(B,{className:"space-y-2 pt-4",children:[e.jsx(F,{className:"border-red-200 rounded-lg",children:e.jsx(B,{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Alle Termine lÃ¶schen"}),e.jsxs("p",{className:"text-xs text-red-700 mb-4 leading-relaxed",children:["LÃ¶scht ",e.jsx("strong",{children:"alle Termine"})," permanent aus der Datenbank. Dies betrifft bestÃ¤tigte, ausstehende und stornierte Termine."]}),e.jsxs(H,{onClick:()=>v(!0),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100 text-xs rounded-lg",children:[e.jsx(De,{className:"w-3 h-3 mr-1.5"}),"Alle Termine lÃ¶schen"]})]})]})})}),e.jsx(F,{className:"border-red-200 rounded-lg",children:e.jsx(B,{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Audit Log lÃ¶schen"}),e.jsxs("p",{className:"text-xs text-red-700 mb-4 leading-relaxed",children:["LÃ¶scht ",e.jsx("strong",{children:"alle EintrÃ¤ge"})," aus dem Audit Log. Die komplette Historie aller Admin-Aktionen geht verloren."]}),e.jsxs(H,{onClick:()=>w(!0),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100 text-xs rounded-lg",children:[e.jsx(De,{className:"w-3 h-3 mr-1.5"}),"Audit Log lÃ¶schen"]})]})]})})}),e.jsx(F,{className:"border-orange-200 bg-orange-50 rounded-lg",children:e.jsx(B,{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_t,{className:"w-4 h-4 text-orange-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Einstellungen zurÃ¼cksetzen"}),e.jsxs("p",{className:"text-xs text-orange-700 mb-4 leading-relaxed",children:["Setzt ",e.jsx("strong",{children:"alle Einstellungen"})," auf die Standardwerte zurÃ¼ck. Ihre aktuellen Konfigurationen gehen verloren."]}),e.jsxs(H,{onClick:()=>k(!0),variant:"outline",size:"sm",className:"border-orange-300 text-orange-700 hover:bg-orange-100 text-xs rounded-lg",children:[e.jsx(_t,{className:"w-3 h-3 mr-1.5"}),"Einstellungen zurÃ¼cksetzen"]})]})]})})}),e.jsx(F,{className:"border-red-400 bg-red-100 rounded-lg",children:e.jsx(B,{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(kt,{className:"w-4 h-4 text-red-800 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-red-900 mb-2",children:"âš ï¸ ALLES ZURÃœCKSETZEN"}),e.jsxs("p",{className:"text-xs text-red-800 mb-1",children:[e.jsx("strong",{children:"WARNUNG:"})," Diese Aktion lÃ¶scht:"]}),e.jsxs("ul",{className:"text-xs text-red-800 list-disc list-inside mb-4 space-y-0.5",children:[e.jsx("li",{children:"Alle Termine (bestÃ¤tigt, ausstehend, storniert)"}),e.jsx("li",{children:"Alle Audit Log EintrÃ¤ge"}),e.jsx("li",{children:"Alle Einstellungen (zurÃ¼ck auf Standard)"})]}),e.jsx("p",{className:"text-xs text-red-900 font-semibold mb-4",children:"Diese Aktion kann NICHT rÃ¼ckgÃ¤ngig gemacht werden!"}),e.jsxs(H,{onClick:()=>P(!0),variant:"outline",size:"sm",className:"border-red-500 text-red-900 hover:bg-red-200 font-semibold text-xs rounded-lg",children:[e.jsx(kt,{className:"w-3 h-3 mr-1.5"}),"ALLES ZURÃœCKSETZEN"]})]})]})})})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 px-4 sm:px-6 py-4 shadow-[0_-4px_12px_rgba(0,0,0,0.08)]",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(H,{onClick:W,variant:"outline",size:"lg",className:"flex-1 rounded-xl text-gray-900",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Abbrechen"]}),e.jsxs(H,{onClick:Y,disabled:i||!x,size:"lg",className:"flex-1 rounded-xl",children:[m==="saving"&&e.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),m==="success"&&e.jsx(ue,{className:"mr-2 h-4 w-4"}),m==="error"&&e.jsx(Oe,{className:"mr-2 h-4 w-4"}),m==="idle"&&e.jsx(Ia,{className:"mr-2 h-4 w-4"}),m==="idle"&&"Speichern",m==="saving"&&"Speichert...",m==="success"&&"Gespeichert!",m==="error"&&"Fehler"]})]})})]}),e.jsx(nt,{open:g,onOpenChange:u,children:e.jsxs(rt,{className:"rounded-2xl",children:[e.jsxs(at,{children:[e.jsx(lt,{children:"Ungespeicherte Ã„nderungen"}),e.jsx(it,{children:"Sie haben Ã„nderungen vorgenommen, die noch nicht gespeichert wurden. MÃ¶chten Sie die Einstellungen wirklich ohne Speichern schlieÃŸen?"})]}),e.jsxs(ot,{children:[e.jsx(ct,{onClick:()=>u(!1),className:"rounded-xl",children:"ZurÃ¼ck zu Einstellungen"}),e.jsx(dt,{onClick:W,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:"Ohne Speichern schlieÃŸen"})]})]})}),e.jsx(nt,{open:y,onOpenChange:v,children:e.jsxs(rt,{className:"rounded-2xl max-w-lg",children:[e.jsxs(at,{children:[e.jsxs(lt,{className:"text-red-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(De,{className:"h-5 w-5 text-red-700"})}),"Alle Termine lÃ¶schen?"]}),e.jsxs(it,{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Diese Aktion lÃ¶scht unwiderruflich:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Alle bestÃ¤tigten Termine"})," â€“ Termine, die bereits zugesagt wurden"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Alle ausstehenden Termine"})," â€“ Termine, die noch auf BestÃ¤tigung warten"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Alle stornierten Termine"})," â€“ Bereits abgesagte Termine"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Google Calendar EintrÃ¤ge"})," â€“ Falls synchronisiert"]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mt-3",children:e.jsx("p",{className:"text-red-900 font-bold text-sm",children:"âš ï¸ Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden!"})})]})]}),e.jsxs(ot,{children:[e.jsx(ct,{className:"rounded-xl",children:"Abbrechen"}),e.jsxs(dt,{onClick:we,disabled:M,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:[M?e.jsx(me,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(De,{className:"w-4 h-4 mr-2"}),"Alle Termine lÃ¶schen"]})]})]})}),e.jsx(nt,{open:b,onOpenChange:w,children:e.jsxs(rt,{className:"rounded-2xl max-w-lg",children:[e.jsxs(at,{children:[e.jsxs(lt,{className:"text-red-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(De,{className:"h-5 w-5 text-red-700"})}),"Audit Log lÃ¶schen?"]}),e.jsxs(it,{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Diese Aktion lÃ¶scht unwiderruflich:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Komplette Aktionshistorie"})," â€“ Alle protokollierten Admin-Aktionen"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Ã„nderungsprotokolle"})," â€“ Wer hat was wann geÃ¤ndert"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"E-Mail-Versand-Historie"})," â€“ Protokoll aller versendeten E-Mails"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Fehlerprotokolle"})," â€“ Aufgezeichnete Fehler und Probleme"]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mt-3",children:e.jsx("p",{className:"text-red-900 font-bold text-sm",children:"âš ï¸ Die komplette Nachvollziehbarkeit geht verloren!"})})]})]}),e.jsxs(ot,{children:[e.jsx(ct,{className:"rounded-xl",children:"Abbrechen"}),e.jsxs(dt,{onClick:Xe,disabled:M,className:"bg-red-600 hover:bg-red-700 rounded-xl",children:[M?e.jsx(me,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(De,{className:"w-4 h-4 mr-2"}),"Audit Log lÃ¶schen"]})]})]})}),e.jsx(nt,{open:E,onOpenChange:k,children:e.jsxs(rt,{className:"rounded-2xl max-w-lg",children:[e.jsxs(at,{children:[e.jsxs(lt,{className:"text-orange-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(_t,{className:"h-5 w-5 text-orange-700"})}),"Einstellungen zurÃ¼cksetzen?"]}),e.jsxs(it,{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Diese Aktion setzt zurÃ¼ck:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-orange-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Alle Firmendaten"})," â€“ Name, Adresse, Kontaktdaten"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-orange-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Event-Konfiguration"})," â€“ Name, Datum, Standort"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-orange-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Buchungseinstellungen"})," â€“ Auto-BestÃ¤tigung, Limits, Sicherheit"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-orange-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Design-Anpassungen"})," â€“ Logo, Branding"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-orange-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"Erweiterte Einstellungen"})," â€“ Rate Limiting, Wartungsmodus"]})]})]}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-3 mt-3",children:e.jsx("p",{className:"text-orange-900 font-bold text-sm",children:"Ihre Termine und das Audit Log bleiben erhalten."})})]})]}),e.jsxs(ot,{children:[e.jsx(ct,{className:"rounded-xl",children:"Abbrechen"}),e.jsxs(dt,{onClick:Ue,disabled:M,className:"bg-orange-600 hover:bg-orange-700 rounded-xl",children:[M?e.jsx(me,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Einstellungen zurÃ¼cksetzen"]})]})]})}),e.jsx(nt,{open:L,onOpenChange:P,children:e.jsxs(rt,{className:"rounded-2xl max-w-lg",children:[e.jsxs(at,{children:[e.jsxs(lt,{className:"text-red-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-200 rounded-lg",children:e.jsx(kt,{className:"h-5 w-5 text-red-800"})}),"âš ï¸ ALLES ZURÃœCKSETZEN?"]}),e.jsxs(it,{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"bg-red-100 border-2 border-red-400 rounded-xl p-3",children:[e.jsx("p",{className:"text-red-900 font-bold text-base",children:"KRITISCHE WARNUNG!"}),e.jsx("p",{className:"text-red-800 text-sm mt-1",children:"Diese Aktion lÃ¶scht das komplette System zurÃ¼ck auf Werkseinstellungen."})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Es werden unwiderruflich gelÃ¶scht:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"ALLE TERMINE"})," â€“ BestÃ¤tigt, ausstehend und storniert"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"KOMPLETTES AUDIT LOG"})," â€“ Gesamte Aktionshistorie"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"ALLE EINSTELLUNGEN"})," â€“ ZurÃ¼ck auf Standardwerte"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"GOOGLE CALENDAR EVENTS"})," â€“ Falls synchronisiert"]})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-red-600 font-bold mt-0.5",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-900",children:"ALLE KUNDENDATEN"})," â€“ Namen, E-Mails, Nachrichten"]})]})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-xl p-3 mt-3",children:[e.jsx("p",{className:"text-red-900 font-bold text-sm",children:"ðŸš¨ DIESE AKTION KANN NICHT RÃœCKGÃ„NGIG GEMACHT WERDEN!"}),e.jsx("p",{className:"text-red-800 text-xs mt-1",children:"Das System wird in den Zustand wie nach der ersten Installation versetzt."})]})]})]}),e.jsxs(ot,{children:[e.jsx(ct,{className:"rounded-xl",children:"Abbrechen"}),e.jsxs(dt,{onClick:Ne,disabled:M,className:"bg-red-700 hover:bg-red-800 rounded-xl",children:[M?e.jsx(me,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(kt,{className:"w-4 h-4 mr-2"}),"ALLES LÃ–SCHEN"]})]})]})})]}):null}function Ji(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var Gs="ScrollArea",[Tr,sc]=vt(Gs),[Qi,ve]=Tr(Gs),Pr=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:l=600,...i}=t,[o,m]=c.useState(null),[d,x]=c.useState(null),[h,g]=c.useState(null),[u,f]=c.useState(null),[p,y]=c.useState(null),[v,b]=c.useState(0),[w,E]=c.useState(0),[k,L]=c.useState(!1),[P,M]=c.useState(!1),S=ae(s,I=>m(I)),C=Ls(a);return e.jsx(Qi,{scope:n,type:r,dir:C,scrollHideDelay:l,scrollArea:o,viewport:d,onViewportChange:x,content:h,onContentChange:g,scrollbarX:u,onScrollbarXChange:f,scrollbarXEnabled:k,onScrollbarXEnabledChange:L,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:M,onCornerWidthChange:b,onCornerHeightChange:E,children:e.jsx(Z.div,{dir:C,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Pr.displayName=Gs;var Dr="ScrollAreaViewport",Rr=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...l}=t,i=ve(Dr,n),o=c.useRef(null),m=ae(s,o,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Z.div,{"data-radix-scroll-area-viewport":"",...l,ref:m,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Rr.displayName=Dr;var Ve="ScrollAreaScrollbar",Mr=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ve(Ve,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=a,o=t.orientation==="horizontal";return c.useEffect(()=>(o?l(!0):i(!0),()=>{o?l(!1):i(!1)}),[o,l,i]),a.type==="hover"?e.jsx(eo,{...r,ref:s,forceMount:n}):a.type==="scroll"?e.jsx(to,{...r,ref:s,forceMount:n}):a.type==="auto"?e.jsx(Ir,{...r,ref:s,forceMount:n}):a.type==="always"?e.jsx(qs,{...r,ref:s}):null});Mr.displayName=Ve;var eo=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ve(Ve,t.__scopeScrollArea),[l,i]=c.useState(!1);return c.useEffect(()=>{const o=a.scrollArea;let m=0;if(o){const d=()=>{window.clearTimeout(m),i(!0)},x=()=>{m=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",x),()=>{window.clearTimeout(m),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",x)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Mt,{present:n||l,children:e.jsx(Ir,{"data-state":l?"visible":"hidden",...r,ref:s})})}),to=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ve(Ve,t.__scopeScrollArea),l=t.orientation==="horizontal",i=is(()=>m("SCROLL_END"),100),[o,m]=Ji("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>m("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,a.scrollHideDelay,m]),c.useEffect(()=>{const d=a.viewport,x=l?"scrollLeft":"scrollTop";if(d){let h=d[x];const g=()=>{const u=d[x];h!==u&&(m("SCROLL"),i()),h=u};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[a.viewport,l,m,i]),e.jsx(Mt,{present:n||o!=="hidden",children:e.jsx(qs,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:Q(t.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Q(t.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),Ir=c.forwardRef((t,s)=>{const n=ve(Ve,t.__scopeScrollArea),{forceMount:r,...a}=t,[l,i]=c.useState(!1),o=t.orientation==="horizontal",m=is(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,x=n.viewport.offsetHeight<n.viewport.scrollHeight;i(o?d:x)}},10);return yt(n.viewport,m),yt(n.content,m),e.jsx(Mt,{present:r||l,children:e.jsx(qs,{"data-state":l?"visible":"hidden",...a,ref:s})})}),qs=c.forwardRef((t,s)=>{const{orientation:n="vertical",...r}=t,a=ve(Ve,t.__scopeScrollArea),l=c.useRef(null),i=c.useRef(0),[o,m]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Fr(o.viewport,o.content),x={...r,sizes:o,onSizesChange:m,hasThumb:d>0&&d<1,onThumbChange:g=>l.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function h(g,u){return io(g,i.current,o,u)}return n==="horizontal"?e.jsx(so,{...x,ref:s,onThumbPositionChange:()=>{if(a.viewport&&l.current){const g=a.viewport.scrollLeft,u=fn(g,o,a.dir);l.current.style.transform=`translate3d(${u}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=h(g,a.dir))}}):n==="vertical"?e.jsx(no,{...x,ref:s,onThumbPositionChange:()=>{if(a.viewport&&l.current){const g=a.viewport.scrollTop,u=fn(g,o);l.current.style.transform=`translate3d(0, ${u}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=h(g))}}):null}),so=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,l=ve(Ve,t.__scopeScrollArea),[i,o]=c.useState(),m=c.useRef(null),d=ae(s,m,l.onScrollbarXChange);return c.useEffect(()=>{m.current&&o(getComputedStyle(m.current))},[m]),e.jsx(_r,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ls(n)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,h)=>{if(l.viewport){const g=l.viewport.scrollLeft+x.deltaX;t.onWheelScroll(g),$r(g,h)&&x.preventDefault()}},onResize:()=>{m.current&&l.viewport&&i&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Zt(i.paddingLeft),paddingEnd:Zt(i.paddingRight)}})}})}),no=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,l=ve(Ve,t.__scopeScrollArea),[i,o]=c.useState(),m=c.useRef(null),d=ae(s,m,l.onScrollbarYChange);return c.useEffect(()=>{m.current&&o(getComputedStyle(m.current))},[m]),e.jsx(_r,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ls(n)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,h)=>{if(l.viewport){const g=l.viewport.scrollTop+x.deltaY;t.onWheelScroll(g),$r(g,h)&&x.preventDefault()}},onResize:()=>{m.current&&l.viewport&&i&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Zt(i.paddingTop),paddingEnd:Zt(i.paddingBottom)}})}})}),[ro,Lr]=Tr(Ve),_r=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:m,onDragScroll:d,onWheelScroll:x,onResize:h,...g}=t,u=ve(Ve,n),[f,p]=c.useState(null),y=ae(s,S=>p(S)),v=c.useRef(null),b=c.useRef(""),w=u.viewport,E=r.content-r.viewport,k=Ge(x),L=Ge(m),P=is(h,10);function M(S){if(v.current){const C=S.clientX-v.current.left,I=S.clientY-v.current.top;d({x:C,y:I})}}return c.useEffect(()=>{const S=C=>{const I=C.target;f?.contains(I)&&k(C,E)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[w,f,E,k]),c.useEffect(L,[r,L]),yt(f,P),yt(u.content,P),e.jsx(ro,{scope:n,scrollbar:f,hasThumb:a,onThumbChange:Ge(l),onThumbPointerUp:Ge(i),onThumbPositionChange:L,onThumbPointerDown:Ge(o),children:e.jsx(Z.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:Q(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),v.current=f.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",u.viewport&&(u.viewport.style.scrollBehavior="auto"),M(S))}),onPointerMove:Q(t.onPointerMove,M),onPointerUp:Q(t.onPointerUp,S=>{const C=S.target;C.hasPointerCapture(S.pointerId)&&C.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=b.current,u.viewport&&(u.viewport.style.scrollBehavior=""),v.current=null})})})}),qt="ScrollAreaThumb",Or=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Lr(qt,t.__scopeScrollArea);return e.jsx(Mt,{present:n||a.hasThumb,children:e.jsx(ao,{ref:s,...r})})}),ao=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:r,...a}=t,l=ve(qt,n),i=Lr(qt,n),{onThumbPositionChange:o}=i,m=ae(s,h=>i.onThumbChange(h)),d=c.useRef(void 0),x=is(()=>{d.current&&(d.current(),d.current=void 0)},100);return c.useEffect(()=>{const h=l.viewport;if(h){const g=()=>{if(x(),!d.current){const u=oo(h,o);d.current=u,o()}};return o(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[l.viewport,x,o]),e.jsx(Z.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(t.onPointerDownCapture,h=>{const u=h.target.getBoundingClientRect(),f=h.clientX-u.left,p=h.clientY-u.top;i.onThumbPointerDown({x:f,y:p})}),onPointerUp:Q(t.onPointerUp,i.onThumbPointerUp)})});Or.displayName=qt;var Zs="ScrollAreaCorner",zr=c.forwardRef((t,s)=>{const n=ve(Zs,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?e.jsx(lo,{...t,ref:s}):null});zr.displayName=Zs;var lo=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,...r}=t,a=ve(Zs,n),[l,i]=c.useState(0),[o,m]=c.useState(0),d=!!(l&&o);return yt(a.scrollbarX,()=>{const x=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(x),m(x)}),yt(a.scrollbarY,()=>{const x=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(x),i(x)}),d?e.jsx(Z.div,{...r,ref:s,style:{width:l,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Zt(t){return t?parseInt(t,10):0}function Fr(t,s){const n=t/s;return isNaN(n)?0:n}function ls(t){const s=Fr(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*s;return Math.max(r,18)}function io(t,s,n,r="ltr"){const a=ls(n),l=a/2,i=s||l,o=a-i,m=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-o,x=n.content-n.viewport,h=r==="ltr"?[0,x]:[x*-1,0];return Br([m,d],h)(t)}function fn(t,s,n="ltr"){const r=ls(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,l=s.scrollbar.size-a,i=s.content-s.viewport,o=l-r,m=n==="ltr"?[0,i]:[i*-1,0],d=ws(t,m);return Br([0,i],[0,o])(d)}function Br(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(n-t[0])}}function $r(t,s){return t>0&&t<s}var oo=(t,s=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function a(){const l={left:t.scrollLeft,top:t.scrollTop},i=n.left!==l.left,o=n.top!==l.top;(i||o)&&s(),n=l,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function is(t,s){const n=Ge(t),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function yt(t,s){const n=Ge(s);ye(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,n])}var co=Pr,mo=Rr,xo=zr;function Xs({className:t,children:s,...n}){return e.jsxs(co,{"data-slot":"scroll-area",className:je("relative",t),...n,children:[e.jsx(mo,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),e.jsx(ho,{}),e.jsx(xo,{})]})}function ho({className:t,orientation:s="vertical",...n}){return e.jsx(Mr,{"data-slot":"scroll-area-scrollbar",orientation:s,className:je("flex touch-none p-px transition-colors select-none",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:e.jsx(Or,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const uo=t=>{try{const s=Jt(t);return vn(s)?Ms(s,"dd.MM.yyyy HH:mm:ss",{locale:Is}):"UngÃ¼ltiges Datum"}catch{return"UngÃ¼ltiges Datum"}},go=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?e.jsx(ze,{className:"w-4 h-4 text-green-600"}):s.includes("cancelled")||s.includes("storniert")?e.jsx(Oe,{className:"w-4 h-4 text-orange-600"}):s.includes("deleted")||s.includes("gelÃ¶scht")?e.jsx(De,{className:"w-4 h-4 text-red-600"}):s.includes("confirmed")||s.includes("bestÃ¤tigt")?e.jsx(ue,{className:"w-4 h-4 text-blue-600"}):s.includes("anfrage")||s.includes("request")||s.includes("pending")?e.jsx(Re,{className:"w-4 h-4 text-yellow-600"}):s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?e.jsx(Ha,{className:"w-4 h-4 text-purple-600"}):s.includes("settings")||s.includes("einstellungen")?e.jsx(Tn,{className:"w-4 h-4 text-indigo-600"}):s.includes("email")||s.includes("mail")||s.includes("sent")?e.jsx(Wt,{className:"w-4 h-4 text-cyan-600"}):s.includes("user")||s.includes("benutzer")?e.jsx(Ua,{className:"w-4 h-4 text-teal-600"}):s.includes("cleared")||s.includes("clear")?e.jsx(De,{className:"w-4 h-4 text-pink-600"}):e.jsx(Re,{className:"w-4 h-4 text-gray-600"})},po=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"bg-green-50 border-green-200":s.includes("cancelled")||s.includes("storniert")?"bg-orange-50 border-orange-200":s.includes("deleted")||s.includes("gelÃ¶scht")?"bg-red-50 border-red-200":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"bg-blue-50 border-blue-200":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"bg-yellow-50 border-yellow-200":s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?"bg-purple-50 border-purple-200":s.includes("settings")||s.includes("einstellungen")?"bg-indigo-50 border-indigo-200":s.includes("email")||s.includes("mail")||s.includes("sent")?"bg-cyan-50 border-cyan-200":s.includes("user")||s.includes("benutzer")?"bg-teal-50 border-teal-200":s.includes("cleared")||s.includes("clear")?"bg-pink-50 border-pink-200":"bg-gray-50 border-gray-200"},fo=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"bg-green-100 text-green-800 border-green-300":s.includes("cancelled")||s.includes("storniert")?"bg-orange-100 text-orange-800 border-orange-300":s.includes("deleted")||s.includes("gelÃ¶scht")?"bg-red-100 text-red-800 border-red-300":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"bg-blue-100 text-blue-800 border-blue-300":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"bg-yellow-100 text-yellow-800 border-yellow-300":s.includes("updated")||s.includes("changed")||s.includes("geÃ¤ndert")?"bg-purple-100 text-purple-800 border-purple-300":s.includes("settings")||s.includes("einstellungen")?"bg-indigo-100 text-indigo-800 border-indigo-300":s.includes("email")||s.includes("mail")||s.includes("sent")?"bg-cyan-100 text-cyan-800 border-cyan-300":s.includes("user")||s.includes("benutzer")?"bg-teal-100 text-teal-800 border-teal-300":s.includes("cleared")||s.includes("clear")?"bg-pink-100 text-pink-800 border-pink-300":"bg-gray-100 text-gray-800 border-gray-300"},jo=t=>{const s=t.toLowerCase();return s.includes("gebucht")||s.includes("booked")||s.includes("created")||s.includes("new appointment")?"Gebucht":s.includes("cancelled")||s.includes("storniert")?"Storniert":s.includes("deleted")||s.includes("gelÃ¶scht")?"GelÃ¶scht":s.includes("anfrage")||s.includes("request")||s.includes("pending")?"Anfrage":s.includes("confirmed")||s.includes("bestÃ¤tigt")?"BestÃ¤tigt":s.includes("updated")||s.includes("changed")?"GeÃ¤ndert":s.includes("settings")||s.includes("einstellungen")?"Einstellung":s.includes("email")||s.includes("mail")?"E-Mail":s.includes("cleared")?"Bereinigt":"Aktion"};function bo({isOpen:t,onClose:s}){const[n,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(!1),[m,d]=c.useState(0),[x,h]=c.useState("");c.useEffect(()=>{t&&g()},[t]);const g=async(f=!1)=>{f?o(!0):l(!0),h("");try{const p=await fetch(`${te}/api/admin/audit-log?limit=100`);if(p.ok){const y=await p.json();r(y.logs||[]),d(y.total||0),y.message&&y.logs.length===0&&h(y.message),f&&q.success("Audit Log aktualisiert")}else h("Fehler beim Laden des Audit Logs"),q.error("Fehler beim Laden des Audit Logs")}catch(p){console.error("Error fetching audit log:",p);const y=p instanceof Error?p.message:"Verbindungsfehler";h(y),q.error("Verbindungsfehler beim Laden des Audit Logs")}finally{l(!1),o(!1)}},u=()=>{g(!0)};return t?e.jsx(An,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(be.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-full max-w-3xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Re,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Audit Log"}),e.jsx("p",{className:"text-sm text-gray-600",children:m>0?`${m} EintrÃ¤ge`:"Alle SystemaktivitÃ¤ten"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{onClick:u,variant:"outline",size:"icon",disabled:i,className:"rounded-full text-gray-900",children:e.jsx(mt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),e.jsx(H,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full text-gray-900",children:e.jsx(xt,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:a?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(me,{className:"w-10 h-10 animate-spin text-purple-600 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Audit Log wird geladen..."})]}):x?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.jsx("div",{className:"p-4 bg-yellow-100 rounded-full mb-4",children:e.jsx(Be,{className:"w-12 h-12 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Information"}),e.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:x}),e.jsxs(H,{onClick:u,variant:"outline",className:"mt-4 rounded-xl text-gray-900",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Erneut versuchen"]})]}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(Re,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Keine EintrÃ¤ge vorhanden"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Es wurden noch keine AktivitÃ¤ten protokolliert."}),e.jsxs(H,{onClick:u,variant:"outline",className:"mt-4 rounded-xl text-gray-900",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Aktualisieren"]})]}):e.jsx(Xs,{className:"h-full",children:e.jsx("div",{className:"p-4 sm:p-6 space-y-3",children:n.map((f,p)=>e.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.03},children:e.jsx(F,{className:`border rounded-xl shadow-sm ${po(f.action)}`,children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:go(f.action)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.action}),e.jsx($,{variant:"outline",className:`text-[10px] h-5 rounded-md ${fo(f.action)}`,children:jo(f.action)})]}),e.jsx("span",{className:"text-xs text-gray-900 whitespace-nowrap font-medium",children:uo(f.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-3 leading-relaxed",children:f.details}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.user&&e.jsxs($,{variant:"outline",className:"text-xs gap-1 bg-white border-gray-900 text-gray-900",children:[e.jsx(kn,{className:"w-3 h-3"}),f.user]}),f.appointmentId&&e.jsxs($,{variant:"outline",className:"text-xs gap-1 bg-white font-mono border-gray-900 text-gray-900",children:[e.jsx(ze,{className:"w-3 h-3"}),f.appointmentId.slice(0,8),"..."]})]})]})]})})})},f.id))})})}),e.jsx("div",{className:"bg-white border-t border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:"EintrÃ¤ge werden 90 Tage gespeichert"})]}),e.jsx(H,{onClick:s,variant:"outline",className:"rounded-xl text-gray-900",children:"SchlieÃŸen"})]})})]})]})}):null}const zt={friday:Array.from({length:15},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`}),saturday:Array.from({length:15},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`}),sunday:Array.from({length:13},(t,s)=>{const n=Math.floor(s/2)+10,r=s%2===0?"00":"30";return`${n.toString().padStart(2,"0")}:${r}`})},jn="admin_seen_appointments",yo=t=>{switch(t){case"confirmed":return"bg-green-50 border-green-300 text-green-900";case"cancelled":return"bg-red-50 border-red-300 text-red-900";case"pending":return"bg-yellow-50 border-yellow-300 text-yellow-900";default:return"bg-gray-100 border-gray-300 text-gray-800"}},bn=t=>{switch(t){case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},vo=(t,s)=>{try{if(!t)return"UngÃ¼ltiges Datum";const n=Jt(t);return isNaN(n.getTime())?"UngÃ¼ltiges Datum":Ms(n,s,{locale:Is})}catch{return"UngÃ¼ltiges Datum"}};function wo({isOpen:t,onClose:s,unseenCount:n,onUnseenCountChange:r}){const[a,l]=c.useState([]),[i,o]=c.useState(!0),[m,d]=c.useState(!1),[x,h]=c.useState(new Map),[g,u]=c.useState(2026),[f,p]=c.useState(null),[y,v]=c.useState({friday:{name:"Freitag",short:"Fr",date:"16.01.",fullDate:"Freitag, 16.01.2026"},saturday:{name:"Samstag",short:"Sa",date:"17.01.",fullDate:"Samstag, 17.01.2026"},sunday:{name:"Sonntag",short:"So",date:"18.01.",fullDate:"Sonntag, 18.01.2026"}});c.useEffect(()=>{(async()=>{try{const C=await fetch(`${te}/api/admin/settings`);if(C.ok){const D=(await C.json()).settings;p(D);const R=D.eventYear||2026;u(R),v({friday:{name:hs("friday",D),short:"Fr",date:xs("friday",D).split(" ")[1],fullDate:ms("friday",D)},saturday:{name:hs("saturday",D),short:"Sa",date:xs("saturday",D).split(" ")[1],fullDate:ms("saturday",D)},sunday:{name:hs("sunday",D),short:"So",date:xs("sunday",D).split(" ")[1],fullDate:ms("sunday",D)}})}}catch(C){console.error("Error loading settings:",C)}})()},[]),c.useEffect(()=>{(()=>{try{const C=localStorage.getItem(jn);if(C){const I=JSON.parse(C),D=new Map(I.map(R=>[R.id,R]));h(D)}}catch(C){console.error("Error loading seen appointments:",C)}})()},[]),c.useEffect(()=>{t&&k()},[t,g]),c.useEffect(()=>{if(a.length>0&&r){const S=a.filter(C=>w(C)).length;r(S)}},[a,x,r]);const b=S=>{try{const C=Array.from(S.values());localStorage.setItem(jn,JSON.stringify(C))}catch(C){console.error("Error saving seen appointments:",C)}},w=S=>{const C=x.get(S.id);if(!C||C.status!==S.status)return!0;if(S.updatedAt){const I=new Date(S.updatedAt).getTime(),D=new Date(C.timestamp).getTime();if(I>D)return!0}return!1},E=S=>{const C=new Map(x);C.set(S.id,{id:S.id,status:S.status,timestamp:new Date().toISOString()}),h(C),b(C)},k=async(S=!1)=>{S?d(!0):o(!0);try{const C=await fetch(`${te}/api/admin/appointments`);if(C.ok){const R=((await C.json()).appointments||[]).filter(_=>{try{const Y=Jt(_.appointmentDate);return isNaN(Y.getTime())?!1:Y.getFullYear()===g}catch{return!1}});l(R),S&&q.success("Zeitplan aktualisiert")}else q.error("Fehler beim Laden der Termine")}catch(C){console.error("Error fetching appointments:",C),q.error("Verbindungsfehler")}finally{o(!1),d(!1)}},L=()=>{k(!0)},P=S=>{E(S),window.open(`${te}/termin/${S.id}`,"_blank")},M=(S,C)=>a.filter(I=>I.day===S&&I.time===C);return t?e.jsx(An,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-50",style:{backdropFilter:"blur(4px)"}}),e.jsxs(be.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 right-0 bottom-0 top-16 bg-white shadow-2xl z-50 overflow-hidden flex flex-col rounded-t-3xl",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-indigo-50 rounded-lg",children:e.jsx(ze,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Zeitplan ",g]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Termine fÃ¼r ",f?.eventName||"OPTI"," ",g," ",n&&n>0&&e.jsxs("span",{className:"text-red-600 font-semibold",children:["â€¢ ",n," neu"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{onClick:L,variant:"outline",size:"icon",disabled:m,className:"rounded-full text-gray-900 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(mt,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${m?"animate-spin":""}`})}),e.jsx(H,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full text-gray-900 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(me,{className:"w-8 h-8 sm:w-10 sm:h-10 animate-spin text-indigo-600 mb-3 sm:mb-4"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Zeitplan wird geladen..."})]}):e.jsx(Xs,{className:"h-full",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-center gap-4 sm:gap-6 py-2 sm:py-3 px-3 sm:px-4 bg-gray-50 rounded-lg sm:rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-yellow-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"Ausstehend"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"BestÃ¤tigt"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-red-500"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700",children:"Storniert"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-red-600 animate-pulse"}),e.jsx("span",{className:"text-[10px] sm:text-sm text-gray-700 font-semibold",children:"Neu/GeÃ¤ndert"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:[e.jsx("div",{className:"sticky top-0 bg-white z-20 pb-2",children:e.jsx("div",{className:"text-center font-semibold text-gray-700 text-[10px] sm:text-sm py-2 sm:py-3 bg-gray-100 rounded-md sm:rounded-lg",children:"Zeit"})}),Object.keys(y).map(S=>e.jsx("div",{className:"sticky top-0 bg-white z-20 pb-2",children:e.jsxs("div",{className:"text-center font-semibold text-gray-900 py-2 sm:py-3 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-md sm:rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"text-xs sm:text-base",children:y[S].short}),e.jsx("div",{className:"text-[9px] sm:text-xs text-gray-600 mt-0.5",children:y[S].date})]})},S)),Array.from(new Set([...zt.friday,...zt.saturday,...zt.sunday])).sort().map(S=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-center pt-2 sm:pt-4",children:e.jsx($,{variant:"outline",className:"text-[9px] sm:text-xs font-semibold text-gray-700 bg-gray-50 px-1.5 sm:px-2 py-0.5 sm:py-1",children:S})},`time-${S}`),Object.keys(y).map(C=>{const I=zt[C].includes(S),D=I?M(C,S):[];return e.jsx("div",{className:"min-h-[60px] sm:min-h-[80px]",children:I?D.length>0?e.jsx("div",{className:"space-y-1.5 sm:space-y-2",children:D.map(R=>{const _=w(R);return e.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs(F,{className:`cursor-pointer hover:shadow-md transition-all border rounded-lg sm:rounded-xl ${yo(R.status)} relative overflow-hidden`,onClick:()=>P(R),children:[_&&e.jsx(be.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-1 right-1 w-2 h-2 sm:w-2.5 sm:h-2.5 bg-red-600 rounded-full animate-pulse shadow-lg",style:{zIndex:5}}),e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-0.5 sm:w-1 ${bn(R.status)}`}),e.jsxs(B,{className:"p-2 sm:p-3 pl-2.5 sm:pl-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1 sm:gap-2 mb-1 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full flex-shrink-0 ${bn(R.status)}`}),e.jsx("span",{className:`font-semibold text-[10px] sm:text-sm truncate ${_?"text-gray-900":""}`,children:R.name})]}),e.jsx(Os,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 flex-shrink-0 opacity-50"})]}),e.jsx("div",{className:"text-[8px] sm:text-xs text-gray-600 ml-2.5 sm:ml-4 mb-1 opacity-70",children:vo(R.appointmentDate,"dd.MM.yyyy")}),R.company&&e.jsxs("div",{className:"hidden md:flex items-center gap-1 sm:gap-1.5 text-[9px] sm:text-xs opacity-70 ml-2.5 sm:ml-4 mb-1",children:[e.jsx(yn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:R.company})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-[9px] sm:text-xs opacity-80 ml-2.5 sm:ml-4",children:[e.jsx(kn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 hidden sm:block"}),e.jsx("span",{className:"truncate",children:R.email})]})]})]})},R.id)})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"w-full h-12 sm:h-16 rounded-md sm:rounded-lg border-2 border-dashed border-gray-200 bg-gray-50/50 flex items-center justify-center",children:e.jsx("span",{className:"text-[9px] sm:text-xs text-gray-400",children:"Frei"})})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"w-full h-12 sm:h-16 rounded-md sm:rounded-lg bg-gray-100/50"})})},`${C}-${S}`)})]}))]})]})})})]})]})}):null}var os="Collapsible",[No,Hr]=vt(os),[So,Js]=No(os),Wr=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:l,onOpenChange:i,...o}=t,[m,d]=jt({prop:r,defaultProp:a??!1,onChange:i,caller:os});return e.jsx(So,{scope:n,disabled:l,contentId:Rt(),open:m,onOpenToggle:c.useCallback(()=>d(x=>!x),[d]),children:e.jsx(Z.div,{"data-state":en(m),"data-disabled":l?"":void 0,...o,ref:s})})});Wr.displayName=os;var Vr="CollapsibleTrigger",Ur=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,...r}=t,a=Js(Vr,n);return e.jsx(Z.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":en(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:s,onClick:Q(t.onClick,a.onOpenToggle)})});Ur.displayName=Vr;var Qs="CollapsibleContent",Kr=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Js(Qs,t.__scopeCollapsible);return e.jsx(Mt,{present:n||a.open,children:({present:l})=>e.jsx(Co,{...r,ref:s,present:l})})});Kr.displayName=Qs;var Co=c.forwardRef((t,s)=>{const{__scopeCollapsible:n,present:r,children:a,...l}=t,i=Js(Qs,n),[o,m]=c.useState(r),d=c.useRef(null),x=ae(s,d),h=c.useRef(0),g=h.current,u=c.useRef(0),f=u.current,p=i.open||o,y=c.useRef(p),v=c.useRef(void 0);return c.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ye(()=>{const b=d.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,u.current=w.width,y.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),m(r)}},[i.open,r]),e.jsx(Z.div,{"data-state":en(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...l,ref:x,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...t.style},children:p&&a})});function en(t){return t?"open":"closed"}var Ao=Wr,ko=Ur,Eo=Kr,Le="Accordion",To=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[tn,Po,Do]=Nn(Le),[cs,nc]=vt(Le,[Do,Hr]),sn=Hr(),Yr=pe.forwardRef((t,s)=>{const{type:n,...r}=t,a=r,l=r;return e.jsx(tn.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?e.jsx(Lo,{...l,ref:s}):e.jsx(Io,{...a,ref:s})})});Yr.displayName=Le;var[Gr,Ro]=cs(Le),[qr,Mo]=cs(Le,{collapsible:!1}),Io=pe.forwardRef((t,s)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:l=!1,...i}=t,[o,m]=jt({prop:n,defaultProp:r??"",onChange:a,caller:Le});return e.jsx(Gr,{scope:t.__scopeAccordion,value:pe.useMemo(()=>o?[o]:[],[o]),onItemOpen:m,onItemClose:pe.useCallback(()=>l&&m(""),[l,m]),children:e.jsx(qr,{scope:t.__scopeAccordion,collapsible:l,children:e.jsx(Zr,{...i,ref:s})})})}),Lo=pe.forwardRef((t,s)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...l}=t,[i,o]=jt({prop:n,defaultProp:r??[],onChange:a,caller:Le}),m=pe.useCallback(x=>o((h=[])=>[...h,x]),[o]),d=pe.useCallback(x=>o((h=[])=>h.filter(g=>g!==x)),[o]);return e.jsx(Gr,{scope:t.__scopeAccordion,value:i,onItemOpen:m,onItemClose:d,children:e.jsx(qr,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(Zr,{...l,ref:s})})})}),[_o,ds]=cs(Le),Zr=pe.forwardRef((t,s)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:l="vertical",...i}=t,o=pe.useRef(null),m=ae(o,s),d=Po(n),h=Ls(a)==="ltr",g=Q(t.onKeyDown,u=>{if(!To.includes(u.key))return;const f=u.target,p=d().filter(M=>!M.ref.current?.disabled),y=p.findIndex(M=>M.ref.current===f),v=p.length;if(y===-1)return;u.preventDefault();let b=y;const w=0,E=v-1,k=()=>{b=y+1,b>E&&(b=w)},L=()=>{b=y-1,b<w&&(b=E)};switch(u.key){case"Home":b=w;break;case"End":b=E;break;case"ArrowRight":l==="horizontal"&&(h?k():L());break;case"ArrowDown":l==="vertical"&&k();break;case"ArrowLeft":l==="horizontal"&&(h?L():k());break;case"ArrowUp":l==="vertical"&&L();break}const P=b%v;p[P].ref.current?.focus()});return e.jsx(_o,{scope:n,disabled:r,direction:a,orientation:l,children:e.jsx(tn.Slot,{scope:n,children:e.jsx(Z.div,{...i,"data-orientation":l,ref:m,onKeyDown:r?void 0:g})})})}),Xt="AccordionItem",[Oo,nn]=cs(Xt),Xr=pe.forwardRef((t,s)=>{const{__scopeAccordion:n,value:r,...a}=t,l=ds(Xt,n),i=Ro(Xt,n),o=sn(n),m=Rt(),d=r&&i.value.includes(r)||!1,x=l.disabled||t.disabled;return e.jsx(Oo,{scope:n,open:d,disabled:x,triggerId:m,children:e.jsx(Ao,{"data-orientation":l.orientation,"data-state":na(d),...o,...a,ref:s,disabled:x,open:d,onOpenChange:h=>{h?i.onItemOpen(r):i.onItemClose(r)}})})});Xr.displayName=Xt;var Jr="AccordionHeader",Qr=pe.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=ds(Le,n),l=nn(Jr,n);return e.jsx(Z.h3,{"data-orientation":a.orientation,"data-state":na(l.open),"data-disabled":l.disabled?"":void 0,...r,ref:s})});Qr.displayName=Jr;var Ds="AccordionTrigger",ea=pe.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=ds(Le,n),l=nn(Ds,n),i=Mo(Ds,n),o=sn(n);return e.jsx(tn.ItemSlot,{scope:n,children:e.jsx(ko,{"aria-disabled":l.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:l.triggerId,...o,...r,ref:s})})});ea.displayName=Ds;var ta="AccordionContent",sa=pe.forwardRef((t,s)=>{const{__scopeAccordion:n,...r}=t,a=ds(Le,n),l=nn(ta,n),i=sn(n);return e.jsx(Eo,{role:"region","aria-labelledby":l.triggerId,"data-orientation":a.orientation,...i,...r,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});sa.displayName=ta;function na(t){return t?"open":"closed"}var zo=Yr,Fo=Xr,Bo=Qr,$o=ea,Ho=sa;function Wo({...t}){return e.jsx(zo,{"data-slot":"accordion",...t})}function Se({className:t,...s}){return e.jsx(Fo,{"data-slot":"accordion-item",className:je("border-b last:border-b-0",t),...s})}function Ce({className:t,children:s,...n}){return e.jsx(Bo,{className:"flex",children:e.jsxs($o,{"data-slot":"accordion-trigger",className:je("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...n,children:[s,e.jsx(_s,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Ae({className:t,children:s,...n}){return e.jsx(Ho,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:e.jsx("div",{className:je("pt-0 pb-4",t),children:s})})}const Vo={overview:"Ãœbersicht",emails:"E-Mails",faq:"FAQ"},Et=["overview","emails","faq"];function Uo({isOpen:t,onClose:s}){const[n,r]=c.useState(null),[a,l]=c.useState("overview"),[i,o]=c.useState("OPTI 26"),[m,d]=c.useState(new Date().getFullYear());if(c.useEffect(()=>{t&&(async()=>{try{const u=await fetch(`${te}/api/admin/settings`);if(u.ok){const f=await u.json(),p=f.settings?.eventYear||new Date().getFullYear(),y=f.settings?.eventName||"OPTI";d(p),o(`${y} ${p.toString().slice(-2)}`),console.log("ðŸ“… Loaded event config:",{year:p,name:y,eventName:`${y} ${p.toString().slice(-2)}`})}}catch(u){console.error("Error loading event name:",u)}})()},[t]),!t)return null;const x=async g=>{r(g);try{const u=await fetch(`${te}/api/admin/test-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailType:g})});if(u.ok)q.success("Test-E-Mail wurde versendet! Bitte prÃ¼fen Sie Ihren Posteingang.");else{const f=await u.json();q.error(f.message||"Fehler beim Versenden")}}catch(u){q.error("Verbindungsfehler"),console.error("Error sending test email:",u)}finally{r(null)}},h=()=>Et.indexOf(a);return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-2 sm:p-4",style:{overflow:"hidden"},children:e.jsxs(F,{className:"w-full max-w-5xl h-[95vh] sm:h-[90vh] bg-white shadow-2xl rounded-xl sm:rounded-2xl border-0 flex flex-col overflow-hidden",children:[e.jsx(Ee,{className:"px-4 sm:px-6 py-4 sm:py-5 border-b flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-50 rounded-lg",children:e.jsx(En,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(Te,{className:"text-lg sm:text-xl text-gray-900",children:"System-Dokumentation"}),e.jsx(Pe,{className:"text-xs sm:text-sm text-gray-600",children:"Funktionen, E-Mail-Ãœbersicht & FAQ"})]})]}),e.jsx(H,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})}),e.jsx("div",{className:"px-3 sm:px-6 pt-3 sm:pt-4 flex-shrink-0",children:e.jsxs("div",{className:"relative bg-gray-100 rounded-xl p-1.5",children:[e.jsx(be.div,{className:"absolute bg-blue-600 rounded-lg shadow-sm pointer-events-none",style:{width:`calc(${100/Et.length}% - 8px)`,zIndex:1,top:"6px",bottom:"6px"},layoutId:"activeDocTab",initial:!1,animate:{left:`calc(${h()*(100/Et.length)}% + 6px)`},transition:{type:"spring",stiffness:260,damping:20,mass:.8}}),e.jsx("div",{className:"relative grid w-full gap-1.5 z-10",style:{gridTemplateColumns:`repeat(${Et.length}, 1fr)`},children:Et.map(g=>{const u=a===g;return e.jsx("button",{type:"button",onClick:()=>l(g),style:{position:"relative",fontWeight:500,borderRadius:"0.5rem",transition:"color 0.2s",background:"transparent",border:"none",cursor:"pointer",color:u?"#ffffff !important":"#1f2937",zIndex:20,fontSize:"0.75rem",padding:"0.5rem 0.75rem"},className:"sm:text-sm sm:px-4 sm:py-2.5",children:e.jsx("span",{style:{color:u?"#ffffff":"#1f2937"},children:Vo[g]})},g)})})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Xs,{className:"h-full",children:e.jsxs("div",{className:"px-3 sm:px-6 py-4 sm:py-6 pb-6 sm:pb-8",children:[a==="overview"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Haupt-Funktionen"]}),e.jsxs("div",{className:"grid gap-3 sm:gap-4 mt-6 sm:mt-8",children:[e.jsx(F,{className:"border-gray-200 bg-white",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-green-50 rounded-lg flex-shrink-0",children:e.jsx(ze,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Terminbuchung"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:'Kunden kÃ¶nnen Termine fÃ¼r die nÃ¤chste Veranstaltung buchen. Slots kÃ¶nnen je nach Einstellung automatisch bestÃ¤tigt oder als "Ausstehend" markiert werden.'}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Auto-BestÃ¤tigung optional"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Duplikat-Schutz"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Slot-Verwaltung"})]})]})]})})}),e.jsx(F,{className:"border-gray-200 bg-white",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-50 rounded-lg flex-shrink-0",children:e.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Termin-Verwaltung"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"BestÃ¤tigen, Ablehnen oder LÃ¶schen Sie Termine im Admin-Panel. Jede Aktion wird dokumentiert und der Kunde wird automatisch benachrichtigt."}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 mt-2 sm:mt-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx($,{className:"bg-green-600 text-white text-[10px] sm:text-xs w-fit",children:"BestÃ¤tigen"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Google Calendar + BestÃ¤tigungs-E-Mail"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx($,{className:"bg-orange-600 text-white text-[10px] sm:text-xs w-fit",children:"Stornieren"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Slot freigeben + Benachrichtigungs-E-Mail"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-[10px] sm:text-xs",children:[e.jsx($,{className:"bg-red-600 text-white text-[10px] sm:text-xs w-fit",children:"LÃ¶schen"}),e.jsx("span",{className:"text-gray-600",children:"â†’ Komplett entfernen (KEINE E-Mail)"})]})]})]})]})})}),e.jsx(F,{className:"border-gray-200 bg-white",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-50 rounded-lg flex-shrink-0",children:e.jsx(vs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Automatische Erinnerungen"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"24 Stunden vor jedem bestÃ¤tigten Termin wird automatisch eine Erinnerungs-E-Mail versendet. Powered by Cloudflare Cron Jobs (stÃ¼ndlich)."}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch via Cron"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Duplikat-Schutz"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Audit-Log"})]})]})]})})}),e.jsx(F,{className:"border-gray-200 bg-white",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-indigo-50 rounded-lg flex-shrink-0",children:e.jsx(ze,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1",children:"Google Calendar Integration"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 leading-relaxed",children:"BestÃ¤tigte Termine werden automatisch in Google Calendar eingetragen. Bei Stornierung werden sie automatisch gelÃ¶scht."}),e.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch bei BestÃ¤tigung"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Automatisch bei Stornierung"})]})]})]})})})]})]}),e.jsx(ie,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Status-Ãœbersicht"]}),e.jsxs("div",{className:"grid gap-2 sm:gap-3 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx(Re,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-yellow-900",children:"Ausstehend (Pending)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-yellow-700 leading-relaxed",children:"Wartet auf Ihre BestÃ¤tigung. Zeitslot ist blockiert. Kunde hat Anfrage-E-Mail erhalten."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-green-900",children:"BestÃ¤tigt (Confirmed)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-green-700 leading-relaxed",children:"Termin ist bestÃ¤tigt. In Google Calendar eingetragen. Kunde erhÃ¤lt Erinnerung 24h vorher."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx(Bt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm text-red-900",children:"Storniert (Cancelled)"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-red-700 leading-relaxed",children:"Termin abgelehnt oder storniert. Zeitslot wieder frei. Kunde erhÃ¤lt Benachrichtigungs-E-Mail. Bleibt zur Dokumentation sichtbar."})]})]})]})]})]}),a==="emails"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"E-Mail-Ãœbersicht"]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 mt-6 sm:mt-8",children:[e.jsx(F,{className:"border-yellow-200 bg-yellow-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Re,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Terminanfrage eingegangen"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Bei neuer Buchung (wenn Auto-BestÃ¤tigung AUS)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["â³ Ihre Terminanfrage fÃ¼r die ",i]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"BestÃ¤tigung der Anfrage, Hinweis auf PrÃ¼fung, Link zur Terminseite"})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("requested"),disabled:n==="requested",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="requested"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(F,{className:"border-green-200 bg-green-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ue,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Sofortbuchung bestÃ¤tigt"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Bei neuer Buchung (wenn Auto-BestÃ¤tigung AN)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["âœ… TerminbestÃ¤tigung - ",i]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"Termin ist bestÃ¤tigt, Details, Stornierungsoption, Link zur Terminseite"})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("instant-booked"),disabled:n==="instant-booked",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="instant-booked"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(F,{className:"border-green-200 bg-green-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ue,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin bestÃ¤tigt (vom Admin)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Admin einen ausstehenden Termin bestÃ¤tigt"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["âœ… TerminbestÃ¤tigung - ",i]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"BestÃ¤tigung, Termin-Details, Stornierungsoption, Link zur Terminseite"})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("confirmed"),disabled:n==="confirmed",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="confirmed"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(F,{className:"border-orange-200 bg-orange-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Bt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Terminanfrage abgelehnt"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Admin einen Termin ablehnt/storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsx("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:"âŒ Terminanfrage abgelehnt"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"Freundliche Absage, Hinweis auf alternative Buchung, Link zur Terminseite"})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("rejected"),disabled:n==="rejected",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="rejected"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(F,{className:"border-red-200 bg-red-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Bt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin storniert (vom Kunden)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Wenn Kunde Ã¼ber Termin-Link storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"}),e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs ml-1",style:{color:"#000000"},children:"Admin (optional)"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsx("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:"âŒ Termin storniert"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:"StornierungsbestÃ¤tigung, MÃ¶glichkeit zur Neu-Buchung, Link zur Terminseite"})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("cancelled"),disabled:n==="cancelled",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="cancelled"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})}),e.jsx(F,{className:"border-purple-200 bg-purple-50/30",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-600"}),e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Termin-Erinnerung (24h vorher)"})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Wann:"})," ",e.jsx("span",{className:"text-gray-900 font-medium",children:"Automatisch 24h vor bestÃ¤tigtem Termin (via Cron Job)"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"An:"})," ",e.jsx($,{variant:"outline",className:"text-[10px] sm:text-xs",style:{color:"#000000"},children:"Kunde"})]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-gray-600",children:"Betreff:"})," ",e.jsxs("code",{className:"text-[10px] sm:text-xs bg-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",style:{color:"#000000"},children:["â° Erinnerung: Ihr Termin morgen - ",i]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Inhalt:"})," ",e.jsx("span",{className:"text-gray-900",children:'"Wir freuen uns auf Sie!", Termin-Details, Stornierungsoption, Wichtige Infos'})]})]})]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>x("reminder"),disabled:n==="reminder",className:"gap-2 text-xs w-full sm:w-auto sm:self-end",children:[n==="reminder"?e.jsx(me,{className:"w-3 h-3 animate-spin"}):e.jsx(pt,{className:"w-3 h-3"}),"Test senden"]})]})})})]})]}),e.jsx(ie,{}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx(Be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-blue-900 mb-1",children:"Hinweis zu Test-E-Mails"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-700 leading-relaxed",children:"Test-E-Mails werden an die in den Einstellungen hinterlegte Admin-E-Mail-Adresse gesendet. So kÃ¶nnen Sie die E-Mails prÃ¼fen, bevor Kunden sie erhalten. Die E-Mails enthalten Beispiel-Daten."})]})]})})]}),a==="faq"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-6 sm:mb-8 flex items-center gap-2",children:[e.jsx(Sa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"HÃ¤ufig gestellte Fragen"]}),e.jsxs(Wo,{type:"single",collapsible:!0,className:"space-y-2 mt-6 sm:mt-8",children:[e.jsxs(Se,{value:"item-1",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:'Was ist der Unterschied zwischen "Stornieren" und "LÃ¶schen"?'}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Stornieren:"}),' Der Termin wird als "Storniert" markiert, der Kunde erhÃ¤lt eine E-Mail-Benachrichtigung, der Zeitslot wird freigegeben, und der Termin bleibt zur Dokumentation im System sichtbar.']}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"LÃ¶schen:"})," Der Termin wird komplett aus dem System entfernt, der Kunde erhÃ¤lt KEINE Benachrichtigung, und der Termin ist nicht mehr sichtbar. Verwenden Sie diese Funktion nur fÃ¼r Test-Termine oder Duplikate."]})]})]}),e.jsxs(Se,{value:"item-2",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wann werden Erinnerungs-E-Mails versendet?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Erinnerungs-E-Mails werden automatisch 24 Stunden vor jedem ",e.jsx("strong",{children:"bestÃ¤tigten"})," Termin versendet. Das System prÃ¼ft stÃ¼ndlich (via Cloudflare Cron Job), welche Termine in den nÃ¤chsten 24 Stunden stattfinden."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Wichtig:"}),' Nur Termine mit Status "BestÃ¤tigt" erhalten Erinnerungen. Ausstehende oder stornierte Termine werden Ã¼bersprungen.']})]})]}),e.jsxs(Se,{value:"item-3",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was passiert wenn ich versehentlich einen Termin ablehne?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:'Der Termin wird als "Storniert" markiert und der Kunde erhÃ¤lt eine Absage-E-Mail. Eine Wiederherstellung ist nicht mÃ¶glich.'}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"LÃ¶sung:"})," Kontaktieren Sie den Kunden direkt (Telefon oder E-Mail) und bitten Sie ihn, einen neuen Termin zu buchen."]})]})]}),e.jsxs(Se,{value:"item-4",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie kann ich prÃ¼fen ob E-Mails versendet wurden?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Im ",e.jsx("strong",{children:"AktivitÃ¤tslog"})," werden alle E-Mail-VersÃ¤nde dokumentiert. Sie sehen dort den Status (erfolgreich oder fehlgeschlagen), den EmpfÃ¤nger und den Zeitpunkt."]}),e.jsx("p",{children:"EintrÃ¤ge im Audit-Log:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm",children:[e.jsx("li",{children:'"E-Mail an Kunde" - Kunde wurde benachrichtigt'}),e.jsx("li",{children:'"E-Mail an Admin" - Admin wurde benachrichtigt'}),e.jsx("li",{children:'"E-Mail fehlgeschlagen" - Versand war nicht erfolgreich'}),e.jsx("li",{children:'"Erinnerungs-E-Mail" - Erinnerung wurde versendet'})]})]})]}),e.jsxs(Se,{value:"item-5",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was ist Auto-BestÃ¤tigung und wann sollte ich sie verwenden?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Mit ",e.jsx("strong",{children:"Auto-BestÃ¤tigung AN"})," werden neue Termine sofort bestÃ¤tigt, in Google Calendar eingetragen und der Kunde erhÃ¤lt eine BestÃ¤tigungs-E-Mail."]}),e.jsxs("p",{children:["Mit ",e.jsx("strong",{children:"Auto-BestÃ¤tigung AUS"}),' haben neue Termine den Status "Ausstehend" und warten auf Ihre manuelle BestÃ¤tigung im Admin-Panel.']}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Empfehlung:"})," Verwenden Sie Auto-BestÃ¤tigung, wenn Sie allen Kunden vertrauen und genÃ¼gend Slots verfÃ¼gbar sind. Deaktivieren Sie sie, wenn Sie jeden Termin manuell prÃ¼fen mÃ¶chten."]})]})]}),e.jsxs(Se,{value:"item-6",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Werden Kunden bei mehrfacher E-Mail-Adresse benachrichtigt?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Ja, das System verfÃ¼gt Ã¼ber einen ",e.jsx("strong",{children:"Duplikat-Schutz"}),'. Wenn die Option "Duplikat-Schutz" in den Einstellungen aktiviert ist, kÃ¶nnen Kunden mit derselben E-Mail-Adresse keinen zweiten Termin buchen.']}),e.jsxs("p",{children:["Der Duplikat-Schutz prÃ¼ft nur ",e.jsx("strong",{children:"aktive"})," Termine (ausstehend und bestÃ¤tigt). Stornierte Termine werden ignoriert, sodass der Kunde nach einer Stornierung erneut buchen kann."]})]})]}),e.jsxs(Se,{value:"item-7",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was passiert wenn Google Calendar nicht konfiguriert ist?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das System funktioniert auch ohne Google Calendar Integration. Termine werden normal verwaltet, aber nicht automatisch in Google Calendar eingetragen."}),e.jsx("p",{children:"In den Einstellungen sehen Sie einen Warnhinweis, wenn Google Calendar nicht konfiguriert ist. Folgen Sie der Anleitung in der Google Calendar Setup-Dokumentation, um die Integration einzurichten."})]})]}),e.jsxs(Se,{value:"item-8",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie kann ich das Buchungssystem temporÃ¤r deaktivieren?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsxs("p",{children:["Aktivieren Sie den ",e.jsx("strong",{children:"Wartungsmodus"})," in den Einstellungen. Dann wird Kunden eine konfigurierbare Wartungsmeldung angezeigt und neue Buchungen sind nicht mÃ¶glich."]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"Hinweis:"})," Bestehende Termine bleiben erhalten und Sie kÃ¶nnen diese weiterhin im Admin-Panel verwalten."]})]})]}),e.jsxs(Se,{value:"item-9",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Kann ich die E-Mail-Vorlagen anpassen?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Die E-Mail-Vorlagen sind fest im System integriert und kÃ¶nnen nicht direkt Ã¼ber das Admin-Panel angepasst werden."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-gray-900",children:"FÃ¼r Anpassungen:"})," Kontaktieren Sie Ihren Entwickler. Die Templates befinden sich in ",e.jsx("code",{className:"text-[10px] bg-gray-100 px-1 py-0.5 rounded",children:"src/lib/email.ts"}),"."]})]})]}),e.jsxs(Se,{value:"item-10",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Was bedeuten die verschiedenen EintrÃ¤ge im Audit-Log?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das Audit-Log dokumentiert alle wichtigen Aktionen im System:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Termin gebucht"})," - Neuer Termin wurde erstellt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin bestÃ¤tigt"})," - Admin hat Termin bestÃ¤tigt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin abgelehnt"})," - Admin hat Termin abgelehnt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin storniert"})," - Kunde hat Termin storniert"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Termin gelÃ¶scht"})," - Admin hat Termin komplett gelÃ¶scht"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"E-Mail an Kunde"})," - Kunde wurde per E-Mail informiert"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"E-Mail fehlgeschlagen"})," - E-Mail-Versand ist fehlgeschlagen"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Erinnerungs-E-Mail"})," - 24h-Erinnerung wurde versendet"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Einstellungen geÃ¤ndert"})," - Admin hat Einstellungen angepasst"]})]})]})]}),e.jsxs(Se,{value:"item-11",className:"border border-gray-200 bg-white rounded-lg px-3 sm:px-4",children:[e.jsx(Ce,{className:"text-xs sm:text-sm font-medium text-gray-900 hover:no-underline py-2",children:"Wie passe ich das System fÃ¼r das nÃ¤chste Jahr an?"}),e.jsxs(Ae,{className:"text-sm text-gray-600 space-y-1.5 pb-2",children:[e.jsx("p",{children:"Das System ist fÃ¼r jÃ¤hrliche Events optimiert. Gehen Sie wie folgt vor:"}),e.jsxs("ol",{className:"list-decimal pl-4 space-y-1 text-xs sm:text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Einstellungen Ã¶ffnen:"})," Navigieren Sie zu den",e.jsx("strong",{children:" Einstellungen"})," im Admin-Panel"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Event-Jahres-Konfiguration:"}),' Scrollen Sie zur Sektion "Event-Jahres-Konfiguration"']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Jahr anpassen:"})," Tragen Sie das neue Jahr ein (z.B. 2027)"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Startdatum anpassen:"})," Tragen Sie das Startdatum ein (Freitag, Format: YYYY-MM-DD)"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Speichern:"}),' Klicken Sie auf "Einstellungen speichern"']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-900",children:"Neu laden:"})," Laden Sie die Seite mit ",e.jsx("kbd",{children:"Strg+Shift+R"}),"(Windows) oder ",e.jsx("kbd",{children:"Cmd+Shift+R"})," (Mac) komplett neu"]})]}),e.jsxs("p",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2 mt-1.5",children:[e.jsx("strong",{className:"text-yellow-900",children:"Automatische Updates:"}),e.jsx("br",{}),"Nach der Anpassung werden automatisch aktualisiert:"]}),e.jsxs("ul",{className:"list-disc pl-4 space-y-0.5 text-xs sm:text-sm mt-1",children:[e.jsx("li",{children:"Alle Datumsanzeigen im Buchungsformular"}),e.jsx("li",{children:"E-Mail-Vorlagen mit den neuen Termindaten"}),e.jsx("li",{children:"Admin-Panel TerminÃ¼bersichten"}),e.jsx("li",{children:"Event-End-Screen Datum (automatisch auf Sonntag + 1 Tag)"})]}),e.jsxs("p",{className:"bg-green-50 border border-green-200 rounded-lg p-2 mt-1.5",children:[e.jsx("strong",{className:"text-green-900",children:"Hinweis:"})," Alte Termine bleiben erhalten und werden nicht gelÃ¶scht. Sie sehen dann Termine fÃ¼r beide Jahre im System."]})]})]})]})]}),e.jsx(ie,{}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 sm:p-5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:[e.jsx(ue,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-green-900 mb-2",children:"Weitere Fragen?"}),e.jsxs("p",{className:"text-xs sm:text-sm text-green-700 leading-relaxed mb-4",children:["Wenn Sie weitere Fragen haben oder Probleme auftreten, wenden Sie sich bitte an die"," ",e.jsx("a",{href:"https://www.moroclub.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline hover:text-green-900 transition-colors",children:"Agentur MORO"}),"."]}),e.jsx("a",{href:"mailto:info@moro-gmbh.de",className:"block",children:e.jsxs(H,{size:"sm",className:"w-full sm:w-auto gap-2 bg-green-600 hover:bg-green-700 text-white whitespace-nowrap text-xs sm:text-sm",children:[e.jsx(Wt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"info@moro-gmbh.de"]})})]})]})})]})]})})})]})})}const Ko="admin_seen_appointments",Ht=t=>{try{if(!t)return null;const s=Jt(t);return vn(s)?s:null}catch{return null}},ys=(t,s)=>{try{const n=Ht(t);return n?Ms(n,s,{locale:Is}):"UngÃ¼ltiges Datum"}catch{return"UngÃ¼ltiges Datum"}},Yo=(t,s)=>{const n=s.get(t.id);if(!n||n.status!==t.status)return!0;if(t.updatedAt){const r=new Date(t.updatedAt).getTime(),a=new Date(n.timestamp).getTime();if(r>a)return!0}return!1},Go=(t,s)=>t.filter(n=>Yo(n,s)).length;function rc(){const[t,s]=c.useState([]),[n,r]=c.useState(!0),[a,l]=c.useState(null),[i,o]=c.useState(null),[m,d]=c.useState(!1),[x,h]=c.useState(!1),[g,u]=c.useState(null),[f,p]=c.useState(null),[y,v]=c.useState(!1),[b,w]=c.useState(!1),[E,k]=c.useState(0),[L,P]=c.useState(!1),[M,S]=c.useState(new Map),[C,I]=c.useState(!1),[D,R]=c.useState("all"),[_,Y]=c.useState("all"),[z,W]=c.useState("created-desc"),[A,V]=c.useState(""),[ce,we]=c.useState(!1),[Xe,Ue]=c.useState(!0),[Ne,j]=c.useState(!0),[G,T]=c.useState(!1);c.useEffect(()=>{(()=>{try{const O=localStorage.getItem(Ko);if(O){const J=JSON.parse(O),de=new Map(J.map(le=>[le.id,le]));S(de),console.log(`ðŸ“– Loaded ${de.size} seen appointments from localStorage`)}}catch(O){console.error("Error loading seen appointments:",O)}})()},[]),c.useEffect(()=>{if(t.length>0){const N=Go(t,M);k(N),console.log(`ðŸ”” Unseen count updated: ${N}`)}},[t,M]),c.useEffect(()=>{U()},[]);const U=async()=>{try{const N=await fetch(`${te}/api/admin/calendar-status`);let O={configured:!0};N.ok&&(O=await N.json(),Ue(O.configured));const J=await fetch(`${te}/api/admin/settings`);if(J.ok){const le=(await J.json()).settings;T(le.maintenanceMode||!1),j(O.configured);const Je=le.maintenanceMode||!O.configured||le.emailNotifications&&!O.configured;we(Je)}}catch(N){console.error("Error checking settings warnings:",N)}},ne=async()=>{console.log("ðŸ”„ Fetching appointments...");try{r(!0),l(null);const N=`${te}/api/admin/appointments`;console.log("ðŸ“¡ Fetching from:",N);const O=await fetch(N);if(console.log("ðŸ“¥ Response status:",O.status),!O.ok){const de=await O.text();throw console.error("âŒ Error response:",de),new Error(`HTTP ${O.status}: ${de}`)}const J=await O.json();if(console.log("âœ… Data received:",J),J&&Array.isArray(J.appointments)){console.log(`ðŸ“‹ ${J.appointments.length} appointments loaded`);const de=J.appointments.filter(le=>{const Je=Ht(le.appointmentDate)!==null,an=Ht(le.createdAt)!==null;return(!Je||!an)&&console.warn("âš ï¸ Invalid appointment date:",le.id,{appointmentDate:le.appointmentDate,createdAt:le.createdAt}),Je&&an});console.log(`âœ… ${de.length} valid appointments`),s(de)}else console.warn("âš ï¸ Invalid data format:",J),s([])}catch(N){console.error("ðŸ’¥ Fetch error:",N);const O=N instanceof Error?N.message:"Verbindungsfehler";l(O),q.error("Fehler beim Laden: "+O)}finally{console.log("âœ… Loading complete"),r(!1)}};c.useEffect(()=>{console.log("ðŸš€ Component mounted, fetching appointments"),ne()},[]);const K=async(N,O)=>{o(N);try{const J=O==="confirmed"?"confirm":"cancel",de=await fetch(`${te}/api/admin/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:N,action:J})});if(de.ok)s(le=>le.map(Je=>Je.id===N?{...Je,status:O,updatedAt:new Date().toISOString()}:Je)),q.success(O==="confirmed"?"Termin wurde bestÃ¤tigt":"Termin wurde storniert");else{const le=await de.json();q.error(le.message||"Fehler beim Aktualisieren")}}catch(J){console.error("Error updating appointment:",J),q.error("Verbindungsfehler")}finally{o(null)}},ee=async N=>{console.log(`ðŸ—‘ï¸ Frontend: Starting delete for appointment ${N}`),o(N);try{console.log(`ðŸ“¡ Sending DELETE request to ${te}/api/admin/appointments`);const O=await fetch(`${te}/api/admin/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:N,action:"delete"})});if(console.log(`ðŸ“¥ Delete response status: ${O.status}`),O.ok){const J=await O.json();console.log("âœ… Delete successful:",J),s(de=>de.filter(le=>le.id!==N)),q.success("Termin wurde gelÃ¶scht")}else{const J=await O.json();console.error("âŒ Delete failed:",J);const de=J.error||J.message||"Fehler beim LÃ¶schen",le=J.details?` (${J.details})`:"";q.error(de+le)}}catch(O){console.error("ðŸ’¥ Delete error:",O);const J=O instanceof Error?O.message:"Unbekannter Fehler";q.error(`Verbindungsfehler: ${J}`)}finally{o(null),d(!1),u(null),console.log("âœ… Delete operation complete")}},re=N=>{K(N,"confirmed")},xe=N=>{p(N),h(!0)},Ke=()=>{f&&(K(f,"cancelled"),h(!1),p(null))},Ct=N=>{u(N),d(!0)},At=N=>{switch(N){case"confirmed":return e.jsxs($,{className:"bg-green-100 text-green-800 hover:bg-green-100 flex items-center gap-1.5",children:[e.jsx(ue,{className:"w-3.5 h-3.5"}),"BestÃ¤tigt"]});case"cancelled":return e.jsxs($,{className:"bg-red-100 text-red-800 hover:bg-red-100 flex items-center gap-1.5",children:[e.jsx(Oe,{className:"w-3.5 h-3.5"}),"Storniert"]});case"pending":return e.jsxs($,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100 flex items-center gap-1.5",children:[e.jsx(Re,{className:"w-3.5 h-3.5"}),"Ausstehend"]});default:return null}},rn=[...t.filter(N=>{if(D!=="all"&&N.status!==D||_!=="all"&&N.day!==_)return!1;if(A){const O=A.toLowerCase(),J=Ht(N.appointmentDate)?.getFullYear().toString()||"",de=ys(N.appointmentDate,"dd.MM.yyyy");if(![N.name,N.company||"",N.email,N.phone,N.message||"",J,de].join(" ").toLowerCase().includes(O))return!1}return!0})].sort((N,O)=>{switch(z){case"created-desc":return new Date(O.createdAt).getTime()-new Date(N.createdAt).getTime();case"created-asc":return new Date(N.createdAt).getTime()-new Date(O.createdAt).getTime();case"date-asc":return new Date(N.appointmentDate).getTime()-new Date(O.appointmentDate).getTime();case"date-desc":return new Date(O.appointmentDate).getTime()-new Date(N.appointmentDate).getTime();case"name-asc":return N.name.localeCompare(O.name);case"name-desc":return O.name.localeCompare(N.name);default:return 0}}),ra=N=>{k(N)};return e.jsxs("div",{className:"container mx-auto p-2 sm:p-4 md:p-6 lg:p-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg block",children:e.jsx(ln,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Terminverwaltung"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Ãœbersicht aller gebuchten Termine"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxs(H,{onClick:()=>w(!0),variant:"default",size:"default",className:"gap-2 rounded-xl shadow-md hover:shadow-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold px-4 sm:px-6 text-sm w-full sm:w-auto relative",children:[e.jsx(ln,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Zeitplan Ansicht",E>0&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-red-500 text-white text-[10px] font-bold items-center justify-center shadow-lg",children:E})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-start",children:[e.jsx(H,{onClick:()=>P(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(En,{className:"w-5 h-5"})}),e.jsx(H,{onClick:()=>I(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(Re,{className:"w-5 h-5"})}),e.jsxs(H,{onClick:()=>v(!0),variant:"outline",size:"icon",className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10 relative",children:[e.jsx(Tn,{className:"w-5 h-5"}),ce&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})]})]}),e.jsx(H,{onClick:()=>ne(),variant:"outline",size:"icon",disabled:n,className:"rounded-xl shadow-md hover:shadow-lg text-gray-900 h-10 w-10",children:e.jsx(mt,{className:`w-5 h-5 ${n?"animate-spin":""}`})})]})]})]}),e.jsx(F,{className:"mb-4 sm:mb-6 shadow-md",children:e.jsxs(B,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"text",placeholder:"Suchen (Name, Firma, E-Mail...)",value:A,onChange:N=>V(N.target.value),className:"pl-10 text-gray-900"})]})}),e.jsxs(ps,{value:D,onValueChange:R,children:[e.jsx(js,{className:"text-gray-900",children:e.jsx(fs,{placeholder:"Status"})}),e.jsxs(bs,{children:[e.jsx(he,{value:"all",children:"Alle Status"}),e.jsx(he,{value:"pending",children:"Ausstehend"}),e.jsx(he,{value:"confirmed",children:"BestÃ¤tigt"}),e.jsx(he,{value:"cancelled",children:"Storniert"})]})]}),e.jsxs(ps,{value:_,onValueChange:Y,children:[e.jsx(js,{className:"text-gray-900",children:e.jsx(fs,{placeholder:"Tag"})}),e.jsxs(bs,{children:[e.jsx(he,{value:"all",children:"Alle Tage"}),e.jsx(he,{value:"friday",children:"Freitag"}),e.jsx(he,{value:"saturday",children:"Samstag"}),e.jsx(he,{value:"sunday",children:"Sonntag"})]})]})]}),e.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2 sm:gap-3",children:[e.jsx(Ea,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),e.jsxs(ps,{value:z,onValueChange:W,children:[e.jsx(js,{className:"max-w-xs text-gray-900",children:e.jsx(fs,{placeholder:"Sortieren"})}),e.jsxs(bs,{children:[e.jsx(he,{value:"created-desc",children:"Neueste zuerst"}),e.jsx(he,{value:"created-asc",children:"Ã„lteste zuerst"}),e.jsx(he,{value:"date-asc",children:"Termin aufsteigend"}),e.jsx(he,{value:"date-desc",children:"Termin absteigend"}),e.jsx(he,{value:"name-asc",children:"Name A-Z"}),e.jsx(he,{value:"name-desc",children:"Name Z-A"})]})]}),(D!=="all"||_!=="all"||A)&&e.jsxs(H,{onClick:()=>{R("all"),Y("all"),V("")},variant:"ghost",size:"sm",className:"text-gray-900",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),"Filter zurÃ¼cksetzen"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx(F,{className:"shadow-sm",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Gesamt"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx(ze,{className:"w-8 h-8 sm:w-10 sm:h-10 text-indigo-600"})]})})}),e.jsx(F,{className:"shadow-sm",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Ausstehend"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.filter(N=>N.status==="pending").length})]}),e.jsx(Re,{className:"w-8 h-8 sm:w-10 sm:h-10 text-yellow-600"})]})})}),e.jsx(F,{className:"shadow-sm",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"BestÃ¤tigt"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:t.filter(N=>N.status==="confirmed").length})]}),e.jsx(ue,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})]})})}),e.jsx(F,{className:"shadow-sm",children:e.jsx(B,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Storniert"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.filter(N=>N.status==="cancelled").length})]}),e.jsx(Oe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600"})]})})})]}),n?e.jsx(F,{className:"shadow-md",children:e.jsx(B,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(me,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-indigo-600"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Termine werden geladen..."})]})})}):a?e.jsx(F,{className:"shadow-md border-red-200 bg-red-50",children:e.jsx(B,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(Be,{className:"w-10 h-10 sm:w-12 sm:h-12 text-red-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-red-900 mb-2",children:"Fehler beim Laden"}),e.jsx("p",{className:"text-xs sm:text-sm text-red-700",children:a})]}),e.jsxs(H,{onClick:()=>ne(),variant:"outline",className:"text-gray-900",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Erneut versuchen"]})]})})}):rn.length===0?e.jsx(F,{className:"shadow-md",children:e.jsx(B,{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(ze,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:A||D!=="all"||_!=="all"?"Keine Termine gefunden":"Keine Termine vorhanden"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:A||D!=="all"||_!=="all"?"Versuchen Sie es mit anderen Filterkriterien.":"Es wurden noch keine Termine gebucht."})]})]})})}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:rn.map(N=>e.jsxs(F,{className:"hover:shadow-lg transition-all duration-200 shadow-md",children:[e.jsx(Ee,{className:"pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-3",children:e.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Te,{className:"text-base sm:text-lg text-gray-900",children:N.name}),At(N.status),N.googleEventId&&e.jsxs($,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300 flex items-center gap-1",children:[e.jsx(ze,{className:"w-3 h-3"}),"Google Calendar"]})]}),N.company&&e.jsxs(Pe,{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(yn,{className:"w-4 h-4 flex-shrink-0"}),N.company]})]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[N.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{onClick:()=>re(N.id),disabled:i===N.id,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm",children:i===N.id?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Cn,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"BestÃ¤tigen"})]})}),e.jsxs(H,{onClick:()=>xe(N.id),disabled:i===N.id,size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:[e.jsx(Bt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ablehnen"})]})]}),N.status==="confirmed"&&e.jsxs(H,{onClick:()=>xe(N.id),disabled:i===N.id,size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Stornieren"})]}),e.jsx(H,{onClick:()=>{window.open(`${te}/termin/${N.id}`,"_blank")},size:"sm",variant:"outline",className:"text-gray-900 hover:bg-gray-50 rounded-lg border-gray-300",children:e.jsx(Os,{className:"w-4 h-4"})}),e.jsx(H,{onClick:()=>Ct(N.id),disabled:i===N.id,size:"sm",variant:"outline",className:"text-gray-900 hover:bg-gray-50 rounded-lg border-gray-300",children:e.jsx(De,{className:"w-4 h-4"})})]})]})}),e.jsxs(B,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(ze,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:ys(N.appointmentDate,"EEEE, dd. MMMM yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(Re,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-medium",children:[N.time," Uhr"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(la,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("a",{href:`tel:${N.phone}`,className:"text-blue-600 hover:text-blue-800",children:N.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsx(Wt,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("a",{href:`mailto:${N.email}`,className:"text-blue-600 hover:text-blue-800 truncate",children:N.email})]})]})]}),N.message&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"my-3 sm:my-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ua,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 italic",children:N.message})]})]}),e.jsx(ie,{className:"my-3 sm:my-4"}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs text-gray-500",children:[e.jsxs("span",{children:["Erstellt: ",ys(N.createdAt,"dd.MM.yyyy HH:mm")," Uhr"]}),e.jsxs("span",{className:"text-gray-400",children:["ID: ",N.id.slice(0,8)]})]})]})]},N.id))}),e.jsx(nt,{open:m,onOpenChange:d,children:e.jsxs(rt,{children:[e.jsxs(at,{children:[e.jsx(lt,{children:"Termin lÃ¶schen?"}),e.jsx(it,{children:"Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden. Der Termin wird dauerhaft gelÃ¶scht."})]}),e.jsxs(ot,{children:[e.jsx(ct,{onClick:()=>{d(!1),u(null)},children:"Abbrechen"}),e.jsx(dt,{onClick:()=>g&&ee(g),className:"bg-red-600 hover:bg-red-700",children:"LÃ¶schen"})]})]})}),e.jsx(nt,{open:x,onOpenChange:h,children:e.jsxs(rt,{children:[e.jsxs(at,{children:[e.jsx(lt,{children:"Termin stornieren/ablehnen?"}),e.jsx(it,{children:"Der Termin wird als storniert markiert. Diese Aktion informiert den Kunden."})]}),e.jsxs(ot,{children:[e.jsx(ct,{onClick:()=>{h(!1),p(null)},children:"Abbrechen"}),e.jsx(dt,{onClick:Ke,className:"bg-red-600 hover:bg-red-700",children:"Stornieren"})]})]})}),e.jsx(Xi,{isOpen:y,onClose:()=>v(!1)}),e.jsx(bo,{isOpen:C,onClose:()=>I(!1)}),e.jsx(wo,{isOpen:b,onClose:()=>w(!1),unseenCount:E,onUnseenCountChange:ra}),e.jsx(Uo,{isOpen:L,onClose:()=>P(!1)})]})}export{rc as default};
