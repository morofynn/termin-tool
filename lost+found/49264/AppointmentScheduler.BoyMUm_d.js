import{j as e,t as re}from"./index.C5T5zRsO.js";import{r as i}from"./index.DVzEiDzO.js";import{m as T,c as ie,B as N,C as Be,A as Bt,a as Pt,b as _t,d as $t,e as Wt,f as Ot,g as Ht,h as X,i as je,u as ke,j as Se,k as Lt,P as M,l as A,n as We,o as Oe,p as Ce,L as q,q as he,r as pe,s as ne,t as Ut,v as Gt,w as Kt,x as Vt,M as Zt}from"./badge.DdvzgWyM.js";import{c as qt,u as He,a as Jt,b as Xt,C as Yt,L as G,U as Qt,I as ae,M as er,T as tr,A as xe,X as rr}from"./index.BseL85pP.js";function nr(){return e.jsxs(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 1.5rem)"},children:[e.jsx("style",{children:`
        @keyframes rotateMinuteHand {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
        
        @keyframes rotateHourHand {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
        
        .minute-hand {
          transform-origin: 50px 50px;
          animation: rotateMinuteHand 4s linear infinite;
        }
        
        .hour-hand {
          transform-origin: 50px 50px;
          animation: rotateHourHand 2s linear infinite;
        }
      `}),e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"#fef3c7",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{maxWidth:"clamp(2.5rem, 10vw, 3.5rem)",maxHeight:"clamp(2.5rem, 10vw, 3.5rem)"},children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#ca8a04",strokeWidth:"3",fill:"none"}),[0,30,60,90,120,150,180,210,240,270,300,330].map(t=>e.jsx("line",{x1:"50",y1:"8",x2:"50",y2:"15",stroke:"#ca8a04",strokeWidth:"2",transform:`rotate(${t} 50 50)`},t)),e.jsx("line",{className:"minute-hand",x1:"50",y1:"50",x2:"50",y2:"15",stroke:"#ca8a04",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("line",{className:"hour-hand",x1:"50",y1:"50",x2:"50",y2:"25",stroke:"#ca8a04",strokeWidth:"3.5",strokeLinecap:"round"}),e.jsx("circle",{cx:"50",cy:"50",r:"4",fill:"#ca8a04"})]})})]})}/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],ir=ie("calendar-x",ar);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],or=ie("party-popper",sr);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],cr=ie("test-tube-diagonal",lr);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ye=ie("wrench",dr);function mr(){const[t,r]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>r(!0),className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Termin nicht gefunden simulieren (Test)",children:[e.jsx(Be,{className:"w-4 h-4"}),"Test Not Found"]}),e.jsx(Bt,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"rounded-2xl border-0 shadow-2xl bg-white",children:[e.jsxs(_t,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-red-50 rounded-xl",children:e.jsx(Be,{className:"w-6 h-6 text-red-600"})}),e.jsx($t,{className:"text-xl text-gray-900",children:"Termin nicht gefunden"})]}),e.jsx(Wt,{className:"text-sm text-gray-600 leading-relaxed",children:"Der angeforderte Termin existiert nicht oder wurde gelÃ¶scht."})]}),e.jsx(Ot,{className:"gap-2 sm:gap-2",children:e.jsx(Ht,{onClick:()=>window.location.href=`${X}/`,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-xl w-full",children:"ZurÃ¼ck zur Startseite"})})]})})]})}var be="rovingFocusGroup.onEntryFocus",ur={bubbles:!1,cancelable:!0},Y="RovingFocusGroup",[we,Le,fr]=qt(Y),[gr,Ue]=je(Y,[fr]),[hr,pr]=gr(Y),Ge=i.forwardRef((t,r)=>e.jsx(we.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(we.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(xr,{...t,ref:r})})}));Ge.displayName=Y;var xr=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:c=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:x,onEntryFocus:y,preventScrollOnEntryFocus:d=!1,...m}=t,b=i.useRef(null),C=ke(r,b),w=He(l),[I,f]=Se({prop:u,defaultProp:v??null,onChange:x,caller:Y}),[p,j]=i.useState(!1),k=Lt(y),D=Le(a),B=i.useRef(!1),[O,H]=i.useState(0);return i.useEffect(()=>{const R=b.current;if(R)return R.addEventListener(be,k),()=>R.removeEventListener(be,k)},[k]),e.jsx(hr,{scope:a,orientation:o,dir:w,loop:c,currentTabStopId:I,onItemFocus:i.useCallback(R=>f(R),[f]),onItemShiftTab:i.useCallback(()=>j(!0),[]),onFocusableItemAdd:i.useCallback(()=>H(R=>R+1),[]),onFocusableItemRemove:i.useCallback(()=>H(R=>R-1),[]),children:e.jsx(M.div,{tabIndex:p||O===0?-1:0,"data-orientation":o,...m,ref:C,style:{outline:"none",...t.style},onMouseDown:A(t.onMouseDown,()=>{B.current=!0}),onFocus:A(t.onFocus,R=>{const le=!B.current;if(R.target===R.currentTarget&&le&&!p){const Q=new CustomEvent(be,ur);if(R.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const V=D().filter(F=>F.focusable),ce=V.find(F=>F.active),de=V.find(F=>F.id===I),ue=[ce,de,...V].filter(Boolean).map(F=>F.ref.current);Ze(ue,d)}}B.current=!1}),onBlur:A(t.onBlur,()=>j(!1))})})}),Ke="RovingFocusGroupItem",Ve=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:c=!1,tabStopId:l,children:u,...v}=t,x=We(),y=l||x,d=pr(Ke,a),m=d.currentTabStopId===y,b=Le(a),{onFocusableItemAdd:C,onFocusableItemRemove:w,currentTabStopId:I}=d;return i.useEffect(()=>{if(o)return C(),()=>w()},[o,C,w]),e.jsx(we.ItemSlot,{scope:a,id:y,focusable:o,active:c,children:e.jsx(M.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...v,ref:r,onMouseDown:A(t.onMouseDown,f=>{o?d.onItemFocus(y):f.preventDefault()}),onFocus:A(t.onFocus,()=>d.onItemFocus(y)),onKeyDown:A(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){d.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const p=vr(f,d.orientation,d.dir);if(p!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let k=b().filter(D=>D.focusable).map(D=>D.ref.current);if(p==="last")k.reverse();else if(p==="prev"||p==="next"){p==="prev"&&k.reverse();const D=k.indexOf(f.currentTarget);k=d.loop?wr(k,D+1):k.slice(D+1)}setTimeout(()=>Ze(k))}}),children:typeof u=="function"?u({isCurrentTabStop:m,hasTabStop:I!=null}):u})})});Ve.displayName=Ke;var yr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function br(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vr(t,r,a){const o=br(t.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return yr[o]}function Ze(t,r=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:r}),document.activeElement!==a))return}function wr(t,r){return t.map((a,o)=>t[(r+o)%t.length])}var jr=Ge,kr=Ve,se="Tabs",[Sr,qr]=je(se,[Ue]),qe=Ue(),[Cr,Ie]=Sr(se),Je=i.forwardRef((t,r)=>{const{__scopeTabs:a,value:o,onValueChange:c,defaultValue:l,orientation:u="horizontal",dir:v,activationMode:x="automatic",...y}=t,d=He(v),[m,b]=Se({prop:o,onChange:c,defaultProp:l??"",caller:se});return e.jsx(Cr,{scope:a,baseId:We(),value:m,onValueChange:b,orientation:u,dir:d,activationMode:x,children:e.jsx(M.div,{dir:d,"data-orientation":u,...y,ref:r})})});Je.displayName=se;var Xe="TabsList",Ir=i.forwardRef((t,r)=>{const{__scopeTabs:a,loop:o=!0,...c}=t,l=Ie(Xe,a),u=qe(a);return e.jsx(jr,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:o,children:e.jsx(M.div,{role:"tablist","aria-orientation":l.orientation,...c,ref:r})})});Ir.displayName=Xe;var Ye="TabsTrigger",Tr=i.forwardRef((t,r)=>{const{__scopeTabs:a,value:o,disabled:c=!1,...l}=t,u=Ie(Ye,a),v=qe(a),x=tt(u.baseId,o),y=rt(u.baseId,o),d=o===u.value;return e.jsx(kr,{asChild:!0,...v,focusable:!c,active:d,children:e.jsx(M.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":y,"data-state":d?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:x,...l,ref:r,onMouseDown:A(t.onMouseDown,m=>{!c&&m.button===0&&m.ctrlKey===!1?u.onValueChange(o):m.preventDefault()}),onKeyDown:A(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&u.onValueChange(o)}),onFocus:A(t.onFocus,()=>{const m=u.activationMode!=="manual";!d&&!c&&m&&u.onValueChange(o)})})})});Tr.displayName=Ye;var Qe="TabsContent",et=i.forwardRef((t,r)=>{const{__scopeTabs:a,value:o,forceMount:c,children:l,...u}=t,v=Ie(Qe,a),x=tt(v.baseId,o),y=rt(v.baseId,o),d=o===v.value,m=i.useRef(d);return i.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Oe,{present:c||d,children:({present:b})=>e.jsx(M.div,{"data-state":d?"active":"inactive","data-orientation":v.orientation,role:"tabpanel","aria-labelledby":x,hidden:!b,id:y,tabIndex:0,...u,ref:r,style:{...t.style,animationDuration:m.current?"0s":void 0},children:b&&l})})});et.displayName=Qe;function tt(t,r){return`${t}-trigger-${r}`}function rt(t,r){return`${t}-content-${r}`}var Rr=Je,Er=et;function Dr({className:t,...r}){return e.jsx(Rr,{"data-slot":"tabs",className:Ce("flex flex-col gap-2",t),...r})}function Nr({className:t,...r}){return e.jsx(Er,{"data-slot":"tabs-content",className:Ce("flex-1 outline-none",t),...r})}var oe="Checkbox",[Ar,Jr]=je(oe),[zr,Te]=Ar(oe);function Fr(t){const{__scopeCheckbox:r,checked:a,children:o,defaultChecked:c,disabled:l,form:u,name:v,onCheckedChange:x,required:y,value:d="on",internal_do_not_use_render:m}=t,[b,C]=Se({prop:a,defaultProp:c??!1,onChange:x,caller:oe}),[w,I]=i.useState(null),[f,p]=i.useState(null),j=i.useRef(!1),k=w?!!u||!!w.closest("form"):!0,D={checked:b,disabled:l,setChecked:C,control:w,setControl:I,name:v,form:u,value:d,hasConsumerStoppedPropagationRef:j,required:y,defaultChecked:$(c)?!1:c,isFormControl:k,bubbleInput:f,setBubbleInput:p};return e.jsx(zr,{scope:r,...D,children:Mr(m)?m(D):o})}var nt="CheckboxTrigger",at=i.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:a,...o},c)=>{const{control:l,value:u,disabled:v,checked:x,required:y,setControl:d,setChecked:m,hasConsumerStoppedPropagationRef:b,isFormControl:C,bubbleInput:w}=Te(nt,t),I=ke(c,d),f=i.useRef(x);return i.useEffect(()=>{const p=l?.form;if(p){const j=()=>m(f.current);return p.addEventListener("reset",j),()=>p.removeEventListener("reset",j)}},[l,m]),e.jsx(M.button,{type:"button",role:"checkbox","aria-checked":$(x)?"mixed":x,"aria-required":y,"data-state":dt(x),"data-disabled":v?"":void 0,disabled:v,value:u,...o,ref:I,onKeyDown:A(r,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:A(a,p=>{m(j=>$(j)?!0:!j),w&&C&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})})});at.displayName=nt;var it=i.forwardRef((t,r)=>{const{__scopeCheckbox:a,name:o,checked:c,defaultChecked:l,required:u,disabled:v,value:x,onCheckedChange:y,form:d,...m}=t;return e.jsx(Fr,{__scopeCheckbox:a,checked:c,defaultChecked:l,disabled:v,required:u,onCheckedChange:y,name:o,form:d,value:x,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(at,{...m,ref:r,__scopeCheckbox:a}),b&&e.jsx(ct,{__scopeCheckbox:a})]})})});it.displayName=oe;var st="CheckboxIndicator",ot=i.forwardRef((t,r)=>{const{__scopeCheckbox:a,forceMount:o,...c}=t,l=Te(st,a);return e.jsx(Oe,{present:o||$(l.checked)||l.checked===!0,children:e.jsx(M.span,{"data-state":dt(l.checked),"data-disabled":l.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...t.style}})})});ot.displayName=st;var lt="CheckboxBubbleInput",ct=i.forwardRef(({__scopeCheckbox:t,...r},a)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:l,defaultChecked:u,required:v,disabled:x,name:y,value:d,form:m,bubbleInput:b,setBubbleInput:C}=Te(lt,t),w=ke(a,C),I=Jt(l),f=Xt(o);i.useEffect(()=>{const j=b;if(!j)return;const k=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(k,"checked").set,O=!c.current;if(I!==l&&B){const H=new Event("click",{bubbles:O});j.indeterminate=$(l),B.call(j,$(l)?!1:l),j.dispatchEvent(H)}},[b,I,l,c]);const p=i.useRef($(l)?!1:l);return e.jsx(M.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??p.current,required:v,disabled:x,name:y,value:d,form:m,...r,tabIndex:-1,ref:w,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ct.displayName=lt;function Mr(t){return typeof t=="function"}function $(t){return t==="indeterminate"}function dt(t){return $(t)?"indeterminate":t?"checked":"unchecked"}function Br({className:t,...r}){return e.jsx(it,{"data-slot":"checkbox",className:Ce("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(ot,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Yt,{className:"size-3.5"})})})}const W=(t,r=500)=>{let a=t.trim();return a.length>r&&(a=a.substring(0,r)),a=a.replace(/[\x00-\x08\x0B-\x0C\x0E-\x1F\x7F]/g,""),a},mt=t=>!(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)||t.length>254||t.split("@")[0].length>64),ut=t=>{const r=t.replace(/[\s\-\(\)\.]/g,"");return r.length<8||r.length>20?!1:/^\+?[0-9]{8,20}$/.test(r)},ft=t=>{const r=t.trim();return r.length<2||r.length>100?!1:/^[a-zA-ZÃ¤Ã¶Ã¼Ã„Ã–ÃœÃŸÃ Ã¡Ã¢Ã£Ã¨Ã©ÃªÃ¬Ã­Ã®Ã²Ã³Ã´ÃµÃ¹ÃºÃ»Ã€ÃÃ‚ÃƒÃˆÃ‰ÃŠÃŒÃÃŽÃ’Ã“Ã”Ã•Ã™ÃšÃ›\s\-\.']+$/.test(r)},Pr=t=>{if(!t||t.trim()==="")return!0;const r=t.trim();return r.length<2||r.length>150?!1:/^[a-zA-Z0-9Ã¤Ã¶Ã¼Ã„Ã–ÃœÃŸÃ Ã¡Ã¢Ã£Ã¨Ã©ÃªÃ¬Ã­Ã®Ã²Ã³Ã´ÃµÃ¹ÃºÃ»Ã€ÃÃ‚ÃƒÃˆÃ‰ÃŠÃŒÃÃŽÃ’Ã“Ã”Ã•Ã™ÃšÃ›\s\-\.'&,/()]+$/.test(r)},_r=t=>!t||t.trim()===""?!0:!(t.trim().length>500),$r=t=>{const r=new Date(t);return!isNaN(r.getTime())},Wr=t=>/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(t),Or=t=>{const r={},a={name:W(t.name,100),company:W(t.company,150),phone:W(t.phone,30),email:W(t.email,254),message:W(t.message,500),date:t.date?W(t.date,20):void 0,time:t.time?W(t.time,10):void 0};return ft(a.name)||(r.name="Bitte geben Sie einen gÃ¼ltigen Namen ein (mind. 2 Zeichen, nur Buchstaben)"),a.company&&!Pr(a.company)&&(r.company="Bitte geben Sie einen gÃ¼ltigen Firmennamen ein"),ut(a.phone)||(r.phone="Bitte geben Sie eine gÃ¼ltige Telefonnummer ein (mind. 8 Ziffern)"),mt(a.email)||(r.email="Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein"),a.message&&!_r(a.message)&&(r.message="Nachricht darf maximal 500 Zeichen lang sein"),a.date&&!$r(a.date)&&(r.date="UngÃ¼ltiges Datum"),a.time&&!Wr(a.time)&&(r.time="UngÃ¼ltige Uhrzeit (Format: HH:mm)"),{valid:Object.keys(r).length===0,errors:r,sanitized:a}},ve={friday:"Fr. 16.01.",saturday:"Sa. 17.01.",sunday:"So. 18.01."},Pe={friday:new Date("2026-01-16"),saturday:new Date("2026-01-17"),sunday:new Date("2026-01-18")},_e={friday:Array.from({length:15},(t,r)=>{const a=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${a.toString().padStart(2,"0")}:${o}`}),saturday:Array.from({length:15},(t,r)=>{const a=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${a.toString().padStart(2,"0")}:${o}`}),sunday:Array.from({length:13},(t,r)=>{const a=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${a.toString().padStart(2,"0")}:${o}`})},K=["friday","saturday","sunday"],J="#2d62ff",$e="#f5f8ff",_={textDark:"#1f2937",textBlack:"#111827",white:"#ffffff",grayBorder:"#e5e7eb"};function Xr(){const[t,r]=i.useState(!1),[a,o]=i.useState("friday"),[c,l]=i.useState(""),[u,v]=i.useState({}),[x,y]=i.useState(!1),[d,m]=i.useState(!1),[b,C]=i.useState(!1),[w,I]=i.useState(!1),[f,p]=i.useState({day:"",time:"",autoConfirmed:!0,id:""}),[j,k]=i.useState(null),[D,B]=i.useState([]),[O,H]=i.useState(2),[R,le]=i.useState(!0),[Q,V]=i.useState("Ihre Nachricht..."),[ce,de]=i.useState("info@moro-gmbh.de"),[me,ue]=i.useState(""),[F,gt]=i.useState({friday:!0,saturday:!0,sunday:!0}),[ht,pt]=i.useState(!1),[xt,yt]=i.useState("Das Buchungssystem ist vorÃ¼bergehend nicht verfÃ¼gbar. Bitte versuchen Sie es spÃ¤ter erneut."),[S,L]=i.useState({name:"",company:"",phone:"",email:"",message:""}),[Hr,Lr]=i.useState({}),[ee,Re]=i.useState(!1),[bt,fe]=i.useState(!1),[Z,vt]=i.useState(!1),[te,wt]=i.useState(!1),[ge,jt]=i.useState(!1),[U,kt]=i.useState(!1),[St,Ee]=i.useState(!1),g=n=>{console.log(`[AppointmentScheduler] ${n}`),B(s=>[...s,`${new Date().toISOString()}: ${n}`])},De=(n,s)=>{const h=new Date,E=Pe[n],[P,z]=s.split(":").map(Number),Me=new Date(E);return Me.setHours(P,z,0,0),Me<h},Ct=()=>{if(te)return!1;const n=new Date,s=Pe.sunday,h="16:00",[E,P]=h.split(":").map(Number),z=new Date(s);return z.setHours(E,P,0,0),n>=z};i.useEffect(()=>{if(g("Component mounted"),r(!0),Ct()){Ee(!0),g("All event slots are over - showing end screen");return}It(),Ne()},[]);const It=async()=>{try{const n=await fetch(`${X}/api/admin/settings`);if(n.ok){const s=await n.json();H(s.settings.maxBookingsPerSlot||2),le(s.settings.showSlotIndicator!==!1),V(s.settings.messagePlaceholder||"Ihre Nachricht..."),de(s.settings.companyEmail||"info@moro-gmbh.de"),ue(s.settings.logoUrl||""),gt(s.settings.availableDays||{friday:!0,saturday:!0,sunday:!0}),pt(s.settings.maintenanceMode||!1),yt(s.settings.maintenanceMessage||"Das Buchungssystem ist vorÃ¼bergehend nicht verfÃ¼gbar. Bitte versuchen Sie es spÃ¤ter erneut."),g(`Max bookings per slot: ${s.settings.maxBookingsPerSlot}`),g(`Show slot indicator: ${s.settings.showSlotIndicator}`),g(`Message placeholder: ${s.settings.messagePlaceholder}`),g(`Admin email: ${s.settings.companyEmail}`),g(`Logo URL: ${s.settings.logoUrl}`),g(`Available days: ${JSON.stringify(s.settings.availableDays)}`),g(`Maintenance mode: ${s.settings.maintenanceMode}`);const h=["friday","saturday","sunday"].find(E=>s.settings.availableDays?.[E]!==!1);h&&s.settings.availableDays?.[h]&&o(h)}}catch{g("Error loading settings, using default")}},Ne=async()=>{try{g("Starting fetchAvailability..."),y(!1);const n=`${X}/api/availability`;g(`Fetching from: ${n}`);const s=await fetch(n);if(g(`Response status: ${s.status} ${s.statusText}`),s.ok){const h=await s.json();g(`Received data: ${JSON.stringify(h)}`),g(`Data keys count: ${Object.keys(h).length}`),v(h),y(!0),g("Availability state updated successfully")}else{const h=await s.text();g(`Response not OK: ${h}`),k(`API Error: ${s.status}`),y(!0)}}catch(n){const s=n instanceof Error?n.message:"Unknown error";g(`Error in fetchAvailability: ${s}`),console.error("Error fetching availability:",n),k(`Fetch Error: ${s}`),y(!0)}},Ae=(n,s)=>{const h=`${n}-${s}`,E=u[h];return De(n,s)?{booked:0,available:!1}:E||{booked:0,available:!0}},Tt=()=>{g("Simulate booking clicked"),C(!0),m(!0),setTimeout(()=>{p({day:"Fr. 16.01.",time:"10:00",autoConfirmed:!0,id:"test-123"}),C(!1),setTimeout(()=>{I(!0),m(!1),g("Simulation complete")},300)},2e3)},Rt=()=>{vt(!Z),g(`Full day test: ${!Z}`)},ze=()=>{const n=!te;wt(n),Ee(n),g(`Event ended test: ${n}`)},Et=()=>{const n=!ge;jt(n),n?(I(!0),p({day:ve[a||"friday"],time:c||"10:00",autoConfirmed:!1,id:"test-pending-"+Date.now()})):(I(!1),p({day:"",time:"",autoConfirmed:!0,id:""})),g(`Pending screen test: ${n}`)},Fe=()=>{const n=!U;kt(n),g(`Maintenance mode test: ${n}`)},Dt=async n=>{if(n.preventDefault(),g("Form submitted"),!c){re.error("Bitte wÃ¤hlen Sie einen Zeitpunkt");return}if(!ee){re.error("Bitte akzeptieren Sie die Datenschutzbestimmungen");return}m(!0),C(!0);try{const s=await fetch(`${X}/api/book-appointment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({day:a,time:c,...S})}),h=await s.json();g(`Booking response: ${JSON.stringify(h)}`),await new Promise(E=>setTimeout(E,2e3)),s.ok?(p({day:ve[a],time:c,autoConfirmed:h.autoConfirmed!==void 0?h.autoConfirmed:!0,id:h.appointmentId||""}),C(!1),setTimeout(()=>{I(!0)},300),L({name:"",company:"",phone:"",email:"",message:""}),Re(!1),l(""),await Ne()):(C(!1),re.error(h.message||"Fehler beim Buchen"))}catch(s){C(!1);const h=s instanceof Error?s.message:"Unknown error";g(`Booking error: ${h}`),re.error("Ein Fehler ist aufgetreten"),console.error("Booking error:",s)}finally{m(!1)}},Nt=()=>{g("Reset to booking"),I(!1)},At=()=>K.indexOf(a),zt=n=>Z?!0:x?_e[n].every(h=>!Ae(n,h).available):!1,Ft=n=>!F[n];if(!t)return e.jsx("div",{style:{maxWidth:"42rem",margin:"0 auto",padding:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(q,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Lade Termin-Tool..."})]})});if(ht||U)return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsx("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100},children:e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:Fe,className:"shadow-lg hover:shadow-xl transition-all",style:{background:U?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ye,{className:"w-4 h-4"}),U?"Stop Maintenance":"Test Maintenance"]})}),e.jsx(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(2rem, 8vw, 4rem)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(he,{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.2)",borderRadius:"1.5rem",border:"none",overflow:"hidden",textAlign:"center",color:"#ffffff"},children:e.jsxs(pe,{style:{padding:"clamp(2rem, 8vw, 4rem)"},children:[e.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 2rem)"},children:e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"rgba(255, 255, 255, 0.2)",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(ye,{style:{width:"clamp(2.5rem, 10vw, 3.5rem)",height:"clamp(2.5rem, 10vw, 3.5rem)",color:"#ffffff"}})})})}),e.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",fontWeight:700,marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.2},children:"Wartungsmodus"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 3.5vw, 1.25rem)",opacity:.95,lineHeight:1.6,maxWidth:"32rem",margin:"0 auto"},children:xt})]})})})]});if(St)return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsx("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100},children:e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:ze,className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ne,{className:"w-4 h-4"}),"Stop Event End"]})}),e.jsx(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(2rem, 8vw, 4rem)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(he,{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.2)",borderRadius:"1.5rem",border:"none",overflow:"hidden",textAlign:"center",color:"#ffffff"},children:e.jsxs(pe,{style:{padding:"clamp(2rem, 8vw, 4rem)"},children:[e.jsx(T.div,{initial:{scale:0,y:20},animate:{scale:1,y:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 2rem)"},children:e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"rgba(255, 255, 255, 0.2)",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:e.jsx(T.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(or,{style:{width:"clamp(2.5rem, 10vw, 3.5rem)",height:"clamp(2.5rem, 10vw, 3.5rem)",color:"#ffffff"}})})})}),e.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",fontWeight:700,marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.2},children:"Vielen Dank, dass ihr dabei wart!"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 3.5vw, 1.25rem)",opacity:.95,lineHeight:1.6,maxWidth:"32rem",margin:"0 auto"},children:"Wir sehen uns im nÃ¤chsten Jahr wieder auf der Opti."})]})})})]});const Mt=()=>e.jsx(xe,{children:bt&&e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:()=>fe(!1),children:e.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:n=>n.stopPropagation(),style:{backgroundColor:"#ffffff",borderRadius:"1rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.2)",position:"relative"},children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#111827"},children:"Datenschutzbestimmungen"}),e.jsx("button",{onClick:()=>fe(!1),style:{background:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",transition:"background-color 0.2s"},onMouseEnter:n=>n.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:n=>n.currentTarget.style.backgroundColor="transparent",children:e.jsx(rr,{style:{width:"1.5rem",height:"1.5rem"}})})]}),e.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(80vh - 100px)",color:"#374151",lineHeight:"1.5"},children:[e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",color:"#111827"},children:"Erhebung und Verarbeitung personenbezogener Daten"}),e.jsx("p",{style:{marginBottom:"1rem",lineHeight:"1.5"},children:"Ihre personenbezogenen Daten (Name, Betrieb, Telefonnummer, E-Mail-Adresse und optionale Nachricht) werden ausschlieÃŸlich zur Terminverwaltung und Kontaktaufnahme im Rahmen der OPTI 2026 verwendet."}),e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",marginTop:"1.5rem",color:"#111827"},children:"Zweck der Datenverarbeitung"}),e.jsxs("ul",{style:{marginBottom:"1rem",paddingLeft:"1.5rem",lineHeight:"1.5"},children:[e.jsx("li",{children:"Verwaltung Ihrer Terminbuchung"}),e.jsx("li",{children:"BestÃ¤tigung und Erinnerung an Ihren Termin"}),e.jsx("li",{children:"Kontaktaufnahme bei RÃ¼ckfragen oder Ã„nderungen"}),e.jsx("li",{children:"Synchronisation mit unserem internen Kalender (Google Calendar)"})]}),e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",marginTop:"1.5rem",color:"#111827"},children:"Speicherung und LÃ¶schung"}),e.jsx("p",{style:{marginBottom:"1rem",lineHeight:"1.5"},children:"Ihre Daten werden fÃ¼r maximal 90 Tage nach dem Event-Ende gespeichert und anschlieÃŸend automatisch gelÃ¶scht."}),e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",marginTop:"1.5rem",color:"#111827"},children:"Weitergabe an Dritte"}),e.jsx("p",{style:{marginBottom:"1rem",lineHeight:"1.5"},children:"Ihre Daten werden nicht an Dritte weitergegeben. Die Speicherung erfolgt auf sicheren Servern der Cloudflare Workers Plattform (KV Store) und in unserem Google Calendar."}),e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",marginTop:"1.5rem",color:"#111827"},children:"Ihre Rechte"}),e.jsx("p",{style:{marginBottom:"1rem",lineHeight:"1.5"},children:"Sie haben jederzeit das Recht auf Auskunft, Berichtigung, LÃ¶schung und EinschrÃ¤nkung der Verarbeitung Ihrer personenbezogenen Daten. Sie kÃ¶nnen Ihren Termin auch selbststÃ¤ndig Ã¼ber den BestÃ¤tigungslink stornieren."}),e.jsx("h4",{style:{fontWeight:600,marginBottom:"0.75rem",marginTop:"1.5rem",color:"#111827"},children:"Kontakt"}),e.jsxs("p",{style:{marginBottom:"0"},children:["Bei Fragen zum Datenschutz kontaktieren Sie uns unter:",e.jsx("br",{}),e.jsx("strong",{children:ce})]})]})]})})});try{return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsx(Mt,{}),e.jsxs("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:Tt,className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Buchung simulieren (Test)",children:[e.jsx(cr,{className:"w-4 h-4"}),"Test Booking"]}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:Rt,className:"shadow-lg hover:shadow-xl transition-all",style:{background:Z?"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Vollen Tag simulieren (Test)",children:[e.jsx(Ut,{className:"w-4 h-4"}),Z?"Stop Full Day":"Test Full Day"]}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:ze,className:"shadow-lg hover:shadow-xl transition-all",style:{background:te?"linear-gradient(135deg, #fa709a 0%, #fee140 100%)":"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Event beendet simulieren (Test)",children:[e.jsx(ne,{className:"w-4 h-4"}),te?"Stop Event End":"Test Event End"]}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:Et,className:"shadow-lg hover:shadow-xl transition-all",style:{background:ge?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Pending Screen simulieren (Test)",children:[e.jsx(q,{className:"w-4 h-4"}),ge?"Stop Pending":"Test Pending"]}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:Fe,className:"shadow-lg hover:shadow-xl transition-all",style:{background:U?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Wartungsmodus simulieren (Test)",children:[e.jsx(ye,{className:"w-4 h-4"}),U?"Stop Maintenance":"Test Maintenance"]}),e.jsx(mr,{})]}),!1,j&&e.jsxs("div",{style:{maxWidth:"42rem",margin:"0 auto 1rem",padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",border:"1px solid #fca5a5"},children:[e.jsx("strong",{children:"Error:"})," ",j]}),e.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(0.75rem, 2vw, 1.5rem)"},children:e.jsx("div",{style:{position:"relative"},children:e.jsxs(he,{style:{background:"#ffffff",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",borderRadius:"1rem",border:"none",overflow:"hidden"},children:[e.jsxs(pe,{style:{padding:"clamp(1rem, 3vw, 1.5rem)",paddingTop:"clamp(1.5rem, 4vw, 2rem)",opacity:w?0:1,pointerEvents:w?"none":"auto",transition:"opacity 0.3s ease"},children:[me&&e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"clamp(1.5rem, 4vw, 2rem)"},children:e.jsx("img",{src:me,alt:"Logo",style:{maxWidth:"clamp(120px, 40vw, 200px)",height:"auto",objectFit:"contain"}})}),e.jsxs("form",{onSubmit:Dt,style:{display:"flex",flexDirection:"column",gap:"clamp(1rem, 3vw, 1.5rem)"},children:[e.jsx("div",{children:e.jsxs(Dr,{value:a,onValueChange:n=>{g(`Day changed to: ${n}`),o(n)},children:[e.jsxs("div",{className:"day-tabs-container",style:{position:"relative",background:"#f3f4f6",borderRadius:"0.75rem",padding:"clamp(0.25rem, 1vw, 0.375rem)",isolation:"isolate"},children:[e.jsx(T.div,{style:{position:"absolute",backgroundColor:J,width:`calc(${100/K.length}% - 6px)`,zIndex:1,top:"clamp(0.25rem, 1vw, 0.375rem)",bottom:"clamp(0.25rem, 1vw, 0.375rem)",borderRadius:"0.5rem",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",pointerEvents:"none"},layoutId:"activeTab",initial:!1,animate:{left:`calc(${At()*(100/K.length)}% + 6px)`},transition:{type:"spring",stiffness:260,damping:20,mass:.8}}),e.jsx("div",{style:{position:"relative",display:"grid",width:"100%",gridTemplateColumns:`repeat(${K.length}, 1fr)`,zIndex:2,gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:K.map(n=>{const s=a===n;return e.jsx("button",{type:"button",onClick:()=>o(n),style:{position:"relative",fontWeight:500,borderRadius:"0.5rem",transition:"color 0.2s",background:"transparent",border:"none",cursor:"pointer",color:s?"#ffffff":"#000000",zIndex:3,fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem)"},children:ve[n]},n)})})]}),K.map(n=>e.jsx(Nr,{value:n,style:{marginTop:"clamp(0.75rem, 2vw, 1rem)"},children:x?zt(n)||Ft(n)?e.jsx("div",{style:{textAlign:"center",padding:"clamp(2rem, 6vw, 3rem) clamp(1rem, 3vw, 1.5rem)",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"1rem",border:"2px solid #fbbf24"},children:e.jsxs(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[e.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},style:{marginBottom:"clamp(0.75rem, 2vw, 1rem)"},children:e.jsx("div",{style:{width:"clamp(3rem, 10vw, 4rem)",height:"clamp(3rem, 10vw, 4rem)",margin:"0 auto",background:"#fbbf24",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ir,{style:{width:"clamp(1.5rem, 5vw, 2rem)",height:"clamp(1.5rem, 5vw, 2rem)",color:"#ffffff"}})})}),e.jsx("p",{style:{color:"#92400e",fontSize:"clamp(0.875rem, 3vw, 1rem)",lineHeight:1.6,fontWeight:500},children:"Leider sind keine freien Termine mehr fÃ¼r diesen Tag verfÃ¼gbar."}),e.jsx("p",{style:{color:"#92400e",fontSize:"clamp(0.875rem, 3vw, 1rem)",lineHeight:1.6,marginTop:"clamp(0.5rem, 1.5vw, 0.75rem)"},children:"Kommen Sie aber gerne spontan bei uns am Stand vorbei! :)"})]})}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:_e[n].map(s=>{const h=Ae(n,s),E=c===s,P=!h.available,z=De(n,s);return e.jsxs("div",{style:{position:"relative"},children:[e.jsx(N,{type:"button",variant:"outline",disabled:P||z,onClick:()=>{!z&&!P&&(g(`Time selected: ${s}`),l(s))},style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",backgroundColor:E?J:_.white,borderColor:E?J:_.grayBorder,color:E?$e:_.textBlack,fontSize:"clamp(0.75rem, 2vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem) clamp(0.25rem, 1vw, 0.5rem)",opacity:P||z?.3:1,cursor:P||z?"not-allowed":"pointer"},children:s}),R&&h.booked>0&&!z&&e.jsxs(Gt,{variant:h.booked>=O?"destructive":"secondary",style:{position:"absolute",top:"-0.25rem",right:"-0.25rem",fontSize:"10px",height:"1rem",padding:"0 0.375rem",borderRadius:"9999px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",zIndex:10},children:[h.booked,"/",O]})]},s)})}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",minHeight:"200px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(q,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"VerfÃ¼gbarkeit wird geladen..."})]})})},n))]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(G,{htmlFor:"name",style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Qt,{style:{width:"1rem",height:"1rem",flexShrink:0}}),e.jsx("span",{children:"Name *"})]}),e.jsx(ae,{id:"name",required:!0,value:S.name,onChange:n=>L({...S,name:n.target.value}),placeholder:"Max Mustermann",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:_.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:S.name&&!ft(S.name)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(G,{htmlFor:"company",style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Kt,{style:{width:"1rem",height:"1rem",flexShrink:0}}),e.jsx("span",{children:"Betrieb"})]}),e.jsx(ae,{id:"company",value:S.company,onChange:n=>L({...S,company:n.target.value}),placeholder:"Firma GmbH",style:{color:_.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(G,{htmlFor:"phone",style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Vt,{style:{width:"1rem",height:"1rem",flexShrink:0}}),e.jsx("span",{children:"Telefon *"})]}),e.jsx(ae,{id:"phone",type:"tel",required:!0,value:S.phone,onChange:n=>L({...S,phone:n.target.value}),placeholder:"+49 123 456789",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:_.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:S.phone&&!ut(S.phone)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(G,{htmlFor:"email",style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Zt,{style:{width:"1rem",height:"1rem",flexShrink:0}}),e.jsx("span",{children:"E-Mail *"})]}),e.jsx(ae,{id:"email",type:"email",required:!0,value:S.email,onChange:n=>L({...S,email:n.target.value}),placeholder:"max@example.com",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:_.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:S.email&&!mt(S.email)?"#ef4444":void 0}})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(G,{htmlFor:"message",style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(er,{style:{width:"1rem",height:"1rem",flexShrink:0}}),e.jsx("span",{children:"Nachricht"})]}),e.jsx(tr,{id:"message",value:S.message,onChange:n=>L({...S,message:n.target.value}),placeholder:Q,rows:3,style:{color:_.textDark,fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"resize-none rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]}),e.jsxs("div",{className:"privacy-checkbox-container",style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"0.75rem",border:"1px solid #e5e7eb",lineHeight:"1.4"},children:[e.jsx(Br,{id:"privacy",checked:ee,onCheckedChange:n=>Re(n),style:{marginTop:"0.125rem"}}),e.jsxs(G,{htmlFor:"privacy",style:{fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",lineHeight:"1.4",color:"#374151",cursor:"pointer",flex:1},children:["Ich habe die"," ",e.jsx("span",{onClick:n=>{n.preventDefault(),fe(!0)},style:{color:J,textDecoration:"underline",cursor:"pointer",display:"inline"},children:"Datenschutzbestimmungen"})," ","gelesen und akzeptiere diese. *"]})]})]}),e.jsx("div",{children:e.jsx(N,{type:"submit",disabled:d||!c||!x||!Or(S).valid||!ee,style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",transition:"all 0.2s",backgroundColor:J,color:$e,height:"clamp(2.25rem, 6vw, 2.75rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",opacity:d||!c||!x||!ee?.5:1},children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:d?e.jsxs(e.Fragment,{children:[e.jsx(q,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"},className:"animate-spin"}),"Wird gebucht..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"}}),"Termin buchen"]})})})})]})]}),e.jsx(xe,{children:(w||b)&&e.jsx(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:w?1:0,scale:w?1:.95},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:200,damping:20},style:{position:"absolute",inset:0,zIndex:40,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"28rem",width:"100%"},children:[f.autoConfirmed?e.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:w?1:0,rotate:w?0:-180},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 1.5rem)"},children:e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"#dcfce7",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ne,{style:{width:"clamp(2.5rem, 10vw, 3.5rem)",height:"clamp(2.5rem, 10vw, 3.5rem)",color:"#16a34a"}})})}):e.jsx(nr,{}),e.jsx("h2",{style:{fontWeight:700,color:"#111827",fontSize:"clamp(1.5rem, 5vw, 1.875rem)",marginBottom:"clamp(0.5rem, 2vw, 0.75rem)"},children:"Nice to see you!"}),e.jsx("p",{style:{color:"#6b7280",fontSize:"clamp(0.875rem, 3vw, 1rem)",marginBottom:"clamp(0.25rem, 1vw, 0.5rem)"},children:f.autoConfirmed?"Ihr Termin wurde erfolgreich gebucht!":"Ihre Terminanfrage wurde eingereicht!"}),e.jsxs("p",{style:{fontWeight:600,color:"#111827",fontSize:"clamp(1rem, 3.5vw, 1.125rem)",marginBottom:"clamp(2rem, 6vw, 3rem)"},children:[f.day," um ",f.time," Uhr"]}),!f.autoConfirmed&&e.jsx("p",{style:{color:"#9ca3af",fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.5},children:"Ihr Termin wird geprÃ¼ft und Sie erhalten in KÃ¼rze eine BestÃ¤tigung per E-Mail."}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.75rem, 2vw, 1rem)",width:"100%"},children:[f.id&&e.jsx(N,{onClick:()=>window.open(`${X}/termin/${f.id}`,"_blank"),style:{fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",transition:"all 0.2s",padding:"clamp(1rem, 4vw, 1.5rem) clamp(1.5rem, 6vw, 2rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",backgroundColor:f.autoConfirmed?"#2d62ff":"#10b981",color:"#ffffff",border:"none",cursor:"pointer"},children:"Zum Termin â†’"}),e.jsx(N,{onClick:Nt,variant:"outline",style:{fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",transition:"all 0.2s",padding:"clamp(1rem, 4vw, 1.5rem) clamp(1.5rem, 6vw, 2rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",backgroundColor:"#ffffff",color:"#111827",border:"1px solid #e5e7eb",cursor:"pointer"},children:"Bis dann! ðŸ‘‹"})]})]})})}),e.jsx(xe,{children:b&&e.jsx(T.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:100,damping:25},style:{position:"absolute",inset:0,zIndex:50,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(T.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(q,{style:{width:"4rem",height:"4rem",color:"#2563eb",margin:"0 auto 1rem"}})}),e.jsx("p",{style:{fontSize:"1.125rem",color:"#6b7280"},children:"Termin wird gebucht..."})]})})})]})})})]})}catch(n){return console.error("Render error:",n),g(`RENDER ERROR: ${n instanceof Error?n.message:"Unknown"}`),e.jsxs("div",{style:{maxWidth:"42rem",margin:"2rem auto",padding:"2rem",background:"#fee2e2",color:"#991b1b",borderRadius:"1rem",border:"2px solid #fca5a5"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Rendering Error"}),e.jsxs("p",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{children:"Error:"})," ",n instanceof Error?n.message:"Unknown error"]}),e.jsx("pre",{style:{background:"white",padding:"1rem",borderRadius:"0.5rem",overflow:"auto",fontSize:"0.75rem"},children:n instanceof Error?n.stack:"No stack trace"})]})}}export{Xr as default};
