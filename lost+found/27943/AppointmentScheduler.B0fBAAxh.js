import{j as e,t as Y}from"./index.C5T5zRsO.js";import{r as i}from"./index.DVzEiDzO.js";import{c as Be,a as ie,u as $e,b as le,d as _e,P as _,e as F,f as ce,g as Me,h as me,i as Z,L as W,B as G,m as D,C as ze,j as Pe,k as Oe,l as Le,n as We,o as Ge,p as Ue,q as Ke,r as Ve,M as He,s as oe}from"./base-url.D_6tH6K7.js";import{c as qe,u as de,L as z,U as Je,I as U,M as Ye,T as Ze,A as ne}from"./index.CSZk80-o.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],Xe=Be("test-tube-diagonal",Qe);var Q="rovingFocusGroup.onEntryFocus",et={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[ee,ue,tt]=qe(P),[rt,fe]=ie(P,[tt]),[at,ot]=rt(P),pe=i.forwardRef((t,r)=>e.jsx(ee.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ee.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(nt,{...t,ref:r})})}));pe.displayName=P;var nt=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:m=!1,dir:v,currentTabStopId:d,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:S,onEntryFocus:h,preventScrollOnEntryFocus:l=!1,...u}=t,b=i.useRef(null),T=$e(r,b),j=de(v),[A,p]=le({prop:d,defaultProp:y??null,onChange:S,caller:P}),[C,B]=i.useState(!1),w=_e(h),E=ue(s),M=i.useRef(!1),[O,L]=i.useState(0);return i.useEffect(()=>{const x=b.current;if(x)return x.addEventListener(Q,w),()=>x.removeEventListener(Q,w)},[w]),e.jsx(at,{scope:s,orientation:o,dir:j,loop:m,currentTabStopId:A,onItemFocus:i.useCallback(x=>p(x),[p]),onItemShiftTab:i.useCallback(()=>B(!0),[]),onFocusableItemAdd:i.useCallback(()=>L(x=>x+1),[]),onFocusableItemRemove:i.useCallback(()=>L(x=>x-1),[]),children:e.jsx(_.div,{tabIndex:C||O===0?-1:0,"data-orientation":o,...u,ref:T,style:{outline:"none",...t.style},onMouseDown:F(t.onMouseDown,()=>{M.current=!0}),onFocus:F(t.onFocus,x=>{const H=!M.current;if(x.target===x.currentTarget&&H&&!C){const g=new CustomEvent(Q,et);if(x.currentTarget.dispatchEvent(g),!g.defaultPrevented){const I=E().filter(k=>k.focusable),re=I.find(k=>k.active),ae=I.find(k=>k.id===A),q=[re,ae,...I].filter(Boolean).map(k=>k.ref.current);ve(q,l)}}M.current=!1}),onBlur:F(t.onBlur,()=>B(!1))})})}),ge="RovingFocusGroupItem",he=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:m=!1,tabStopId:v,children:d,...y}=t,S=ce(),h=v||S,l=ot(ge,s),u=l.currentTabStopId===h,b=ue(s),{onFocusableItemAdd:T,onFocusableItemRemove:j,currentTabStopId:A}=l;return i.useEffect(()=>{if(o)return T(),()=>j()},[o,T,j]),e.jsx(ee.ItemSlot,{scope:s,id:h,focusable:o,active:m,children:e.jsx(_.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...y,ref:r,onMouseDown:F(t.onMouseDown,p=>{o?l.onItemFocus(h):p.preventDefault()}),onFocus:F(t.onFocus,()=>l.onItemFocus(h)),onKeyDown:F(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const C=lt(p,l.orientation,l.dir);if(C!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=b().filter(E=>E.focusable).map(E=>E.ref.current);if(C==="last")w.reverse();else if(C==="prev"||C==="next"){C==="prev"&&w.reverse();const E=w.indexOf(p.currentTarget);w=l.loop?ct(w,E+1):w.slice(E+1)}setTimeout(()=>ve(w))}}),children:typeof d=="function"?d({isCurrentTabStop:u,hasTabStop:A!=null}):d})})});he.displayName=ge;var st={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function it(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lt(t,r,s){const o=it(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return st[o]}function ve(t,r=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:r}),document.activeElement!==s))return}function ct(t,r){return t.map((s,o)=>t[(r+o)%t.length])}var mt=pe,dt=he,V="Tabs",[ut,It]=ie(V,[fe]),xe=fe(),[ft,te]=ut(V),ye=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,onValueChange:m,defaultValue:v,orientation:d="horizontal",dir:y,activationMode:S="automatic",...h}=t,l=de(y),[u,b]=le({prop:o,onChange:m,defaultProp:v??"",caller:V});return e.jsx(ft,{scope:s,baseId:ce(),value:u,onValueChange:b,orientation:d,dir:l,activationMode:S,children:e.jsx(_.div,{dir:l,"data-orientation":d,...h,ref:r})})});ye.displayName=V;var be="TabsList",pt=i.forwardRef((t,r)=>{const{__scopeTabs:s,loop:o=!0,...m}=t,v=te(be,s),d=xe(s);return e.jsx(mt,{asChild:!0,...d,orientation:v.orientation,dir:v.dir,loop:o,children:e.jsx(_.div,{role:"tablist","aria-orientation":v.orientation,...m,ref:r})})});pt.displayName=be;var we="TabsTrigger",gt=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,disabled:m=!1,...v}=t,d=te(we,s),y=xe(s),S=Te(d.baseId,o),h=Ce(d.baseId,o),l=o===d.value;return e.jsx(dt,{asChild:!0,...y,focusable:!m,active:l,children:e.jsx(_.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":h,"data-state":l?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:S,...v,ref:r,onMouseDown:F(t.onMouseDown,u=>{!m&&u.button===0&&u.ctrlKey===!1?d.onValueChange(o):u.preventDefault()}),onKeyDown:F(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&d.onValueChange(o)}),onFocus:F(t.onFocus,()=>{const u=d.activationMode!=="manual";!l&&!m&&u&&d.onValueChange(o)})})})});gt.displayName=we;var Se="TabsContent",je=i.forwardRef((t,r)=>{const{__scopeTabs:s,value:o,forceMount:m,children:v,...d}=t,y=te(Se,s),S=Te(y.baseId,o),h=Ce(y.baseId,o),l=o===y.value,u=i.useRef(l);return i.useEffect(()=>{const b=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Me,{present:m||l,children:({present:b})=>e.jsx(_.div,{"data-state":l?"active":"inactive","data-orientation":y.orientation,role:"tabpanel","aria-labelledby":S,hidden:!b,id:h,tabIndex:0,...d,ref:r,style:{...t.style,animationDuration:u.current?"0s":void 0},children:b&&v})})});je.displayName=Se;function Te(t,r){return`${t}-trigger-${r}`}function Ce(t,r){return`${t}-content-${r}`}var ht=ye,vt=je;function xt({className:t,...r}){return e.jsx(ht,{"data-slot":"tabs",className:me("flex flex-col gap-2",t),...r})}function yt({className:t,...r}){return e.jsx(vt,{"data-slot":"tabs-content",className:me("flex-1 outline-none",t),...r})}const Ie=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),ke=t=>{const r=/^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/;return t.replace(/\s/g,"").length>=8&&r.test(t)},Re=t=>t.trim().length>=2,bt=t=>{const r={};return Re(t.name)||(r.name="Bitte geben Sie einen gÃ¼ltigen Namen ein (mind. 2 Zeichen)"),ke(t.phone)||(r.phone="Bitte geben Sie eine gÃ¼ltige Telefonnummer ein"),Ie(t.email)||(r.email="Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein"),{valid:Object.keys(r).length===0,errors:r}},X={friday:"Fr. 16.01.",saturday:"Sa. 17.01.",sunday:"So. 18.01."},wt={friday:Array.from({length:15},(t,r)=>{const s=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${o}`}),saturday:Array.from({length:15},(t,r)=>{const s=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${o}`}),sunday:Array.from({length:13},(t,r)=>{const s=Math.floor(r/2)+10,o=r%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${o}`})},K="#2d62ff",se="#f5f8ff",N={textDark:"#1f2937",textBlack:"#111827",white:"#ffffff",grayBorder:"#e5e7eb"};function kt(){const[t,r]=i.useState(!1),[s,o]=i.useState("friday"),[m,v]=i.useState(""),[d,y]=i.useState({}),[S,h]=i.useState(!1),[l,u]=i.useState(!1),[b,T]=i.useState(!1),[j,A]=i.useState(!1),[p,C]=i.useState({day:"",time:"",autoConfirmed:!0}),[B,w]=i.useState(null),[E,M]=i.useState([]),[O,L]=i.useState(2),[x,H]=i.useState({friday:!0,saturday:!0,sunday:!0}),[g,I]=i.useState({name:"",company:"",phone:"",email:"",message:""}),[re,ae]=i.useState({}),f=a=>{console.log(`[AppointmentScheduler] ${a}`),M(n=>[...n,`${new Date().toISOString()}: ${a}`])};i.useEffect(()=>{f("Component mounted"),r(!0),q(),k()},[]);const q=async()=>{try{const a=await fetch(`${Z}/api/admin/settings`);if(a.ok){const n=await a.json();L(n.settings.maxBookingsPerSlot||2),H(n.settings.availableDays||{friday:!0,saturday:!0,sunday:!0}),f(`Max bookings per slot: ${n.settings.maxBookingsPerSlot}`),f(`Available days: ${JSON.stringify(n.settings.availableDays)}`);const c=["friday","saturday","sunday"].find(R=>n.settings.availableDays?.[R]!==!1);c&&n.settings.availableDays?.[c]&&o(c)}}catch{f("Error loading settings, using default")}},k=async()=>{try{f("Starting fetchAvailability..."),h(!1);const a=`${Z}/api/availability`;f(`Fetching from: ${a}`);const n=await fetch(a);if(f(`Response status: ${n.status} ${n.statusText}`),n.ok){const c=await n.json();f(`Received data: ${JSON.stringify(c)}`),f(`Data keys count: ${Object.keys(c).length}`),y(c),h(!0),f("Availability state updated successfully")}else{const c=await n.text();f(`Response not OK: ${c}`),w(`API Error: ${n.status}`),h(!0)}}catch(a){const n=a instanceof Error?a.message:"Unknown error";f(`Error in fetchAvailability: ${n}`),console.error("Error fetching availability:",a),w(`Fetch Error: ${n}`),h(!0)}},Ee=(a,n)=>{const c=`${a}-${n}`,R=d[c];return R||{booked:0,available:!0}},Fe=()=>{f("Simulate booking clicked"),T(!0),u(!0),setTimeout(()=>{C({day:"Fr. 16.01.",time:"10:00",autoConfirmed:!0}),T(!1),setTimeout(()=>{A(!0),u(!1),f("Simulation complete")},300)},2e3)},Ae=async a=>{if(a.preventDefault(),f("Form submitted"),!m){Y.error("Bitte wÃ¤hlen Sie einen Zeitpunkt");return}u(!0),T(!0);try{const n=await fetch(`${Z}/api/book-appointment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({day:s,time:m,...g})}),c=await n.json();f(`Booking response: ${JSON.stringify(c)}`),await new Promise(R=>setTimeout(R,2e3)),n.ok?(C({day:X[s],time:m,autoConfirmed:c.autoConfirmed!==void 0?c.autoConfirmed:!0}),T(!1),setTimeout(()=>{A(!0)},300),I({name:"",company:"",phone:"",email:"",message:""}),v(""),await k()):(T(!1),Y.error(c.message||"Fehler beim Buchen"))}catch(n){T(!1);const c=n instanceof Error?n.message:"Unknown error";f(`Booking error: ${c}`),Y.error("Ein Fehler ist aufgetreten"),console.error("Booking error:",n)}finally{u(!1)}},Ne=()=>{f("Reset to booking"),A(!1)},De=()=>$.indexOf(s);if(!t)return e.jsx("div",{style:{maxWidth:"42rem",margin:"0 auto",padding:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(W,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Lade Termin-Tool..."})]})});const $=Object.keys(X).filter(a=>x[a]);try{return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsx("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100},children:e.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:Fe,className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Buchung simulieren (Test)",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Test Booking"]})}),!1,B&&e.jsxs("div",{style:{maxWidth:"42rem",margin:"0 auto 1rem",padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",border:"1px solid #fca5a5"},children:[e.jsx("strong",{children:"Error:"})," ",B]}),e.jsx(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(0.75rem, 2vw, 1.5rem)"},children:e.jsx("div",{style:{position:"relative"},children:e.jsxs(ze,{style:{background:"#ffffff",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",borderRadius:"1rem",border:"none",overflow:"hidden"},children:[e.jsxs(Pe,{style:{textAlign:"center",paddingBottom:"1.5rem",paddingTop:"2rem",paddingLeft:"1.5rem",paddingRight:"1.5rem"},children:[e.jsx(D.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:.1},children:e.jsx(Oe,{style:{width:"clamp(2rem, 5vw, 2.5rem)",height:"clamp(2rem, 5vw, 2.5rem)",margin:"0 auto 0.75rem",color:"#374151"}})}),e.jsx(Le,{style:{fontSize:"clamp(1.25rem, 4vw, 1.5rem)",fontWeight:600,color:"#111827"},children:"Termin Buchen"}),e.jsx(We,{style:{fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",color:"#6b7280",marginTop:"0.25rem"},children:"WÃ¤hlen Sie Ihren Wunschtermin"})]}),e.jsx(Ge,{style:{padding:"clamp(1rem, 3vw, 1.5rem)",opacity:j?0:1,pointerEvents:j?"none":"auto",transition:"opacity 0.3s ease"},children:e.jsxs("form",{onSubmit:Ae,style:{display:"flex",flexDirection:"column",gap:"clamp(1rem, 3vw, 1.5rem)"},children:[e.jsx("div",{children:e.jsxs(xt,{value:s,onValueChange:a=>{f(`Day changed to: ${a}`),o(a)},children:[e.jsxs("div",{style:{position:"relative",background:"#f3f4f6",borderRadius:"0.75rem",padding:"clamp(0.25rem, 1vw, 0.375rem)",isolation:"isolate"},children:[e.jsx(D.div,{style:{position:"absolute",backgroundColor:K,width:`calc(${100/$.length}% - 6px)`,zIndex:1,top:"clamp(0.25rem, 1vw, 0.375rem)",bottom:"clamp(0.25rem, 1vw, 0.375rem)",borderRadius:"0.5rem",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",pointerEvents:"none"},layoutId:"activeTab",initial:!1,animate:{left:`calc(${De()*(100/$.length)}% + 6px)`},transition:{type:"spring",stiffness:260,damping:20,mass:.8}}),e.jsx("div",{style:{position:"relative",display:"grid",width:"100%",gridTemplateColumns:`repeat(${$.length}, 1fr)`,zIndex:2,gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:$.map(a=>{const n=s===a;return e.jsx("button",{type:"button",onClick:()=>o(a),style:{position:"relative",fontWeight:500,borderRadius:"0.5rem",transition:"color 0.2s",background:"transparent",border:"none",cursor:"pointer",color:n?"#ffffff":"#000000",zIndex:3,fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem)"},children:X[a]},a)})})]}),$.map(a=>e.jsx(yt,{value:a,style:{marginTop:"clamp(0.75rem, 2vw, 1rem)"},children:S?e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:wt[a].map(n=>{const c=Ee(a,n),R=m===n,J=!c.available;return e.jsxs("div",{style:{position:"relative"},children:[e.jsx(G,{type:"button",variant:"outline",disabled:J,onClick:()=>{f(`Time selected: ${n}`),v(n)},style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",backgroundColor:R?K:N.white,borderColor:R?K:N.grayBorder,color:R?se:N.textBlack,fontSize:"clamp(0.75rem, 2vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem) clamp(0.25rem, 1vw, 0.5rem)",opacity:J?.3:1,cursor:J?"not-allowed":"pointer"},children:n}),c.booked>0&&e.jsxs(Ue,{variant:c.booked>=O?"destructive":"secondary",style:{position:"absolute",top:"-0.25rem",right:"-0.25rem",fontSize:"10px",height:"1rem",padding:"0 0.375rem",borderRadius:"9999px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",zIndex:10},children:[c.booked,"/",O]})]},n)})}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",minHeight:"200px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(W,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"VerfÃ¼gbarkeit wird geladen..."})]})})},a))]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(z,{htmlFor:"name",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Je,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Name *"]}),e.jsx(U,{id:"name",required:!0,value:g.name,onChange:a=>I({...g,name:a.target.value}),placeholder:"Max Mustermann",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:N.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.name&&!Re(g.name)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(z,{htmlFor:"company",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Ke,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Betrieb"]}),e.jsx(U,{id:"company",value:g.company,onChange:a=>I({...g,company:a.target.value}),placeholder:"Firma GmbH",style:{color:N.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(z,{htmlFor:"phone",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Ve,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Telefon *"]}),e.jsx(U,{id:"phone",type:"tel",required:!0,value:g.phone,onChange:a=>I({...g,phone:a.target.value}),placeholder:"+49 123 456789",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:N.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.phone&&!ke(g.phone)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(z,{htmlFor:"email",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(He,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"E-Mail *"]}),e.jsx(U,{id:"email",type:"email",required:!0,value:g.email,onChange:a=>I({...g,email:a.target.value}),placeholder:"max@example.com",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:N.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.email&&!Ie(g.email)?"#ef4444":void 0}})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(z,{htmlFor:"message",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(Ye,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Nachricht"]}),e.jsx(Ze,{id:"message",value:g.message,onChange:a=>I({...g,message:a.target.value}),placeholder:"Ihre Nachricht...",rows:3,style:{color:N.textDark,fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"resize-none rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]})]}),e.jsx("div",{children:e.jsx(G,{type:"submit",disabled:l||!m||!S||!bt(g).valid,style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",transition:"all 0.2s",backgroundColor:K,color:se,height:"clamp(2.25rem, 6vw, 2.75rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",opacity:l||!m||!S?.5:1},children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:l?e.jsxs(e.Fragment,{children:[e.jsx(W,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"},className:"animate-spin"}),"Wird gebucht..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"}}),"Termin buchen"]})})})})]})}),e.jsx(ne,{children:(j||b)&&e.jsx(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:j?1:0,scale:j?1:.95},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:200,damping:20},style:{position:"absolute",inset:0,zIndex:40,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"28rem",width:"100%"},children:[e.jsx(D.div,{initial:{scale:0,rotate:-180},animate:{scale:j?1:0,rotate:j?0:-180},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 1.5rem)"},children:e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"#dcfce7",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(oe,{style:{width:"clamp(2.5rem, 10vw, 3.5rem)",height:"clamp(2.5rem, 10vw, 3.5rem)",color:"#16a34a"}})})}),e.jsx("h2",{style:{fontWeight:700,color:"#111827",fontSize:"clamp(1.5rem, 5vw, 1.875rem)",marginBottom:"clamp(0.5rem, 2vw, 0.75rem)"},children:"Nice to see you!"}),e.jsx("p",{style:{color:"#6b7280",fontSize:"clamp(0.875rem, 3vw, 1rem)",marginBottom:"clamp(0.25rem, 1vw, 0.5rem)"},children:p.autoConfirmed?"Ihr Termin wurde erfolgreich gebucht!":"Ihre Terminanfrage wurde eingereicht!"}),e.jsxs("p",{style:{fontWeight:600,color:"#111827",fontSize:"clamp(1rem, 3.5vw, 1.125rem)",marginBottom:"clamp(2rem, 6vw, 3rem)"},children:[p.day," um ",p.time," Uhr"]}),!p.autoConfirmed&&e.jsx("p",{style:{color:"#9ca3af",fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.5},children:"Ihr Termin wird geprÃ¼ft und Sie erhalten in KÃ¼rze eine BestÃ¤tigung per E-Mail."}),e.jsx(G,{onClick:Ne,style:{fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",transition:"all 0.2s",padding:"clamp(1rem, 4vw, 1.5rem) clamp(1.5rem, 6vw, 2rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",backgroundColor:"#000000",color:"#ffffff",border:"none",cursor:"pointer"},children:"Bis dann! ðŸ‘‹"})]})})}),e.jsx(ne,{children:b&&e.jsx(D.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:100,damping:25},style:{position:"absolute",inset:0,zIndex:50,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(D.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(W,{style:{width:"4rem",height:"4rem",color:"#2563eb",margin:"0 auto 1rem"}})}),e.jsx("p",{style:{fontSize:"1.125rem",color:"#6b7280"},children:"Termin wird gebucht..."})]})})})]})})})]})}catch(a){return console.error("Render error:",a),f(`RENDER ERROR: ${a instanceof Error?a.message:"Unknown"}`),e.jsxs("div",{style:{maxWidth:"42rem",margin:"2rem auto",padding:"2rem",background:"#fee2e2",color:"#991b1b",borderRadius:"1rem",border:"2px solid #fca5a5"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Rendering Error"}),e.jsxs("p",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{children:"Error:"})," ",a instanceof Error?a.message:"Unknown error"]}),e.jsx("pre",{style:{background:"white",padding:"1rem",borderRadius:"0.5rem",overflow:"auto",fontSize:"0.75rem"},children:a instanceof Error?a.stack:"No stack trace"})]})}}export{kt as default};
