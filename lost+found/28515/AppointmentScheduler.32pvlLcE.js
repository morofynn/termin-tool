import{j as e,t as Q}from"./index.C5T5zRsO.js";import{r as i}from"./index.DVzEiDzO.js";import{c as qe,a as he,u as Je,b as ve,d as Ye,P as M,e as D,f as xe,g as Ze,h as ye,i as X,L as H,B,C as U,m as C,j as de,k as me,l as ue,n as Qe,o as Xe,p as et,q as tt,r as rt,s as at,M as nt}from"./base-url.M4MZKq_u.js";import{c as ot,u as be,L as O,U as it,I as K,M as st,T as lt,A as fe}from"./index.UuVJafTu.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],dt=qe("test-tube-diagonal",ct);var ee="rovingFocusGroup.onEntryFocus",mt={bubbles:!1,cancelable:!0},W="RovingFocusGroup",[re,we,ut]=ot(W),[ft,Se]=he(W,[ut]),[pt,gt]=ft(W),je=i.forwardRef((t,a)=>e.jsx(re.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(re.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ht,{...t,ref:a})})}));je.displayName=W;var ht=i.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:m=!1,dir:v,currentTabStopId:u,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:b,onEntryFocus:h,preventScrollOnEntryFocus:l=!1,...f}=t,w=i.useRef(null),I=Je(a,w),j=be(v),[N,p]=ve({prop:u,defaultProp:y??null,onChange:b,caller:W}),[k,$]=i.useState(!1),S=Ye(h),F=we(s),P=i.useRef(!1),[L,G]=i.useState(0);return i.useEffect(()=>{const x=w.current;if(x)return x.addEventListener(ee,S),()=>x.removeEventListener(ee,S)},[S]),e.jsx(pt,{scope:s,orientation:n,dir:j,loop:m,currentTabStopId:N,onItemFocus:i.useCallback(x=>p(x),[p]),onItemShiftTab:i.useCallback(()=>$(!0),[]),onFocusableItemAdd:i.useCallback(()=>G(x=>x+1),[]),onFocusableItemRemove:i.useCallback(()=>G(x=>x-1),[]),children:e.jsx(M.div,{tabIndex:k||L===0?-1:0,"data-orientation":n,...f,ref:I,style:{outline:"none",...t.style},onMouseDown:D(t.onMouseDown,()=>{P.current=!0}),onFocus:D(t.onFocus,x=>{const J=!P.current;if(x.target===x.currentTarget&&J&&!k){const g=new CustomEvent(ee,mt);if(x.currentTarget.dispatchEvent(g),!g.defaultPrevented){const R=F().filter(T=>T.focusable),ne=R.find(T=>T.active),oe=R.find(T=>T.id===N),Y=[ne,oe,...R].filter(Boolean).map(T=>T.ref.current);Ie(Y,l)}}P.current=!1}),onBlur:D(t.onBlur,()=>$(!1))})})}),Te="RovingFocusGroupItem",Ce=i.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:m=!1,tabStopId:v,children:u,...y}=t,b=xe(),h=v||b,l=gt(Te,s),f=l.currentTabStopId===h,w=we(s),{onFocusableItemAdd:I,onFocusableItemRemove:j,currentTabStopId:N}=l;return i.useEffect(()=>{if(n)return I(),()=>j()},[n,I,j]),e.jsx(re.ItemSlot,{scope:s,id:h,focusable:n,active:m,children:e.jsx(M.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...y,ref:a,onMouseDown:D(t.onMouseDown,p=>{n?l.onItemFocus(h):p.preventDefault()}),onFocus:D(t.onFocus,()=>l.onItemFocus(h)),onKeyDown:D(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){l.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const k=yt(p,l.orientation,l.dir);if(k!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let S=w().filter(F=>F.focusable).map(F=>F.ref.current);if(k==="last")S.reverse();else if(k==="prev"||k==="next"){k==="prev"&&S.reverse();const F=S.indexOf(p.currentTarget);S=l.loop?bt(S,F+1):S.slice(F+1)}setTimeout(()=>Ie(S))}}),children:typeof u=="function"?u({isCurrentTabStop:f,hasTabStop:N!=null}):u})})});Ce.displayName=Te;var vt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xt(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yt(t,a,s){const n=xt(t.key,s);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vt[n]}function Ie(t,a=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:a}),document.activeElement!==s))return}function bt(t,a){return t.map((s,n)=>t[(a+n)%t.length])}var wt=je,St=Ce,q="Tabs",[jt,$t]=he(q,[Se]),ke=Se(),[Tt,ae]=jt(q),Ee=i.forwardRef((t,a)=>{const{__scopeTabs:s,value:n,onValueChange:m,defaultValue:v,orientation:u="horizontal",dir:y,activationMode:b="automatic",...h}=t,l=be(y),[f,w]=ve({prop:n,onChange:m,defaultProp:v??"",caller:q});return e.jsx(Tt,{scope:s,baseId:xe(),value:f,onValueChange:w,orientation:u,dir:l,activationMode:b,children:e.jsx(M.div,{dir:l,"data-orientation":u,...h,ref:a})})});Ee.displayName=q;var Re="TabsList",Ct=i.forwardRef((t,a)=>{const{__scopeTabs:s,loop:n=!0,...m}=t,v=ae(Re,s),u=ke(s);return e.jsx(wt,{asChild:!0,...u,orientation:v.orientation,dir:v.dir,loop:n,children:e.jsx(M.div,{role:"tablist","aria-orientation":v.orientation,...m,ref:a})})});Ct.displayName=Re;var Fe="TabsTrigger",It=i.forwardRef((t,a)=>{const{__scopeTabs:s,value:n,disabled:m=!1,...v}=t,u=ae(Fe,s),y=ke(s),b=Ae(u.baseId,n),h=ze(u.baseId,n),l=n===u.value;return e.jsx(St,{asChild:!0,...y,focusable:!m,active:l,children:e.jsx(M.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":h,"data-state":l?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:b,...v,ref:a,onMouseDown:D(t.onMouseDown,f=>{!m&&f.button===0&&f.ctrlKey===!1?u.onValueChange(n):f.preventDefault()}),onKeyDown:D(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&u.onValueChange(n)}),onFocus:D(t.onFocus,()=>{const f=u.activationMode!=="manual";!l&&!m&&f&&u.onValueChange(n)})})})});It.displayName=Fe;var De="TabsContent",Ne=i.forwardRef((t,a)=>{const{__scopeTabs:s,value:n,forceMount:m,children:v,...u}=t,y=ae(De,s),b=Ae(y.baseId,n),h=ze(y.baseId,n),l=n===y.value,f=i.useRef(l);return i.useEffect(()=>{const w=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(Ze,{present:m||l,children:({present:w})=>e.jsx(M.div,{"data-state":l?"active":"inactive","data-orientation":y.orientation,role:"tabpanel","aria-labelledby":b,hidden:!w,id:h,tabIndex:0,...u,ref:a,style:{...t.style,animationDuration:f.current?"0s":void 0},children:w&&v})})});Ne.displayName=De;function Ae(t,a){return`${t}-trigger-${a}`}function ze(t,a){return`${t}-content-${a}`}var kt=Ee,Et=Ne;function Rt({className:t,...a}){return e.jsx(kt,{"data-slot":"tabs",className:ye("flex flex-col gap-2",t),...a})}function Ft({className:t,...a}){return e.jsx(Et,{"data-slot":"tabs-content",className:ye("flex-1 outline-none",t),...a})}const Be=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),$e=t=>{const a=/^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/;return t.replace(/\s/g,"").length>=8&&a.test(t)},_e=t=>t.trim().length>=2,Dt=t=>{const a={};return _e(t.name)||(a.name="Bitte geben Sie einen gÃ¼ltigen Namen ein (mind. 2 Zeichen)"),$e(t.phone)||(a.phone="Bitte geben Sie eine gÃ¼ltige Telefonnummer ein"),Be(t.email)||(a.email="Bitte geben Sie eine gÃ¼ltige E-Mail-Adresse ein"),{valid:Object.keys(a).length===0,errors:a}},te={friday:"Fr. 16.01.",saturday:"Sa. 17.01.",sunday:"So. 18.01."},pe={friday:Array.from({length:15},(t,a)=>{const s=Math.floor(a/2)+10,n=a%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${n}`}),saturday:Array.from({length:15},(t,a)=>{const s=Math.floor(a/2)+10,n=a%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${n}`}),sunday:Array.from({length:13},(t,a)=>{const s=Math.floor(a/2)+10,n=a%2===0?"00":"30";return`${s.toString().padStart(2,"0")}:${n}`})},V="#2d62ff",ge="#f5f8ff",A={textDark:"#1f2937",textBlack:"#111827",white:"#ffffff",grayBorder:"#e5e7eb"};function _t(){const[t,a]=i.useState(!1),[s,n]=i.useState("friday"),[m,v]=i.useState(""),[u,y]=i.useState({}),[b,h]=i.useState(!1),[l,f]=i.useState(!1),[w,I]=i.useState(!1),[j,N]=i.useState(!1),[p,k]=i.useState({day:"",time:"",autoConfirmed:!0}),[$,S]=i.useState(null),[F,P]=i.useState([]),[L,G]=i.useState(2),[x,J]=i.useState({friday:!0,saturday:!0,sunday:!0}),[g,R]=i.useState({name:"",company:"",phone:"",email:"",message:""}),[ne,oe]=i.useState({}),[_,Y]=i.useState(!1),[T,Me]=i.useState(!1),[Pe,ie]=i.useState(!1),d=r=>{console.log(`[AppointmentScheduler] ${r}`),P(o=>[...o,`${new Date().toISOString()}: ${r}`])};i.useEffect(()=>{if(d("Component mounted"),a(!0),new Date>=new Date("2026-01-19T00:00:00")&&!T){ie(!0),d("Event has ended - showing end screen");return}Oe(),se()},[]);const Oe=async()=>{try{const r=await fetch(`${X}/api/admin/settings`);if(r.ok){const o=await r.json();G(o.settings.maxBookingsPerSlot||2),J(o.settings.availableDays||{friday:!0,saturday:!0,sunday:!0}),d(`Max bookings per slot: ${o.settings.maxBookingsPerSlot}`),d(`Available days: ${JSON.stringify(o.settings.availableDays)}`);const c=["friday","saturday","sunday"].find(E=>o.settings.availableDays?.[E]!==!1);c&&o.settings.availableDays?.[c]&&n(c)}}catch{d("Error loading settings, using default")}},se=async()=>{try{d("Starting fetchAvailability..."),h(!1);const r=`${X}/api/availability`;d(`Fetching from: ${r}`);const o=await fetch(r);if(d(`Response status: ${o.status} ${o.statusText}`),o.ok){const c=await o.json();d(`Received data: ${JSON.stringify(c)}`),d(`Data keys count: ${Object.keys(c).length}`),y(c),h(!0),d("Availability state updated successfully")}else{const c=await o.text();d(`Response not OK: ${c}`),S(`API Error: ${o.status}`),h(!0)}}catch(r){const o=r instanceof Error?r.message:"Unknown error";d(`Error in fetchAvailability: ${o}`),console.error("Error fetching availability:",r),S(`Fetch Error: ${o}`),h(!0)}},le=(r,o)=>{const c=`${r}-${o}`,E=u[c];return E||{booked:0,available:!0}},We=()=>{d("Simulate booking clicked"),I(!0),f(!0),setTimeout(()=>{k({day:"Fr. 16.01.",time:"10:00",autoConfirmed:!0}),I(!1),setTimeout(()=>{N(!0),f(!1),d("Simulation complete")},300)},2e3)},Le=()=>{Y(!_),d(`Full day test: ${!_}`)},ce=()=>{const r=!T;Me(r),ie(r),d(`Event ended test: ${r}`)},Ge=async r=>{if(r.preventDefault(),d("Form submitted"),!m){Q.error("Bitte wÃ¤hlen Sie einen Zeitpunkt");return}f(!0),I(!0);try{const o=await fetch(`${X}/api/book-appointment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({day:s,time:m,...g})}),c=await o.json();d(`Booking response: ${JSON.stringify(c)}`),await new Promise(E=>setTimeout(E,2e3)),o.ok?(k({day:te[s],time:m,autoConfirmed:c.autoConfirmed!==void 0?c.autoConfirmed:!0}),I(!1),setTimeout(()=>{N(!0)},300),R({name:"",company:"",phone:"",email:"",message:""}),v(""),await se()):(I(!1),Q.error(c.message||"Fehler beim Buchen"))}catch(o){I(!1);const c=o instanceof Error?o.message:"Unknown error";d(`Booking error: ${c}`),Q.error("Ein Fehler ist aufgetreten"),console.error("Booking error:",o)}finally{f(!1)}},He=()=>{d("Reset to booking"),N(!1)},Ue=()=>z.indexOf(s),Ke=r=>_?!0:b?pe[r].every(c=>!le(r,c).available):!1;if(!t)return e.jsx("div",{style:{maxWidth:"42rem",margin:"0 auto",padding:"1.5rem",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(H,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Lade Termin-Tool..."})]})});const z=Object.keys(te).filter(r=>x[r]),Ve=z.length===0;if(Pe)return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsx("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100},children:e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:ce,className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(U,{className:"w-4 h-4"}),"Stop Event End"]})}),e.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(2rem, 8vw, 4rem)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(de,{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.2)",borderRadius:"1.5rem",border:"none",overflow:"hidden",textAlign:"center",color:"#ffffff"},children:e.jsxs(me,{style:{padding:"clamp(2rem, 8vw, 4rem)"},children:[e.jsx(C.div,{animate:{rotate:[0,10,-10,10,0],scale:[1,1.1,1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},style:{fontSize:"clamp(4rem, 15vw, 6rem)",marginBottom:"clamp(1rem, 4vw, 2rem)"},children:"ðŸ‘‹"}),e.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",fontWeight:700,marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.2},children:"Vielen Dank, dass ihr dabei wart!"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 3.5vw, 1.25rem)",opacity:.95,lineHeight:1.6,maxWidth:"32rem",margin:"0 auto"},children:"Wir sehen uns im nÃ¤chsten Jahr wieder auf der Opti."}),e.jsx(C.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{marginTop:"clamp(2rem, 6vw, 3rem)",fontSize:"clamp(2rem, 8vw, 3rem)"},children:"âœ¨"})]})})})]});try{return e.jsxs("div",{style:{minHeight:"100vh",background:"transparent",position:"relative"},children:[e.jsxs("div",{style:{position:"fixed",top:"1rem",left:"1rem",zIndex:100,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:We,className:"shadow-lg hover:shadow-xl transition-all",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Buchung simulieren (Test)",children:[e.jsx(dt,{className:"w-4 h-4"}),"Test Booking"]}),e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:Le,className:"shadow-lg hover:shadow-xl transition-all",style:{background:_?"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Vollen Tag simulieren (Test)",children:[e.jsx(ue,{className:"w-4 h-4"}),_?"Stop Full Day":"Test Full Day"]}),e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:ce,className:"shadow-lg hover:shadow-xl transition-all",style:{background:T?"linear-gradient(135deg, #fa709a 0%, #fee140 100%)":"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",border:"none",color:"#ffffff",padding:"0.625rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},title:"Event beendet simulieren (Test)",children:[e.jsx(U,{className:"w-4 h-4"}),T?"Stop Event End":"Test Event End"]})]}),!1,$&&e.jsxs("div",{style:{maxWidth:"42rem",margin:"0 auto 1rem",padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",border:"1px solid #fca5a5"},children:[e.jsx("strong",{children:"Error:"})," ",$]}),e.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},style:{maxWidth:"clamp(20rem, 90vw, 42rem)",margin:"0 auto",padding:"clamp(0.75rem, 2vw, 1.5rem)"},children:e.jsx("div",{style:{position:"relative"},children:e.jsxs(de,{style:{background:"#ffffff",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",borderRadius:"1rem",border:"none",overflow:"hidden"},children:[e.jsxs(Qe,{style:{textAlign:"center",paddingBottom:"1.5rem",paddingTop:"2rem",paddingLeft:"1.5rem",paddingRight:"1.5rem"},children:[e.jsx(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:.1},children:e.jsx(ue,{style:{width:"clamp(2rem, 5vw, 2.5rem)",height:"clamp(2rem, 5vw, 2.5rem)",margin:"0 auto 0.75rem",color:"#374151"}})}),e.jsx(Xe,{style:{fontSize:"clamp(1.25rem, 4vw, 1.5rem)",fontWeight:600,color:"#111827"},children:"Termin Buchen"}),e.jsx(et,{style:{fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",color:"#6b7280",marginTop:"0.25rem"},children:"WÃ¤hlen Sie Ihren Wunschtermin"})]}),e.jsx(me,{style:{padding:"clamp(1rem, 3vw, 1.5rem)",opacity:j?0:1,pointerEvents:j?"none":"auto",transition:"opacity 0.3s ease"},children:Ve?e.jsx("div",{style:{textAlign:"center",padding:"clamp(2rem, 6vw, 3rem) clamp(1rem, 3vw, 1.5rem)",background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",borderRadius:"1rem",border:"2px solid #ef4444"},children:e.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[e.jsx("div",{style:{fontSize:"clamp(2.5rem, 8vw, 4rem)",marginBottom:"clamp(0.75rem, 2vw, 1rem)"},children:"ðŸš«"}),e.jsx("p",{style:{color:"#7f1d1d",fontSize:"clamp(1rem, 3.5vw, 1.125rem)",lineHeight:1.6,fontWeight:600,marginBottom:"clamp(0.5rem, 1.5vw, 0.75rem)"},children:"Buchung derzeit nicht mÃ¶glich"}),e.jsx("p",{style:{color:"#991b1b",fontSize:"clamp(0.875rem, 3vw, 1rem)",lineHeight:1.6},children:"Alle Termine sind momentan deaktiviert. Bitte versuchen Sie es spÃ¤ter erneut."})]})}):e.jsxs("form",{onSubmit:Ge,style:{display:"flex",flexDirection:"column",gap:"clamp(1rem, 3vw, 1.5rem)"},children:[e.jsx("div",{children:e.jsxs(Rt,{value:s,onValueChange:r=>{d(`Day changed to: ${r}`),n(r)},children:[e.jsxs("div",{style:{position:"relative",background:"#f3f4f6",borderRadius:"0.75rem",padding:"clamp(0.25rem, 1vw, 0.375rem)",isolation:"isolate"},children:[e.jsx(C.div,{style:{position:"absolute",backgroundColor:V,width:`calc(${100/z.length}% - 6px)`,zIndex:1,top:"clamp(0.25rem, 1vw, 0.375rem)",bottom:"clamp(0.25rem, 1vw, 0.375rem)",borderRadius:"0.5rem",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",pointerEvents:"none"},layoutId:"activeTab",initial:!1,animate:{left:`calc(${Ue()*(100/z.length)}% + 6px)`},transition:{type:"spring",stiffness:260,damping:20,mass:.8}}),e.jsx("div",{style:{position:"relative",display:"grid",width:"100%",gridTemplateColumns:`repeat(${z.length}, 1fr)`,zIndex:2,gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:z.map(r=>{const o=s===r;return e.jsx("button",{type:"button",onClick:()=>n(r),style:{position:"relative",fontWeight:500,borderRadius:"0.5rem",transition:"color 0.2s",background:"transparent",border:"none",cursor:"pointer",color:o?"#ffffff":"#000000",zIndex:3,fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem)"},children:te[r]},r)})})]}),z.map(r=>e.jsx(Ft,{value:r,style:{marginTop:"clamp(0.75rem, 2vw, 1rem)"},children:b?Ke(r)?e.jsx("div",{style:{textAlign:"center",padding:"clamp(2rem, 6vw, 3rem) clamp(1rem, 3vw, 1.5rem)",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"1rem",border:"2px solid #fbbf24"},children:e.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[e.jsx("div",{style:{fontSize:"clamp(2.5rem, 8vw, 4rem)",marginBottom:"clamp(0.75rem, 2vw, 1rem)"},children:"ðŸ˜Š"}),e.jsx("p",{style:{color:"#92400e",fontSize:"clamp(0.875rem, 3vw, 1rem)",lineHeight:1.6,fontWeight:500},children:"Leider sind keine freien Termine mehr fÃ¼r diesen Tag verfÃ¼gbar."}),e.jsx("p",{style:{color:"#92400e",fontSize:"clamp(0.875rem, 3vw, 1rem)",lineHeight:1.6,marginTop:"clamp(0.5rem, 1.5vw, 0.75rem)"},children:"Kommen Sie aber gerne spontan bei uns am Stand vorbei! :)"})]})}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:pe[r].map(o=>{const c=le(r,o),E=m===o,Z=!c.available;return e.jsxs("div",{style:{position:"relative"},children:[e.jsx(B,{type:"button",variant:"outline",disabled:Z,onClick:()=>{d(`Time selected: ${o}`),v(o)},style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",backgroundColor:E?V:A.white,borderColor:E?V:A.grayBorder,color:E?ge:A.textBlack,fontSize:"clamp(0.75rem, 2vw, 0.875rem)",padding:"clamp(0.5rem, 2vw, 0.625rem) clamp(0.25rem, 1vw, 0.5rem)",opacity:Z?.3:1,cursor:Z?"not-allowed":"pointer"},children:o}),c.booked>0&&e.jsxs(tt,{variant:c.booked>=L?"destructive":"secondary",style:{position:"absolute",top:"-0.25rem",right:"-0.25rem",fontSize:"10px",height:"1rem",padding:"0 0.375rem",borderRadius:"9999px",boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)",zIndex:10},children:[c.booked,"/",L]})]},o)})}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",minHeight:"200px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(H,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"VerfÃ¼gbarkeit wird geladen..."})]})})},r))]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(O,{htmlFor:"name",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(it,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Name *"]}),e.jsx(K,{id:"name",required:!0,value:g.name,onChange:r=>R({...g,name:r.target.value}),placeholder:"Max Mustermann",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:A.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.name&&!_e(g.name)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(O,{htmlFor:"company",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(rt,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Betrieb"]}),e.jsx(K,{id:"company",value:g.company,onChange:r=>R({...g,company:r.target.value}),placeholder:"Firma GmbH",style:{color:A.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2",style:{gap:"clamp(0.75rem, 2vw, 1rem)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(O,{htmlFor:"phone",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(at,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Telefon *"]}),e.jsx(K,{id:"phone",type:"tel",required:!0,value:g.phone,onChange:r=>R({...g,phone:r.target.value}),placeholder:"+49 123 456789",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:A.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.phone&&!$e(g.phone)?"#ef4444":void 0}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(O,{htmlFor:"email",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(nt,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"E-Mail *"]}),e.jsx(K,{id:"email",type:"email",required:!0,value:g.email,onChange:r=>R({...g,email:r.target.value}),placeholder:"max@example.com",className:"rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md",style:{color:A.textDark,height:"clamp(2rem, 5vw, 2.5rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",borderColor:g.email&&!Be(g.email)?"#ef4444":void 0}})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"clamp(0.25rem, 1vw, 0.375rem)"},children:[e.jsxs(O,{htmlFor:"message",className:"flex items-center",style:{gap:"clamp(0.25rem, 1vw, 0.375rem)",fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)",fontWeight:500,color:"#374151"},children:[e.jsx(st,{style:{width:"clamp(0.75rem, 2vw, 0.875rem)",height:"clamp(0.75rem, 2vw, 0.875rem)"}}),"Nachricht"]}),e.jsx(lt,{id:"message",value:g.message,onChange:r=>R({...g,message:r.target.value}),placeholder:"Ihre Nachricht...",rows:3,style:{color:A.textDark,fontSize:"clamp(0.8rem, 2.5vw, 0.875rem)"},className:"resize-none rounded-xl border-gray-200 bg-white shadow-sm focus:shadow-md"})]})]}),e.jsx("div",{children:e.jsx(B,{type:"submit",disabled:l||!m||!b||!Dt(g).valid,style:{width:"100%",fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",transition:"all 0.2s",backgroundColor:V,color:ge,height:"clamp(2.25rem, 6vw, 2.75rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",opacity:l||!m||!b?.5:1},children:e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.375rem, 1.5vw, 0.5rem)"},children:l?e.jsxs(e.Fragment,{children:[e.jsx(H,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"},className:"animate-spin"}),"Wird gebucht..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{style:{width:"clamp(0.875rem, 2.5vw, 1rem)",height:"clamp(0.875rem, 2.5vw, 1rem)"}}),"Termin buchen"]})})})})]})}),e.jsx(fe,{children:(j||w)&&e.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:j?1:0,scale:j?1:.95},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:200,damping:20},style:{position:"absolute",inset:0,zIndex:40,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"28rem",width:"100%"},children:[e.jsx(C.div,{initial:{scale:0,rotate:-180},animate:{scale:j?1:0,rotate:j?0:-180},transition:{type:"spring",stiffness:200,damping:15,delay:.2},style:{marginBottom:"clamp(1rem, 4vw, 1.5rem)"},children:e.jsx("div",{style:{width:"clamp(4rem, 15vw, 6rem)",height:"clamp(4rem, 15vw, 6rem)",margin:"0 auto",background:"#dcfce7",borderRadius:"9999px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(U,{style:{width:"clamp(2.5rem, 10vw, 3.5rem)",height:"clamp(2.5rem, 10vw, 3.5rem)",color:"#16a34a"}})})}),e.jsx("h2",{style:{fontWeight:700,color:"#111827",fontSize:"clamp(1.5rem, 5vw, 1.875rem)",marginBottom:"clamp(0.5rem, 2vw, 0.75rem)"},children:"Nice to see you!"}),e.jsx("p",{style:{color:"#6b7280",fontSize:"clamp(0.875rem, 3vw, 1rem)",marginBottom:"clamp(0.25rem, 1vw, 0.5rem)"},children:p.autoConfirmed?"Ihr Termin wurde erfolgreich gebucht!":"Ihre Terminanfrage wurde eingereicht!"}),e.jsxs("p",{style:{fontWeight:600,color:"#111827",fontSize:"clamp(1rem, 3.5vw, 1.125rem)",marginBottom:"clamp(2rem, 6vw, 3rem)"},children:[p.day," um ",p.time," Uhr"]}),!p.autoConfirmed&&e.jsx("p",{style:{color:"#9ca3af",fontSize:"clamp(0.75rem, 2.5vw, 0.875rem)",marginBottom:"clamp(1rem, 3vw, 1.5rem)",lineHeight:1.5},children:"Ihr Termin wird geprÃ¼ft und Sie erhalten in KÃ¼rze eine BestÃ¤tigung per E-Mail."}),e.jsx(B,{onClick:He,style:{fontWeight:600,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",transition:"all 0.2s",padding:"clamp(1rem, 4vw, 1.5rem) clamp(1.5rem, 6vw, 2rem)",fontSize:"clamp(0.875rem, 3vw, 1rem)",backgroundColor:"#000000",color:"#ffffff",border:"none",cursor:"pointer"},children:"Bis dann! ðŸ‘‹"})]})})}),e.jsx(fe,{children:w&&e.jsx(C.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:100,damping:25},style:{position:"absolute",inset:0,zIndex:50,background:"#ffffff",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(C.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(H,{style:{width:"4rem",height:"4rem",color:"#2563eb",margin:"0 auto 1rem"}})}),e.jsx("p",{style:{fontSize:"1.125rem",color:"#6b7280"},children:"Termin wird gebucht..."})]})})})]})})})]})}catch(r){return console.error("Render error:",r),d(`RENDER ERROR: ${r instanceof Error?r.message:"Unknown"}`),e.jsxs("div",{style:{maxWidth:"42rem",margin:"2rem auto",padding:"2rem",background:"#fee2e2",color:"#991b1b",borderRadius:"1rem",border:"2px solid #fca5a5"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Rendering Error"}),e.jsxs("p",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{children:"Error:"})," ",r instanceof Error?r.message:"Unknown error"]}),e.jsx("pre",{style:{background:"white",padding:"1rem",borderRadius:"0.5rem",overflow:"auto",fontSize:"0.75rem"},children:r instanceof Error?r.stack:"No stack trace"})]})}}export{_t as default};
